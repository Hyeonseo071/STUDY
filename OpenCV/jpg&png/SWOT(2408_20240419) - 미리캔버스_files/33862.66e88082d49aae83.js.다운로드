"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33862],{67376:function(e,n,t){t.d(n,{f:function(){return a}});var r=t(15103),o=t(48583),i=t(47197),l=t(45432);let s=(0,r.cn)(void 0),c=async()=>{if(await (0,l.v)(i.K3),!window.__MIRID||!window.__MIRID.aiImage||!window.__MIRID.imageGenerator)throw Error("스크립트 로드 실패");return window.__MIRID},a=()=>{let[e,n]=(0,o.KO)(s);return async()=>{try{if(e)return e;let t=c();return n(t),t}catch(e){return null}}}},87537:function(e,n,t){t.d(n,{g:function(){return d},u:function(){return a}});var r=t(64063),o=t.n(r),i=t(48583),l=t(95495),s=t(72701);let c=(0,l.kv)(s.qE,e=>{var n;return null===(n=null==e?void 0:e.props)||void 0===n?void 0:n.isDefaultFrame},o()),a=()=>(0,i.Dv)(c),u=(0,l.kv)(s.qE,e=>{var n;return null===(n=null==e?void 0:e.props)||void 0===n?void 0:n.colors},o()),d=()=>(0,i.Dv)(u)},37958:function(e,n,t){t.d(n,{CM:function(){return u},My:function(){return s},g$:function(){return c},s1:function(){return a},sn:function(){return l}});var r=t(733),o=t(55629),i=t(51497);let l=()=>{let e=(0,o.NL)();return(0,o.Db)(r.createOrUpdateDesignDraftroute,{onSuccess:()=>{e.invalidateQueries(["getDesignInfo"])}})},s=e=>(0,o.aM)({queryKey:i.a.fetchDesignDraft(e),queryFn:()=>(0,r.fetchDesignDraft)(e),options:{enabled:!!e}}),c=e=>{let n=(0,o.NL)();return(0,o.Db)(r.createOrUpdateDesignDraftroute,{onSuccess:()=>{e(),n.invalidateQueries(["getDesignInfo"])}})},a=()=>{let e=(0,o.NL)();return(0,o.Db)(r.updateDesignDraftDecision,{onSuccess:()=>{e.invalidateQueries(["getDesignInfo"]),e.invalidateQueries(["fetchDesignDraft"])}})},u=e=>(0,o.aM)({queryFn:()=>(0,r.fetchDesignDraftList)(e),queryKey:i.a.fetchDesignDraftList(e),options:{enabled:!!e.idx}})},70395:function(e,n,t){t.d(n,{o:function(){return s},r:function(){return l}});var r=t(733),o=t(55629),i=t(51497);let l=function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,o.aM)({queryKey:i.a.getResourceList(e),queryFn:()=>(0,r.getResourceList)(e),options:{enabled:n}})},s=()=>{let e=(0,o.NL)(),n=async n=>await e.fetchQuery({queryKey:i.a.getResourceList(n),queryFn:()=>(0,r.getResourceList)(n)});return{fetchResourceList:n}}},17195:function(e,n,t){t.d(n,{N:function(){return h}});var r=t(98964),o=t(67294),i=t(733),l=t(51207),s=t(43751),c=t(29073),a=t(94460),u=t(89080),d=t(13691),p=t(57141);let h=()=>{let{publish:e}=(0,a.j)(),{fetchDownloadExternalResource:n}=(0,s.Y)(),{fetchExternalResourceDetail:t}=(0,c.s)(),h=(0,o.useCallback)(n=>e("COMMAND_SET_DRAGGING_ITEM",n),[e]),f=(0,o.useCallback)(n=>{let{colorDtoList:t,thumbUrl:r}=n;if("svg"!==(0,d.mD)(r)){h({...n});return}e("COMMAND_GET_FRAME_THUMBNAIL",{colorDtoList:null!=t?t:[],thumbnailUrl:r},{onComplete:e=>h({...n,thumbUrl:e.thumbSrc})})},[e,h]),x=(0,o.useCallback)(r=>{let{externalResource:o,designResourceType:i}=r;if((null==o?void 0:o.editorResourceUrl)&&p.Qn.includes(i)){h({...r});return}let l=Number(null==o?void 0:o.resourceId),s=null==o?void 0:o.providerId;if(!o||!s||!(0,u.hj)(l)){console.error("providerId 혹은 resourceId가 필요");return}(async()=>{try{var c;let a=await n({designresourceType:null!==(c=o.designresourceType)&&void 0!==c?c:i,provider:s,resourceId:l,tier:o.tier});if(!(null==a?void 0:a.data))throw Error("외부 리소스 다운로드 응답 데이터 없음");let u=await t({key:a.data.key}),d={...o,editorResourceUrl:u.data.editorResourceUrl,designresourceType:i};e("COMMAND_SET_DRAGGING_ITEM",{...r,externalResource:d})}catch(e){console.error("외부 드래그 아이템을 셋팅하는데 에러가 발생",e)}})()},[n,t,e,h]),g=(0,o.useCallback)(e=>{let{designResourceType:n}=e;(0,r.EQ)(Boolean((0,l.T)(n)&&e.externalResource)).with(!0,()=>x(e)).with(!1,()=>{(0,r.EQ)(n).with(i.DesignResourceType.FRAME,()=>f(e)).otherwise(()=>h({...e}))})},[h,x,f]);return g}},65076:function(e,n,t){t.d(n,{h:function(){return l}});var r=t(52046),o=t(78751),i=t(20198);let l=()=>{let{editorProps:e}=(0,i._)(),n=()=>{let n=null==e?void 0:e.designKey,t=(0,o.hd)(),i=null!=t?t:n;return{designIdx:i?(0,r.Fx)(i):void 0}};return{getDesignIdxSnapshotValue:n}}},47946:function(e,n,t){t.d(n,{E:function(){return i},a:function(){return l}});var r=t(69523),o=t(14355);let i=async e=>{let n=(0,r.x2)().replace(/-/g,"").slice(2),t=await (0,o.tC)(e,"clear_area_".concat(n,"_MiriCanvas.png"));return t.category="OBJECT_REMOVAL_IMAGE",t},l=async e=>{let{url:n,responseUuid:t,generateOrder:i}=e,l=(0,r.x2)().replace(/-/g,"").slice(2),s="AIDrawing_".concat(l,"_").concat(t,"_").concat(i,"_MiriCanvas.png"),c=await (0,o.tC)(n+"?",s);return c.category="AI_IMAGE",c}},1068:function(e,n,t){t.d(n,{C:function(){return l},x:function(){return s}});var r=t(85893),o=t(67294);let i=(0,o.createContext)(null),l=e=>{let{children:n,callback:t}=e,l=(0,o.useRef)(new Set),s=(0,o.useRef)(new Set),c=(0,o.useRef)(0),a=(0,o.useCallback)(e=>{l.current.has(e)||s.current.has(e)||l.current.add(e)},[]),u=(0,o.useCallback)(()=>{let e=Array.from(l.current);0!==e.length&&(e.forEach(e=>{s.current.has(e)||s.current.add(e)}),l.current.clear(),c.current+=1,t(e,c.current))},[t]),d=(0,o.useMemo)(()=>({add:a,send:u}),[a,u]);return(0,r.jsx)(i.Provider,{value:d,children:n})},s=()=>{let e=(0,o.useContext)(i),n=(0,o.useCallback)(()=>{console.warn("ViewedItemContext is not provided")},[]),t=(0,o.useCallback)(()=>{console.warn("ViewedItemContext is not provided")},[]),r=(0,o.useMemo)(()=>({add:n,send:t}),[n,t]);return null===e?r:e}},25692:function(e,n,t){t.d(n,{$:function(){return i}});var r=t(67294),o=t(28863);let i=()=>{let{emit:e}=(0,o.x)(),n=(0,r.useCallback)(()=>{e("ACTION_CLICK_EYE_DROPPER",void 0)},[e]);return{sendClickEventWithEyeDropper:n}}},69110:function(e,n,t){t.d(n,{$:function(){return c}});var r=t(7297),o=t(85893),i=t(88095);function l(){let e=(0,r.Z)(["\n  height: 100%;\n"]);return l=function(){return e},e}function s(){let e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]);return s=function(){return e},e}let c=e=>{let{children:n}=e;return(0,o.jsx)(a,{children:(0,o.jsx)(u,{children:n})})},a=i.ZP.div.withConfig({componentId:"sc-42161b6d-0"})(l()),u=i.ZP.div.withConfig({componentId:"sc-42161b6d-1"})(s())},79730:function(e,n,t){t.d(n,{e:function(){return s}});var r=t(7297),o=t(85893);t(67294);var i=t(88095);function l(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: ",";\n  height: ",";\n  padding: ",";\n  ","\n"]);return l=function(){return e},e}let s=e=>{let{justifyContent:n,height:t,padding:r,children:i,gap:l}=e;return(0,o.jsx)(c,{justifyContent:null!=n?n:"flex-start",height:null!=t?t:"auto",padding:null!=r?r:"0",gap:null!=l?l:"0",children:i})},c=i.ZP.div.withConfig({componentId:"sc-378e7cf4-0"})(l(),e=>{let{justifyContent:n}=e;return n},e=>{let{height:n}=e;return n},e=>{let{padding:n}=e;return n},e=>{let{theme:n,gap:t}=e;return n.mixin.flexColGap(null!=t?t:"0px")})},70044:function(e,n,t){t.d(n,{o:function(){return I}});var r=t(7297),o=t(85893),i=t(67294),l=t(88095),s=t(43101),c=t(54692),a=t(45946),u=t(52198);function d(){let e=(0,r.Z)(["\n  position: absolute;\n  /* portal_container의 위치는 left: 0\n   * flag popup은 우측에서 16px만큼 떨어져 있어서 100vw - 320(flag popup의 width) - 16 만큼으로 위치 조정\n  */\n  left: calc(100vw - 320px - 16px);\n  top: ",";\n  display: flex;\n  padding: 20px 16px;\n  width: 320px;\n\n  border-radius: 8px;\n  background: ",";\n  box-shadow: ",";\n"]);return d=function(){return e},e}function p(){let e=(0,r.Z)(["\n  ","\n  justify-content: space-between;\n"]);return p=function(){return e},e}function h(){let e=(0,r.Z)(["\n  margin-right: 12px;\n"]);return h=function(){return e},e}function f(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return f=function(){return e},e}function x(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n  font-weight: 600;\n  line-height: 146%;\n"]);return x=function(){return e},e}function g(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n  line-height: 142%;\n  margin-top: 4px;\n  white-space: pre-wrap;\n"]);return g=function(){return e},e}function _(){let e=(0,r.Z)(["\n  display: flex;\n"]);return _=function(){return e},e}let m={INFO:"information_circle_filled",CHECK:"check_circle_filled",WARNING:"warning_circle_filled",ERROR:"warning_alt_filled"},E=a.cZ+16,I=e=>{let{title:n,description:t,iconType:r,onClose:a,children:d,popupHeight:p,popupIndex:h,useAutoTimer:f=!0,closeTime:x=3e3}=e,{token:g}=(0,l.Fg)(),_=(0,i.useCallback)(()=>{switch(r){case"INFO":return g.s_color_contents_additional;case"CHECK":return g.s_color_semantic_positive_default;case"WARNING":return g.s_color_semantic_warning_default;case"ERROR":return g.s_color_semantic_negative_default}},[r,g.s_color_contents_additional,g.s_color_semantic_negative_default,g.s_color_semantic_positive_default,g.s_color_semantic_warning_default]);return(0,i.useEffect)(()=>{let e;return f&&(e=setTimeout(()=>{a(h)},x)),()=>clearTimeout(e)},[a,h,f,x]),(0,o.jsx)(s.h,{children:(0,o.jsxs)(T,{id:u.w,topPosition:E+(8+p)*h,children:[(0,o.jsx)(v,{children:(0,o.jsx)(c.J,{width:"20px",height:"20px",color:_(),iconName:m[r]})}),(0,o.jsxs)(w,{children:[(0,o.jsxs)(C,{children:[(0,o.jsx)(b,{children:n}),(0,o.jsx)(j,{onClick:()=>a(h),children:(0,o.jsx)(c.J,{iconName:"close",width:"16px",height:"16px",color:g.c_iconButton_color_contents_neutralLight_ghost_default})})]}),Boolean(t)&&(0,o.jsx)(R,{children:t}),d]})]})})},T=l.ZP.div.withConfig({componentId:"sc-bcafd9fe-0"})(d(),e=>{let{topPosition:n}=e;return"".concat(n,"px")},e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.b_shadow_20}),C=l.ZP.div.withConfig({componentId:"sc-bcafd9fe-1"})(p(),e=>{let{theme:n}=e;return n.mixin.flexboxRowCenter()}),v=l.ZP.div.withConfig({componentId:"sc-bcafd9fe-2"})(h()),w=l.ZP.div.withConfig({componentId:"sc-bcafd9fe-3"})(f()),b=l.ZP.span.withConfig({componentId:"sc-bcafd9fe-4"})(x(),e=>{let{theme:n}=e;return n.token.s_typography_title_XS},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),R=l.ZP.p.withConfig({componentId:"sc-bcafd9fe-5"})(g(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),j=l.ZP.button.withConfig({componentId:"sc-bcafd9fe-6"})(_())},52198:function(e,n,t){t.d(n,{w:function(){return r}});let r="flag_popup"},41375:function(e,n,t){t.d(n,{g:function(){return i}});var r=t(67294),o=t(91695);let i=()=>{let e=(0,r.useContext)(o.L);if(!e)throw Error("useFlagPopup hook 을 사용하는 컴포넌트 부모에 FlagPopupProvider 를 추가해주세요!");let{openFlagPopup:n,closeFlagPopup:t}=e;return{openFlagPopup:n,closeFlagPopup:t}}},64914:function(e,n,t){t.d(n,{Dq:function(){return s},Oe:function(){return h},t0:function(){return d},wX:function(){return a}});var r=t(15103),o=t(48583),i=t(71856);let l=(0,r.cn)(i.UU),s=()=>(0,o.KO)(l),c=(0,r.cn)(i.rc),a=()=>(0,o.KO)(c),u=(0,r.cn)(i.VS),d=()=>(0,o.KO)(u),p=(0,r.cn)({...i.rc,...i.UU,...i.VS}),h=()=>(0,o.KO)(p)},71856:function(e,n,t){t.d(n,{DX:function(){return r},UU:function(){return o},VS:function(){return l},rc:function(){return i}});let r="_",o={RESIZE_BASED_ON_CENTER:"mod",MOVE_LINE_END_POINT_BASED_ON_CENTER:"mod",DELETE_ITEM:["backspace","delete"],DELETE_ITEM_IN_FRAME:["backspace","delete"],TOGGLE_UPPER_CASE:"mod_shift_k",UNGROUP:"mod_shift_g",TOGGLE_LAYER_PANEL:"mod_shift_y",TOGGLE_RULERS:"mod_alt_r",VIEW_SLIDE_SHOW:"mod_alt_p",REDO:["mod_shift_z","mod_y"],SAVE:"",SELECT_ALL_ITEMS:"mod_a",BOLD_FONT:"mod_b",ITALIC_FONT:"mod_i",UNDERLINE_FONT:"mod_u",EDIT_TEXT:"enter",CUT:"mod_x",OPTIMIZE_TEXT_MARGIN:"mod_alt_c",COPY:"mod_c",COPY_GRID:"mod_c",COPY_CELL_STYLE:"mod_shift_c",PASTE:"",DUPLICATE:"mod_d",FIND_TEXT:"mod_f",GROUP:"mod_g",CHANGE_LOCK_STATE:"mod_l",UNDO:"mod_z",BRING_TO_FRONT:["mod_alt_}","mod_alt_‘","mod_alt_]"],BRING_TO_FORWARD:"mod_]",SEND_TO_BACK:["mod_alt_{","mod_alt_“","mod_alt_["],SEND_TO_BACKWARD:"mod_[",ROTATE_CW:"mod_right",ROTATE_CCW:"mod_left",SELECT_PREVIOUS_ITEM:"shift_tab",MOVE_ITEM_TEN_PIXEL_TO_BOTTOM:"shift_down",MOVE_ITEM_TEN_PIXEL_TO_TOP:"shift_up",MOVE_ITEM_TEN_PIXEL_TO_LEFT:"shift_left",MOVE_ITEM_TEN_PIXEL_TO_RIGHT:"shift_right",MOVE_ITEM_ONE_PIXEL_TO_BOTTOM:"down",MOVE_ITEM_ONE_PIXEL_TO_TOP:"up",MOVE_ITEM_ONE_PIXEL_TO_LEFT:"left",MOVE_ITEM_ONE_PIXEL_TO_RIGHT:"right",SELECT_FRONT_CELL:"home",SELECT_BACK_CELL:"end",SELECT_TOP_CELL:"pageup",SELECT_BOTTOM_CELL:"pagedown",UNSELECT_ITEM:"escape",SELECT_NEXT_ITEM:"tab",CREATE_TEXT_ITEM:["t","shift_t"],TOGGLE_GUIDE_LINE_LOCK:"mod_alt_;",TOGGLE_GUIDE_LINE_VISIBLE:"mod_;",SCALE_UP_SCREEN:"",SCALE_DOWN_SCREEN:"",SET_ORIGIN_SCALE_SCREEN:"mod_0",START_SCREEN_MOVE_MODE:"space",APPLY_CROP:"enter",CANCEL_CROP:["escape","backspace"],MOVE_ITEM_TEN_PIXEL_TO_LEFT_IN_CROP_MODE:"shift_left",MOVE_ITEM_TEN_PIXEL_TO_RIGHT_IN_CROP_MODE:"shift_right",MOVE_ITEM_TEN_PIXEL_TO_TOP_IN_CROP_MODE:"shift_up",MOVE_ITEM_TEN_PIXEL_TO_BOTTOM_IN_CROP_MODE:"shift_down",MOVE_ITEM_ONE_PIXEL_TO_LEFT_IN_CROP_MODE:"left",MOVE_ITEM_ONE_PIXEL_TO_RIGHT_IN_CROP_MODE:"right",MOVE_ITEM_ONE_PIXEL_TO_TOP_IN_CROP_MODE:"up",MOVE_ITEM_ONE_PIXEL_TO_BOTTOM_IN_CROP_MODE:"down",COPY_PAGE:"mod_c",PASTE_PAGE:""},i={CANCEL_RESIZING_BASED_ON_CENTER:["ctrl","meta"],CANCEL_MOVING_LINE_END_POINT_BASED_ON_CENTER:["ctrl","meta"],END_SCREEN_MOVE_MODE:"space"},l={OpenRightPanel:"",SAVE:"mod_s"}},67420:function(e,n,t){t.d(n,{H:function(){return d}});var r=t(67294),o=t(29814),i=t(64914),l=t(71856),s=t(46699),c=t(13821);let a=e=>e.replace(/ctrl|mod/gi,"⌘").replace(/alt/gi,"Option"),u=e=>e.replace(/⌘|mod/gi,"Ctrl").replace(/option/gi,"Alt"),d=()=>{let[e,n]=(0,r.useState)(!1),[t]=(0,i.Oe)();(0,c.LI)(()=>{navigator&&((0,o.V5)(navigator.userAgent)?n(!0):n(!1))},[]);let d=(0,r.useCallback)(n=>{let t=n.split(l.DX).map(e=>(0,s.fl)(e)),r=t.join("+");return e?a(r):u(r)},[e]),p=(0,r.useCallback)(e=>{if(!e||"desktop"!==(0,o.l7)())return"";let n=t[e];return"string"==typeof n?d(n):d(n[0])},[t,d]);return{getShortcut:p}}},92338:function(e,n,t){t.d(n,{y:function(){return eR}});var r=t(7297),o=t(85893),i=t(88095),l=t(99363),s=t(44873),c=t(14753),a=t(13821),u=t(87396),d=t(54692),p=t(80526),h=t(76514),f=t(93047),x=t(98964),g=t(67294),_=t(733),m=t(74851),E=t(21902),I=t(20965),T=t(37882),C=t(41541),v=t(46721),w=t(43103),b=t(38690);let R=e=>{let{selectedTab:n,closePopOver:t,isEmpty:r,onClickMakeNewDeisgnButton:o,popOverGroupId:i=v.cP,searchValue:l}=e,{currentTemplateType:s}=(0,T.L)(),{enterPoint:c}=(0,b.P)(),u=(0,E.i)(),{value:d,toggle:p}=(0,a.kt)(!1),h=(0,g.useMemo)(()=>(0,x.EQ)(n).with("ALL",()=>["PX","MM","CM","IN"]).with("PRINT",()=>["MM","CM","IN"]).otherwise(()=>["PX"]),[n]),{width:f,height:R,unit:j}=(0,g.useMemo)(()=>{if(!s)return{width:0,height:0,unit:"PX"};let{width:e,height:n}=s.size,t=s.unit,r=h.some(e=>e===t);if(!r){let r=h[0];return{width:(0,I.M_)((0,I.qN)(e,t,r,m.hx),r),height:(0,I.M_)((0,I.qN)(n,t,r,m.hx),r),unit:r}}return{width:e,height:n,unit:t}},[s,h]),y=e=>{u({width:e.width,height:e.height,unit:e.unit,isCustomPageSize:!0,printType:e.purpose,templateId:e.title})},O=e=>{null==o||o(e)},P=e=>{let r=(0,C.o)({...e,purpose:"ALL"===n?_.TemplatePurpose.WEB:n}),o=(0,w.YW)("RECENTLY_USED_ALL_TEMPLATE_TYPE_LIST")||[],i=Array.from(new Set([r,...o].map(e=>JSON.stringify(e)))).map(e=>JSON.parse(e)).slice(0,6);(0,w.uN)("RECENTLY_USED_ALL_TEMPLATE_TYPE_LIST",[...i]),(0,x.EQ)(c).with("RESIZE",()=>y(r)).with("NEW_DESIGN",()=>O(r)),t()};return{selectedTab:n,width:f,height:R,unit:j,onClickApplyButton:P,enterPoint:c,isEmpty:r,unitOptions:h,popOverGroupId:i,closePopOver:t,searchValue:l,openDirectInput:d,onClickDirectInput:p,onClickMakeNewDeisgnButton:o}};var j=t(70656);function y(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ",";\n"]);return y=function(){return e},e}function O(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 10px 12px;\n  gap: 8px;\n  align-items: center;\n\n  border-radius: 8px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return O=function(){return e},e}function P(){let e=(0,r.Z)(["\n  width: 100%;\n\n  color: ",";\n  font: ",";\n"]);return P=function(){return e},e}let k=(0,a.RW)(R,e=>{let{selectedTab:n,enterPoint:t,openDirectInput:r,onClickDirectInput:i,onClickApplyButton:l,isEmpty:s,translate:c,popOverGroupId:a,theme:u,closePopOver:p,searchValue:h,onClickMakeNewDeisgnButton:x,width:g,height:_,unit:m,unitOptions:E}=e;return(0,o.jsxs)(D,{openDirectInput:r,children:[!s&&(0,o.jsxs)(A,{onClick:i,openDirectInput:r,children:[(0,o.jsx)(d.J,{width:"20px",height:"20px",iconName:"VIDEO"===n?"video":"ruler",color:u.token.s_color_contents_default}),(0,o.jsx)(S,{children:c("EDITOR.LEFT_PANEL.SEARCH_TOOL.TITLE.DIRECT_INPUT")}),(0,o.jsx)(d.J,{iconName:r?"chevron_up":"chevron_down",width:"20px",height:"20px",color:u.token.s_color_contents_default})]}),(r||s)&&(0,o.jsx)(f.F,{width:g,height:_,unit:m,onResize:l,unitOptions:E,autoFocus:r,applyButtonLabel:"NEW_DESIGN"===t?c("SHARED.POPUP.POPUP.MORE_MENU.NEW_DESIGN"):c("SHARED.REMAIN_143"),dropdownGroupId:a,getWarningText:e=>{let{min:n,max:t}=e;return c("SHARED.REMAIN_150",{min:n,max:t})}}),"PRINT"===n&&"TEMPLATE_PANEL"!==t&&""===h&&(0,o.jsx)(j.v,{closePopOver:p,onClickMakeNewDesignButton:x,enterPoint:t})]})}),D=i.ZP.div.withConfig({componentId:"sc-66ac48a9-0"})(y(),e=>{let{openDirectInput:n}=e;return n&&"8px"}),A=i.ZP.div.withConfig({componentId:"sc-66ac48a9-1"})(O(),e=>{let{theme:n}=e;return n.token.s_color_surface_lightness}),S=i.ZP.span.withConfig({componentId:"sc-66ac48a9-2"})(P(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M});var L=t(19128),N=t(95135),M=t(10989);let Z=e=>{let{searchValue:n}=e,{enterPoint:t}=(0,b.P)(),r=()=>{window.open((0,M.l)("TEMPLATE_TYPE_REQUEST"))};return{enterPoint:t,searchValue:n,onClickInquiryButton:r}};function U(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  gap: 8px;\n  padding: 40px 0px;\n\n  text-align: center;\n  font-size: 14px;\n"]);return U=function(){return e},e}function B(){let e=(0,r.Z)(["\n  color: ",";\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 22px;\n"]);return B=function(){return e},e}let F=(0,a.RW)(Z,e=>{let{enterPoint:n,searchValue:t,onClickInquiryButton:r,translate:i}=e;return(0,o.jsxs)(G,{children:[(0,o.jsxs)(W,{children:[(0,o.jsx)("p",{children:i("SHARED.REMAIN_486")}),"TEMPLATE_PANEL"!==n&&(0,o.jsx)("p",{children:i("SHARED.SHARED_31")})]}),"TEMPLATE_PANEL"===n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(W,{children:(0,o.jsx)(N.cC,{i18nKey:"SHARED.REMAIN_146",values:{keyword:t}})}),(0,o.jsx)(L.A,{text:i("SHARED.REMAIN_147"),color:"neutralLight",underline:"always",onClick:r})]})]})}),G=i.ZP.div.withConfig({componentId:"sc-25ffe27e-0"})(U()),W=i.ZP.div.withConfig({componentId:"sc-25ffe27e-1"})(B(),e=>{let{theme:n}=e;return n.token.s_color_contents_sub});var H=t(77300),V=t(48065),z=t(29814);let K=e=>{let{selectedTab:n,closePopOver:t,searchValue:r,onClickTemplateType:o,onClickAllTemplateType:i,onClickMakeNewDeisgnButton:l,popOverGroupId:s,isScrollActive:c}=e,{templateTypeList:a}=(0,H.U)(r),{isVideoTemplateEnabled:u}=(0,V.yZ)(["VIDEO_TEMPLATE"]),d=(0,g.useMemo)(()=>0===a.filter(e=>"ALL"===n||e.purpose===n).length,[a,n]),{enterPoint:p}=(0,b.P)(),h=()=>({closePopOver:t,hasSearchValue:""!==r,searchValue:r,onClickTemplateType:o,enterPoint:p,selectedTab:n}),f=()=>{null==i||i(n),t()},x=(0,z.l7)();return{enterPoint:p,selectedTab:n,closePopOver:t,searchValue:r,isEmptyTemplateTypeList:d,getCategoryProps:h,onClickTemplateType:o,onClickAllTemplateTypeButton:f,onClickMakeNewDeisgnButton:l,popOverGroupId:s,showVideoCategoryView:u&&"tablet"!==x,isScrollActive:c}};var X=t(65333),Y=t(36458),J=t(71317);let q=e=>{let{templateTypeList:n}=e,[t,r]=(0,g.useState)();return(0,g.useEffect)(()=>{let e=new Map;n.forEach((n,t)=>{let r=(null==n?void 0:n.groupId)||(null==n?void 0:n.id)||String(t);if(null==e?void 0:e.has(r)){var o;null===(o=e.get(r))||void 0===o||o.templateTypeList.push(n)}else e.set(r,{templateTypeList:[n]})}),r(e)},[n]),{templateTypeGroupList:t}},Q=e=>{let{hasSearchValue:n,closePopOver:t,searchValue:r,onClickTemplateType:o,enterPoint:i}=e,[l,s]=(0,g.useState)([]),{value:c,setValue:u}=(0,a.kt)(!0),{templateTypeList:d}=(0,H.U)(r),{templateTypeGroupList:h}=q({templateTypeList:l});return(0,g.useEffect)(()=>{let e=d.filter(e=>"PRINT"===e.purpose&&(0,p.Yb)(e.openType,"TEMPLATE_PANEL"===i?"TEMPLATE_LIST":"SHEET_SIZE")&&(0,p.yk)(e.allowedMode,"USER_MODE"));s(e),u(0===e.length)},[d,i,u]),{templateTypeGroupList:h,isEmptyTemplateTypeList:c,hasSearchValue:n,closePopOver:t,onClickTemplateType:o}};function $(){let e=(0,r.Z)(["\n  margin-top: 8px;\n"]);return $=function(){return e},e}let ee=(0,a.RW)(Q,e=>{let{templateTypeGroupList:n,isEmptyTemplateTypeList:t,hasSearchValue:r,closePopOver:i,translate:l,onClickTemplateType:s}=e;return(0,o.jsx)(o.Fragment,{children:!t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X._,{text:l("SHARED.DESIGN_RESOURCE_TYPE.PRINT"),size:"S",widthType:"fill",hierarchy:"deepThick"}),(0,o.jsx)(en,{children:n&&Array.from(null==n?void 0:n.entries()).map(e=>{let[n,t]=e,l=t.templateTypeList;return void 0===l[0].groupId?(0,o.jsx)(J.S,{templateType:l[0],closePopOver:i,onClickTemplateType:s},n):(0,o.jsx)(Y.U,{templateTypeList:l,closePopOver:i,isDefaultOpenGroup:r,onClickTemplateTypeItem:s},n)})})]})})}),en=i.ZP.div.withConfig({componentId:"sc-a4c49949-0"})($());var et=t(89080),er=t(95610);let eo=e=>{let{selectedTab:n,searchValue:t,hasSearchValue:r,closePopOver:o,onClickTemplateType:i}=e,{templateTypeGroupList:l,isEmptyTemplateTypeList:s}=(0,er.r)({selectedTab:n,searchValue:t});return{templateTypeGroupList:l,isEmptyTemplateTypeList:s,hasSearchValue:r,closePopOver:o,onClickTemplateType:i}};function ei(){let e=(0,r.Z)(["\n  margin-top: 8px;\n"]);return ei=function(){return e},e}let el=(0,a.RW)(eo,e=>{let{templateTypeGroupList:n,isEmptyTemplateTypeList:t,hasSearchValue:r,closePopOver:i,translate:l,onClickTemplateType:s}=e;return(0,o.jsx)(o.Fragment,{children:!t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X._,{text:l("SHARED.FONT_LABEL_RECENTLY"),size:"S",widthType:"fill",hierarchy:"deepThick"}),(0,o.jsx)(es,{children:!(0,et.yD)(n)&&n.map(e=>void 0===e[0].groupId?(0,o.jsx)(J.S,{templateType:e[0],closePopOver:i,onClickTemplateType:s},e[0].title):(0,o.jsx)(Y.U,{templateTypeList:e,closePopOver:i,isDefaultOpenGroup:r,onClickTemplateTypeItem:s},e[0].groupId))}),(0,o.jsx)(u.i,{paddingSize:"L"})]})})}),es=i.ZP.div.withConfig({componentId:"sc-d8ef79f2-0"})(ei()),ec=e=>{let{hasSearchValue:n,closePopOver:t,searchValue:r,onClickTemplateType:o,enterPoint:i,selectedTab:l}=e,[s,c]=(0,g.useState)([]),{value:u,setValue:d}=(0,a.kt)(!0),{templateTypeList:h}=(0,H.U)(r),{templateTypeGroupList:f}=q({templateTypeList:s});(0,g.useEffect)(()=>{let e=h.filter(e=>"VIDEO"===e.purpose&&(0,p.Yb)(e.openType,"TEMPLATE_PANEL"===i?"TEMPLATE_LIST":"SHEET_SIZE")&&(0,p.yk)(e.allowedMode,"USER_MODE"));c(e),d(0===e.length)},[h,i,d]);let x=(0,g.useCallback)(()=>{if("VIDEO"===l)return!1;if(!n)return!0;let e=h.filter(e=>"PRINT"===e.purpose);return 0!==e.length},[n,l,h]);return{templateTypeGroupList:f,isEmptyTemplateTypeList:u,hasSearchValue:n,closePopOver:t,onClickTemplateType:o,showDivider:x}};function ea(){let e=(0,r.Z)(["\n  margin-top: 8px;\n"]);return ea=function(){return e},e}let eu=(0,a.RW)(ec,e=>{let{templateTypeGroupList:n,isEmptyTemplateTypeList:t,hasSearchValue:r,closePopOver:i,translate:l,onClickTemplateType:s,showDivider:c}=e;return(0,o.jsx)(o.Fragment,{children:!t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X._,{text:l("SHARED.DESIGN_RESOURCE_TYPE.VIDEO_TEMPLATE"),size:"S",widthType:"fill",hierarchy:"deepThick"}),(0,o.jsx)(ed,{children:n&&Array.from(null==n?void 0:n.entries()).map(e=>{let[n,t]=e,l=t.templateTypeList;return void 0===l[0].groupId?(0,o.jsx)(J.S,{templateType:l[0],closePopOver:i,onClickTemplateType:s},n):(0,o.jsx)(Y.U,{templateTypeList:l,closePopOver:i,isDefaultOpenGroup:r,onClickTemplateTypeItem:s},n)})}),c()&&(0,o.jsx)(u.i,{paddingSize:"L"})]})})}),ed=i.ZP.div.withConfig({componentId:"sc-31c4bc13-0"})(ea()),ep=e=>{let{hasSearchValue:n,closePopOver:t,searchValue:r,onClickTemplateType:o,enterPoint:i,selectedTab:l}=e,[s,c]=(0,g.useState)([]),{value:u,setValue:d}=(0,a.kt)(!0),{templateTypeList:h}=(0,H.U)(r),{templateTypeGroupList:f}=q({templateTypeList:s});(0,g.useEffect)(()=>{let e=h.filter(e=>"WEB"===e.purpose&&(0,p.Yb)(e.openType,"TEMPLATE_PANEL"===i?"TEMPLATE_LIST":"SHEET_SIZE")&&(0,p.yk)(e.allowedMode,"USER_MODE"));c(e),d(0===e.length)},[h,i,d]);let x=(0,g.useCallback)(()=>{if("WEB"===l)return!1;if(!n)return!0;let e=h.filter(e=>"VIDEO"===e.purpose),t=h.filter(e=>"PRINT"===e.purpose);return 0!==e.length||0!==t.length},[n,l,h]);return{templateTypeGroupList:f,isEmptyTemplateTypeList:u,hasSearchValue:n,closePopOver:t,onClickTemplateType:o,showDivider:x}};function eh(){let e=(0,r.Z)(["\n  margin-top: 8px;\n"]);return eh=function(){return e},e}let ef=(0,a.RW)(ep,e=>{let{templateTypeGroupList:n,isEmptyTemplateTypeList:t,hasSearchValue:r,closePopOver:i,translate:l,onClickTemplateType:s,showDivider:c}=e;return(0,o.jsx)(o.Fragment,{children:!t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(X._,{text:l("SHARED.DESIGN_RESOURCE_TYPE.WEB"),size:"S",widthType:"fill",hierarchy:"deepThick"}),(0,o.jsxs)(ex,{children:[n&&Array.from(null==n?void 0:n.entries()).map(e=>{let[n,t]=e,l=t.templateTypeList;return void 0===l[0].groupId?(0,o.jsx)(J.S,{templateType:l[0],closePopOver:i,onClickTemplateType:s},n):(0,o.jsx)(Y.U,{templateTypeList:l,closePopOver:i,isDefaultOpenGroup:r,onClickTemplateTypeItem:s},n)}),c()&&(0,o.jsx)(u.i,{paddingSize:"L"})]})]})})}),ex=i.ZP.div.withConfig({componentId:"sc-2928d265-0"})(eh());function eg(){let e=(0,r.Z)(["\n  padding: ",";\n"]);return eg=function(){return e},e}function e_(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 12px;\n\n  font: ",";\n  color: ",";\n\n  border-radius: 8px;\n\n  &:hover {\n    background-color: ",";\n  }\n  cursor: pointer;\n"]);return e_=function(){return e},e}let em=(0,a.RW)(K,e=>{let{selectedTab:n,closePopOver:t,enterPoint:r,searchValue:i,isEmptyTemplateTypeList:l,getCategoryProps:s,translate:c,onClickTemplateType:a,onClickAllTemplateTypeButton:f,onClickMakeNewDeisgnButton:x,popOverGroupId:g,showVideoCategoryView:_,theme:m,isScrollActive:E}=e;return(0,o.jsxs)(eE,{selectedTab:n,isScrollActive:E,children:[l&&(0,o.jsx)(F,{searchValue:i}),"TEMPLATE_PANEL"!==r&&(""===i||l)&&(0,o.jsx)(k,{selectedTab:n,closePopOver:t,isEmpty:l,onClickMakeNewDeisgnButton:x,popOverGroupId:g,searchValue:i}),"TEMPLATE_PANEL"!==r&&""===i&&(0,o.jsx)(u.i,{paddingSize:"L"}),"TEMPLATE_PANEL"===r&&!l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(eI,{onClick:f,children:[(0,o.jsx)(d.J,{iconName:"all",width:"20px",height:"20px",color:m.token.s_color_contents_default}),c(p.Sz[n])]}),(0,o.jsx)(u.i,{paddingSize:"L"})]}),"TEMPLATE_PANEL"!==r&&(0,o.jsx)(el,{selectedTab:n,searchValue:i,closePopOver:t,hasSearchValue:""!==i,onClickTemplateType:a}),(0,o.jsx)(h.H,{value:n,caseBy:{ALL:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ef,{...s()}),_&&(0,o.jsx)(eu,{...s()}),(0,o.jsx)(ee,{...s()})]}),WEB:(0,o.jsx)(ef,{...s()}),VIDEO:(0,o.jsx)(eu,{...s()}),PRINT:(0,o.jsx)(ee,{...s()})}})]})}),eE=i.ZP.div.withConfig({componentId:"sc-2056327a-0"})(eg(),e=>{let{isScrollActive:n}=e;return n?"0px 0px 20px 20px":"0px 20px 20px 20px"}),eI=i.ZP.div.withConfig({componentId:"sc-2056327a-1"})(e_(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_color_surface_lightness});var eT=t(17937);let eC=e=>[{id:"ALL",title:e("SHARED.MAIN.RESOURCE_OPTION.ENTIRE")},{id:"WEB",title:e("SHARED.DESIGN_RESOURCE_TYPE.WEB")},{id:"VIDEO",title:e("SHARED.DESIGN_RESOURCE_TYPE.VIDEO_TEMPLATE")},{id:"PRINT",title:e("SHARED.DESIGN_RESOURCE_TYPE.PRINT")}],ev=e=>{let{width:n,enterPoint:t,closePopOver:r,onClickTemplateType:o,onClickAllTemplateType:i,onClickMakeNewDeisgnButton:l,popOverGroupId:s}=e,{translate:c}=(0,N.$G)(),{selectedTab:u,onChangeTabItem:d}=(0,a.xD)("ALL"),[p,h]=(0,g.useState)(""),{value:f,setValue:x}=(0,a.kt)(!1),{enterPoint:_,setEnterPoint:m}=(0,b.P)(),{isVideoTemplateEnabled:E}=(0,V.yZ)(["VIDEO_TEMPLATE"]);(0,g.useEffect)(()=>{m(t)},[t,m]);let I=(0,z.l7)(),T=E&&"tablet"!==I?eC(c):eC(c).filter(e=>"VIDEO"!==e.id),C=e=>{h(e)},v=(0,g.useMemo)(()=>c((0,eT.U)(null!=_?_:"TEMPLATE_PANEL",u)),[_,u,c]);return{width:n,closePopOver:r,tabItems:T,selectedTab:u,onChangeTabItem:d,searchValue:p,onChangeSearchValue:C,placeholder:v,onClickTemplateType:o,onClickAllTemplateType:i,onClickMakeNewDeisgnButton:l,popOverGroupId:s,isScrollActive:f,setIsScrollActive:x,enterPoint:_}};function ew(){let e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  /* padding: 20px 20px; */\n  width: ",";\n  height: ",";\n  height: ",";\n  max-height: 640px;\n\n  background-color: ",";\n  box-shadow: ",";\n  border-radius: 16px;\n"]);return ew=function(){return e},e}function eb(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  flex: 0;\n  padding: 20px 20px 0px 20px;\n"]);return eb=function(){return e},e}let eR=(0,a.RW)(ev,e=>{let{width:n,closePopOver:t,tabItems:r,selectedTab:i,onChangeTabItem:a,searchValue:u,onChangeSearchValue:d,placeholder:p,onClickTemplateType:h,onClickAllTemplateType:f,onClickMakeNewDeisgnButton:x,popOverGroupId:g,isScrollActive:_,setIsScrollActive:m,enterPoint:E}=e;return(0,o.jsxs)(ej,{width:n,enterPoint:E,children:[(0,o.jsxs)(ey,{children:[(0,o.jsx)(l.o,{value:u,onChangeValue:d,placeholder:p,onClear:()=>d(""),filter:!1}),(0,o.jsx)(s.O,{selectedTab:i,tabItems:r,onChangeTabItem:a,size:"M"})]}),(0,o.jsx)(c.p,{isScrollBarShown:e=>m(e),children:(0,o.jsx)(em,{selectedTab:i,closePopOver:t,searchValue:u,onClickTemplateType:h,onClickAllTemplateType:f,onClickMakeNewDeisgnButton:x,popOverGroupId:g,isScrollActive:_})})]})}),ej=i.ZP.div.withConfig({componentId:"sc-87bb6cd4-0"})(ew(),e=>{let{width:n}=e;return n?"".concat(n,"px"):"320px"},e=>{let{enterPoint:n}=e;return"TEMPLATE_PANEL"===n?"calc(100dvh - 220px)":"calc(100dvh - 128px)"},e=>{let{enterPoint:n}=e;return"TEMPLATE_PANEL"===n?"calc(100vh - 220px)":"calc(100vh - 128px)"},e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),ey=i.ZP.div.withConfig({componentId:"sc-87bb6cd4-1"})(eb())},27754:function(e,n,t){t.d(n,{q:function(){return _}});var r=t(7297),o=t(85893),i=t(88095),l=t(65333),s=t(44152),c=t(14753),a=t(21713),u=t(87396),d=t(243),p=t(95135);function h(){let e=(0,r.Z)(["\n  height: 100%;\n"]);return h=function(){return e},e}function f(){let e=(0,r.Z)(["\n  padding: 4px 12px 16px 12px;\n"]);return f=function(){return e},e}function x(){let e=(0,r.Z)([""]);return x=function(){return e},e}function g(){let e=(0,r.Z)(["\n  height: 320px;\n  padding: 16px 12px;\n"]);return g=function(){return e},e}let _=e=>{let{showDropDown:n,canEdit:t,isOpen:r,open:i,close:h,groupId:f,selectedBrandKitValue:x,brandKits:g,onChangeBrandKit:_,goToBrandKitPage:C,ContentsWrapper:v}=e,{translate:w}=(0,p.$G)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l._,{text:w("EDITOR.EDITOR_455"),widthType:"fill",textOverflow:"ellipsis"}),n?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.L,{size:"M",widthType:"fill",textOverflow:"ellipsis",open:r,onClose:h,onClick:i,groupId:f,value:x?null==x?void 0:x.name:"No selected brand kit",children:(0,o.jsxs)(v,{children:[(0,o.jsx)(m,{children:(0,o.jsx)(c.p,{children:(0,o.jsx)(T,{children:(0,o.jsx)(I,{children:null==g?void 0:g.map((e,n)=>(0,o.jsx)(a.v,{menuName:e.name,type:"menu",selected:(null==x?void 0:x.idx)===e.idx,onClick:()=>_(e.idx)},e.name+n))})})})}),(0,o.jsx)(u.i,{paddingSize:"L"}),(0,o.jsx)(E,{children:(0,o.jsx)(d.d,{disabled:!t,color:"neutralLight",iconName:"crown",onClick:C,text:w("EDITOR.EDITOR_455"),type:"fillLight",widthType:"fill"})})]})})}):(0,o.jsx)(d.d,{disabled:!t,color:"neutralLight",iconName:"crown",onClick:C,text:w("EDITOR.EDITOR_455"),type:"fillLight",widthType:"fill"})]})},m=i.ZP.div.withConfig({componentId:"sc-4efd7b24-0"})(h()),E=i.ZP.div.withConfig({componentId:"sc-4efd7b24-1"})(f()),I=i.ZP.div.withConfig({componentId:"sc-4efd7b24-2"})(x()),T=i.ZP.div.withConfig({componentId:"sc-4efd7b24-3"})(g())},86645:function(e,n,t){t.d(n,{R:function(){return l}});var r=t(67294),o=t(72701),i=t(94460);let l=()=>{let{publish:e}=(0,i.j)(),n=(0,o.xX)();n||console.warn("no identifier useResetItems.ts");let[t,l]=(0,r.useState)(!1),s=(0,r.useCallback)(t=>{if(["ThemeColor","SearchFilterColor","PageBackgroundColor"].includes(t))return!1;e("COMMAND_GET_CAN_APPLY_GRADIENT",{itemIds:n.map(e=>e.id),colorType:t},{onComplete:e=>{let{canApplyGradient:n}=e;l(n)}})},[n,e]);return{canGradient:t,canGetApplyGradient:s}}},84564:function(e,n,t){t.d(n,{w:function(){return c}});var r=t(67294),o=t(62509),i=t(94460),l=t(55448),s=t(75765);let c=e=>{let{onColorChangeCommand:n}=e,{publish:t,subscribe:c}=(0,i.j)(),{setEyeDropperMode:a}=(0,l.UB)(),{setSelectedColor:u}=(0,l.pR)(),d=(0,r.useCallback)(()=>{t("COMMAND_START_EYE_DROPPER_MODE",{}),a(!0);let e=c("EVENT_END_EYE_DROPPER_MODE",t=>{var r;let{color:i}=t;i&&(null===(r=i.value)||void 0===r?void 0:r.length)===9&&(i=(0,s.tT)(i)),(null==i?void 0:i.value)===void 0?(a(!1),null==e||e.unsubscribe()):(n(o.w.SOLID,i),a(!1),u(i),null==e||e.unsubscribe())})},[t,a,c,n,u]);return{startEyeDropperMode:d,isEyeDropperMode:(0,l.RK)()}}},27300:function(e,n,t){t.d(n,{d:function(){return r}});let r={PALETTE:"palette",COLOR_PICKER:"colorPicker"}},9077:function(e,n,t){t.d(n,{X:function(){return i}});var r=t(31454),o=t(19795);let i=()=>{let{selectedDesignResourceMenu:e}=(0,o.jq)(),{sendTemplateClickEventWith:n}=(0,r._N)(),t=t=>{let{templateIdx:r,horizontalViewSequence:o,keywordCategoryName:i,searchType:l,verticalViewSequence:s}=t;"TEMPLATE"===e&&n({key:r.toString(),horizontalViewSequence:o,keywordCategoryName:i,verticalViewSequence:s,searchType:l})};return{sendTemplateClickEvent:t}}},61881:function(e,n,t){t.d(n,{Y:function(){return p}});var r=t(7297),o=t(85893),i=t(88095),l=t(69110),s=t(66346),c=t(31835),a=t(49161);function u(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: inherit;\n\n  padding: 0px 24px 20px 24px;\n  flex-direction: column;\n  ","\n"]);return u=function(){return e},e}function d(){let e=(0,r.Z)(["\n  padding: 24px 24px 20px;\n"]);return d=function(){return e},e}let p=()=>(0,o.jsxs)(l.$,{children:[(0,o.jsx)(f,{children:(0,o.jsx)(a.e,{})}),(0,o.jsxs)(h,{children:[(0,o.jsx)(c.x,{}),(0,o.jsx)(s.A,{})]})]}),h=i.ZP.div.withConfig({componentId:"sc-ccc444e0-0"})(u(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("20px")}),f=i.ZP.div.withConfig({componentId:"sc-ccc444e0-1"})(d())},31835:function(e,n,t){t.d(n,{x:function(){return u}});var r=t(7297),o=t(85893),i=t(88095),l=t(37134);function s(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  ","\n"]);return s=function(){return e},e}function c(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return c=function(){return e},e}function a(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return a=function(){return e},e}let u=e=>{let{categoryCount:n=3}=e;return(0,o.jsx)(d,{children:Array(n).fill(0).map((e,n)=>(0,o.jsxs)(p,{children:[(0,o.jsxs)(h,{children:[(0,o.jsx)(l.c,{width:"140px",height:"20px"}),(0,o.jsx)(l.c,{width:"52px",height:"20px"})]}),(0,o.jsx)(l.c,{width:"100%",height:"120px"})]},n))})},d=i.ZP.div.withConfig({componentId:"sc-4420b28d-0"})(s(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("20px")}),p=i.ZP.div.withConfig({componentId:"sc-4420b28d-1"})(c(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("8px")}),h=i.ZP.div.withConfig({componentId:"sc-4420b28d-2"})(a())},57593:function(e,n,t){t.r(n),t.d(n,{TemplateLanguageChipView:function(){return f}});var r=t(7297),o=t(85893),i=t(88095),l=t(35822),s=t(73546),c=t(14004),a=t(31454),u=t(82860),d=t(15093),p=t(16648);function h(){let e=(0,r.Z)(["\n  flex-shrink: 0;\n"]);return h=function(){return e},e}let f=()=>{let{currentLanguage:e}=(0,d.U)(),{searchLanguage:n,setSearchLanguage:t}=(0,p.V)(),{sendTemplateSearchEventWith:r}=(0,a.Lm)(),{sendActionClickTemplateSearchLanguageButtonEvent:i}=(0,a._K)(),{resetViewedEvent:h}=(0,c.m)();return(0,o.jsx)(l.l,{height:"32px",showScrollbar:!1,showSlideButton:!0,children:[e,...(0,u.vH)().filter(n=>n!==e)].map(e=>(0,o.jsx)(x,{children:(0,o.jsx)(s.Y,{type:"fill",text:(0,u.PN)(e),state:n===e?"selected":"default",clickEffect:!0,onClick:()=>{t(e),r({searchType:"기타"}),i(),h()}})},e))})},x=i.ZP.div.withConfig({componentId:"sc-a162ff91-0"})(h())},75673:function(e,n,t){t.d(n,{o:function(){return a}});var r=t(67294),o=t(8639),i=t(51055),l=t(97169),s=t(18103),c=t(28312);let a=()=>{let{openPopup:e,closePopup:n}=(0,i.B)(),{openSignInModal:t}=(0,l.N)(),a=(0,r.useCallback)(()=>{e({id:o.U.FREE_SUBSCRIPTION,component:s.U,props:{onClose:()=>{t(c.X.LOGIN),n(o.U.FREE_SUBSCRIPTION)},onClickApplyButton:()=>{t(c.X.LOGIN),n(o.U.FREE_SUBSCRIPTION)}}})},[n,e,t]);return{openFreeSubscriptionPopup:a}}},3356:function(e,n,t){t.d(n,{A:function(){return l}});var r=t(15103),o=t(48583);let i=(0,r.cn)(!1),l=()=>{let[e,n]=(0,o.KO)(i);return{isChartDataEditing:e,setIsChartDataEditing:n}}},33862:function(e,n,t){t.r(n),t.d(n,{DesktopRootView:function(){return If}});var r=t(7297),o=t(85893),i=t(88095),l=t(4375),s=t(43101),c=t(67294),a=t(54692);let u=(0,c.createContext)({}),d=()=>{let e=(0,c.useContext)(u);if(!e)throw Error("useNotificationPopupContext must be used within a NotificationPopupContextProvider");return e},p=e=>{let{children:n}=e,{onClose:t}=d();return n({onClose:t})},h=e=>{let{children:n,onClose:t}=e;return(0,o.jsx)(u.Provider,{value:{onClose:t},children:n})};var f=t(94771);function x(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: ",";\n"]);return x=function(){return e},e}let g=e=>{let{align:n="left",label:t,...r}=e;return(0,o.jsx)(_,{align:n,children:(0,o.jsx)(f.zx,{size:"S",type:"fillLight",color:"neutralDeep",shape:"square",...r,children:t})})},_=i.ZP.div.withConfig({componentId:"sc-15b12bca-0"})(x(),e=>{let{align:n}=e;return"left"===n?"flex-start":"flex-end"});function m(){let e=(0,r.Z)(["\n  min-height: 0;\n  overflow: hidden;\n  border-radius: 8px;\n  background: ",";\n  box-shadow: ",";\n"]);return m=function(){return e},e}function E(){let e=(0,r.Z)(["\n  display: grid;\n  column-gap: 12px;\n  row-gap: 4px;\n  grid-template-columns: 1fr 20px;\n  grid-template-areas:\n    'title close'\n    'content content';\n  padding: 20px;\n\n  &[data-has-icon='true'] {\n    padding-left: 16px;\n    grid-template-columns: 20px 1fr 20px;\n    grid-template-areas:\n      'icon title close'\n      'icon content content';\n  }\n"]);return E=function(){return e},e}function I(){let e=(0,r.Z)(["\n  display: grid;\n  width: 320px;\n"]);return I=function(){return e},e}function T(){let e=(0,r.Z)(["\n  grid-area: title;\n  font: ",";\n  color: ",";\n  flex: 1;\n  min-width: 0;\n  word-break: break-word;\n"]);return T=function(){return e},e}function C(){let e=(0,r.Z)(["\n  grid-area: content;\n  display: flex;\n  font: ",";\n  color: ",";\n  flex-direction: column;\n  gap: 16px;\n  word-break: break-word;\n"]);return C=function(){return e},e}function v(){let e=(0,r.Z)(["\n  grid-area: icon;\n"]);return v=function(){return e},e}function w(){let e=(0,r.Z)(["\n  grid-area: close;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  color: ",";\n  cursor: pointer;\n\n  & > * {\n    cursor: pointer;\n  }\n"]);return w=function(){return e},e}let b={normal:"s_color_contents_additional",warning:"s_color_semantic_warning_default",success:"s_color_semantic_positive_default",info:"s_color_semantic_info_default",error:"s_color_semantic_negative_default",accent:"s_color_brand_primary_default"},R=e=>{let{title:n,children:t,onClose:r,type:l="normal",iconName:s,showCloseButton:c=Boolean(r),...u}=e,{token:d}=(0,i.Fg)();return(0,o.jsx)(h,{onClose:r,children:(0,o.jsx)(O,{role:"status",tabIndex:0,...u,children:(0,o.jsx)(j,{children:(0,o.jsxs)(y,{"data-has-icon":Boolean(s),children:[s&&(0,o.jsx)(D,{children:(0,o.jsx)(a.J,{iconName:s,width:"20px",height:"20px",color:d[b[l]]})}),(0,o.jsx)(P,{children:n}),c&&r&&(0,o.jsx)(A,{"aria-label":"Close",onClick:r,children:(0,o.jsx)(a.J,{iconName:"close",width:"16px",height:"16px",color:"neutralLight"})}),(0,o.jsx)(k,{children:t})]})})})})},j=i.ZP.div.withConfig({componentId:"sc-3e392f9d-0"})(m(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.b_shadow_20}),y=i.ZP.div.withConfig({componentId:"sc-3e392f9d-1"})(E()),O=i.ZP.div.withConfig({componentId:"sc-3e392f9d-2"})(I()),P=i.ZP.span.withConfig({componentId:"sc-3e392f9d-3"})(T(),e=>{let{theme:n}=e;return n.token.s_typography_title_XS},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),k=i.ZP.div.withConfig({componentId:"sc-3e392f9d-4"})(C(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),D=i.ZP.i.withConfig({componentId:"sc-3e392f9d-5"})(v()),A=i.ZP.button.withConfig({componentId:"sc-3e392f9d-6"})(w(),e=>{let{theme:n}=e;return n.token.c_iconButton_color_contents_neutralLight_ghost_default}),S=Object.assign(R,{Action:g,Trigger:p});function L(){let e=(0,r.Z)(["\n      transition: transform ","ms ease-in-out,\n        margin-bottom ","ms ease-in-out,\n        opacity ","ms ease-in-out,\n        grid-template-rows ","ms ease-in-out;\n    "]);return L=function(){return e},e}function N(){let e=(0,r.Z)(["\n  @media (prefers-reduced-motion: no-preference) {\n    ","\n  }\n\n  grid-template-rows: 0fr;\n  transform: translateX(100%);\n  opacity: 0;\n\n  &[data-animation='opened'] {\n    grid-template-rows: 1fr;\n    transform: translateX(0%);\n    margin-bottom: 12px;\n    opacity: 1;\n  }\n"]);return N=function(){return e},e}S.displayName="NotificationPopup";let M=e=>{let{animationDuration:n=300,animationState:t,...r}=e,[i,l]=(0,c.useState)("closed");return(0,c.useEffect)(()=>{l(t)},[t]),(0,o.jsx)(Z,{...r,forwardedAs:"li",$animationDuration:n,"data-animation":i})},Z=(0,i.ZP)(S).withConfig({componentId:"sc-e7f6487f-0"})(N(),e=>{let{$animationDuration:n}=e;return(0,i.iv)(L(),n,n,n,n)}),U=new class{constructor(e={duration:0,animationDuration:300,maxCount:1}){var n=this;this.constants=e,this.listeners=new Set,this.items=[],this.count=0,this.timeoutMap=new Map,this.subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),this.publish=e=>{this.listeners.forEach(n=>n(e))},this.addOrReplace=e=>{let n=this.items.findIndex(n=>n.id===e.id),t={...e,animationState:"opened"};n<0?this.items.push(t):this.items[n]=t,this.publish(t)},this.close=e=>{let n=this.items.findIndex(n=>n.id===e);if(n<0)return Promise.resolve();let[t]=this.items.splice(n,1);return t.animationDuration?(this.publish({...t,animationState:"closing"}),new Promise(n=>{setTimeout(()=>{this.publish({...t,animationState:"closed"}),this.timeoutMap.delete(e),n()},t.animationDuration)})):(this.publish({...t,animationState:"closed"}),this.timeoutMap.delete(e),Promise.resolve())},this.closeAll=()=>{let e=this.items.map(e=>this.close(e.id));return Promise.all(e)},this.closeUntilMaxCount=()=>{for(;this.items.length&&this.items.length>=this.constants.maxCount;)this.close(this.items[0].id)},this.autoCloseAfter=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.constants.duration;n.timeoutMap.has(e)&&clearTimeout(n.timeoutMap.get(e));let r=setTimeout(()=>{n.close(e)},t);n.timeoutMap.set(e,r)},this.resetTimeout=e=>{let n=this.items.find(n=>n.id===e);n&&this.autoCloseAfter(e,n.duration)},this.open=e=>{let{id:n,duration:t=this.constants.duration,animationDuration:r=this.constants.animationDuration,...o}=e,i=void 0!==n?n:this.count++;this.closeUntilMaxCount();let l=()=>this.close(i);return this.addOrReplace({...o,duration:t,animationDuration:r,id:i,onClose:l}),t>0&&this.autoCloseAfter(i,t),l}}}({maxCount:5,duration:3e3,animationDuration:300}),B={subscribe:U.subscribe,open:U.open,close:U.close,closeAll:U.closeAll,resetTimeout:U.resetTimeout,normal:e=>U.open({type:"normal",iconName:"information_circle_filled",...e}),accent:e=>U.open({type:"accent",iconName:"information_circle_filled",...e}),info:e=>U.open({type:"info",iconName:"information_circle_filled",...e}),warning:e=>{let{altIcon:n=!1,...t}=e;return U.open({type:"warning",iconName:n?"warning_alt_filled":"warning_circle_filled",...t})},success:e=>U.open({type:"success",iconName:"check_circle_filled",...e}),error:e=>{let{altIcon:n=!1,...t}=e;return U.open({type:"error",iconName:n?"warning_alt_filled":"warning_circle_filled",...t})}};var F=t(23115);let G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,t]=(0,c.useState)(e),r=(0,c.useCallback)(e=>{t(n=>[...n,e])},[]),o=(0,c.useCallback)(e=>{t(n=>n.filter(n=>!e(n)))},[]),i=(0,c.useCallback)((e,n)=>{t(t=>t.map(t=>e(t)?n:t))},[]),l=(0,c.useCallback)((e,n)=>{t(t=>t.some(e)?t.map(t=>e(t)?n:t):[...t,n])},[]);return{array:n,add:r,remove:o,replace:i,addOrReplace:l}},W=()=>{let{array:e,remove:n,addOrReplace:t}=G([]),r=(0,c.useRef)(e);r.current=e;let o=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let e=B.subscribe(e=>{if("closed"===e.animationState){n(n=>n.id===e.id);return}e.closeOnClickOutside&&o.current&&!r.current.some(n=>n.id===e.id)&&(0,F.IQ)(o.current,()=>void B.close(e.id),{once:!0}),t(n=>n.id===e.id,e)});return()=>{e()}},[t,n]),{notifications:e,containerRef:o}};function H(){let e=(0,r.Z)(["\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n"]);return H=function(){return e},e}let V=e=>{let{notifications:n,containerRef:t}=W();return(0,o.jsx)(s.h,{children:(0,o.jsx)(z,{ref:t,...e,tabIndex:-1,children:n.map(e=>{let{id:n,content:t,action:r,onClose:i,animationState:l,...s}=e;return(0,o.jsxs)(M,{animationState:l,onClose:()=>B.close(n).then(i),...s,children:[t,r&&(0,o.jsx)(S.Action,{...r})]},n)})})})},z=i.ZP.ol.withConfig({componentId:"sc-fe8ef5f4-0"})(H()),K={targetMap:{BACKGROUND_REMOVAL:null,OBJECT_REMOVAL:{imageElement:null,brushCanvasElement:null},UPSCALE:null}},X=(0,c.createContext)({state:K,dispatch:()=>null}),Y=(e,n)=>"SET_OBJECT_REMOVAL_TARGET"===n.type?(e.targetMap.OBJECT_REMOVAL=n.objectRemovalTarget,{...e}):e,J=e=>{let{children:n}=e,[t,r]=(0,c.useReducer)(Y,K);return(0,o.jsx)(X.Provider,{value:{state:t,dispatch:r},children:n})};var q=t(1123),Q=t(13821),$=t(14861),ee=t(42981),en=t(47946),et=t(95135),er=t(78126),eo=t(10777),ei=t(83671),el=t(99855),es=t(98964),ec=t(15103),ea=t(48583),eu=t(95495),ed=t(98544);let ep=(0,ec.cn)([]),eh=(0,ec.cn)([]),ef=(0,eu.PU)(ep),ex=(0,eu.PU)(eh),eg=()=>(0,ed.k)().get(ep),e_=()=>(0,ed.k)().get(eh),em=()=>{let[e,n]=(0,ea.KO)(ef),t=(0,ea.b9)(ep),r=()=>n({type:"remove",atom:e[e.length-1]}),o=e=>{n({type:"insert",value:e})},i=()=>{t([])};return{redoHistoryAtoms:e,removeLastRedoHistory:r,addRedoHistory:o,clearRedoHistory:i}},eE=()=>{let[e,n]=(0,ea.KO)(ex),t=(0,ea.b9)(eh),r=()=>n({type:"remove",atom:e[e.length-1]}),o=e=>{n({type:"insert",value:e})},i=()=>{t([])};return{undoHistoryAtoms:e,removeLastUndoHistory:r,addUndoHistory:o,clearUndoHistory:i}},eI=e=>{let{target:n,lastHistoryInfo:t}=e,{brushCanvasElement:r,imageElement:o}=n;if(!r||!o)return;o.src=t.imageInfo.url;let{brushCanvasDataUrl:i}=t.canvasInfo,l=new Image;l.src=i,l.onload=()=>{var e,n;null===(e=r.getContext("2d"))||void 0===e||e.clearRect(0,0,r.width,r.height),null===(n=r.getContext("2d"))||void 0===n||n.drawImage(l,0,0,r.width,r.height)}},eT=()=>{let{state:e}=(0,c.useContext)(X),{targetMap:n}=e,{removeLastRedoHistory:t,addRedoHistory:r,redoHistoryAtoms:o,clearRedoHistory:i}=em(),{removeLastUndoHistory:l,addUndoHistory:s,undoHistoryAtoms:a}=eE(),u=()=>{let e=e_().pop();if(!e)return;l();let t=e.toolType;(0,es.EQ)(t).with("OBJECT_REMOVAL",()=>{eI({target:n.OBJECT_REMOVAL,lastHistoryInfo:e.undoInfo})}),r(e)},d=()=>{let e=eg().pop();if(!e)return;t();let r=e.toolType;(0,es.EQ)(r).with("OBJECT_REMOVAL",()=>{eI({target:n.OBJECT_REMOVAL,lastHistoryInfo:e.redoInfo})}),s(e)},p=0===a.length,h=0===o.length,f=e=>{s(e),i()};return{undo:u,redo:d,isEmptyUndoHistory:p,isEmptyRedoHistory:h,saveNewHistory:f}},eC=e=>{let{target:n}=e,{saveNewHistory:t}=eT(),r=async e=>{var r;let{brushCanvasElement:o,imageElement:i}=n;if(!o||!i)return;let l={imageInfo:{url:i.src,width:i.width,height:i.height},canvasInfo:{brushCanvasDataUrl:o.toDataURL("image/png")}};i.src=(0,F.V2)(await (0,F.Fd)(e)).toDataURL("image/png"),await i.decode(),null===(r=o.getContext("2d"))||void 0===r||r.clearRect(0,0,o.width,o.height);let s={toolType:"OBJECT_REMOVAL",redoInfo:{imageInfo:{url:e,width:l.imageInfo.width,height:l.imageInfo.height},canvasInfo:{brushCanvasDataUrl:o.toDataURL("image/png")}},undoInfo:l};t(s)},o=e=>{var r;let{brushCanvasElement:o,imageElement:i}=n;if(!o||!i)return;let l={imageInfo:{url:i.src,width:i.width,height:i.height},canvasInfo:{brushCanvasDataUrl:o.toDataURL("image/png")}};i.src=e,null===(r=o.getContext("2d"))||void 0===r||r.clearRect(0,0,o.width,o.height);let s={toolType:"OBJECT_REMOVAL",redoInfo:{imageInfo:{url:e,width:l.imageInfo.width,height:l.imageInfo.height},canvasInfo:{brushCanvasDataUrl:o.toDataURL("image/png")}},undoInfo:l};t(s)},i=async()=>{let{imageElement:e}=n;if(e)return await (0,en.E)(e.src)};return{updateObjectRemovalCanvas:r,initObjectRemovalTarget:o,transformTargetToUploadFile:i}},ev=()=>{let e=(0,ei.b)("COMMAND_APPLY_PHOTO_EXTRA_EDIT_TOOL"),n=(0,ei.b)("COMMAND_CHANGE_PHOTO_EXTRA_EDIT_STATUS"),{state:t}=(0,c.useContext)(X),{targetMap:r}=t,{transformTargetToUploadFile:o}=eC({target:r.OBJECT_REMOVAL}),{handleFileUpload:i}=(0,el.F)(),l=async t=>{await n({itemId:t,toolType:"OBJECT_REMOVAL",status:"RUNNING"});let r=await o();r&&i({files:[r],onUploadSuccess:n=>{e({itemId:t,toolType:"OBJECT_REMOVAL",srcImageInfo:{url:n[0].originUrl,userFileType:n[0].type,userFileKey:n[0].fileKey}})}})},s=async e=>{await n({itemId:e,toolType:"OBJECT_REMOVAL",status:"RUNNING"})},a=async n=>{let{file:t,itemId:r}=n;i({files:[t],onUploadSuccess:n=>{e({itemId:r,toolType:"OBJECT_REMOVAL",srcImageInfo:{url:n[0].originUrl,userFileType:n[0].type,userFileKey:n[0].fileKey}})}})};return{applyPhotoExtraEditToolToPhotoItem:l,waitOnMainEditor:s,onFinishWaitOnMainEditor:a}};var ew=t(73631);let eb=()=>{let{translate:e}=(0,et.$G)(),{waitOnMainEditor:n}=ev(),{closePhotoExtraEditor:t}=(0,eo.e)(),{clearRedoHistory:r}=em(),{clearUndoHistory:i}=eE(),l=l=>{setTimeout(()=>B.open({id:"OBJECT_REMOVAL_START",type:"normal",duration:6e3,iconName:"information_circle_filled",title:e("EDITOR.EDITOR_427"),content:(0,o.jsxs)(o.Fragment,{children:[e("EDITOR.EDITOR_423"),(0,o.jsx)(S.Action,{label:e("EDITOR.EDITOR_424"),onClick:()=>{var e;let o=(0,eo.a)(l),s=null===(e=(0,ew.Q)(l))||void 0===e?void 0:e.isPending;o&&s&&n(l),i(),r(),t(),B.close("OBJECT_REMOVAL_START")}})]})}),3e3)},s=()=>{B.open({id:"OBJECT_REMOVAL_SUCCESS",type:"normal",duration:6e3,iconName:"information_circle_filled",title:e("EDITOR.EDITOR_428"),content:(0,o.jsx)(o.Fragment,{children:e("EDITOR.EDITOR_414")})})};return{openSuccessNotificationPopup:s,openStartNotificationPopup:l}};var eR=t(67376);let ej=()=>{let e=(0,eR.f)(),n=async n=>{let t=await e();if(t)return t.imageGenerator.eraseArea(n)};return{eraseArea:n}},ey=e=>{let n=document.createElement("canvas");return n.width=e.width,n.height=e.height,e.toDataURL()==n.toDataURL()};var eO=t(13691);let eP=async e=>{let{originalImageUrl:n,maskingCanvasElement:t}=e,r=new Image;r.src=n,await r.decode();let o=t.toDataURL("image/png"),i=new Image;i.src=o,await i.decode();let l=document.createElement("canvas");l.width=r.naturalWidth,l.height=r.naturalHeight;let s=l.getContext("2d");if(s)return s.fillStyle="white",s.fillRect(0,0,r.naturalWidth,r.naturalHeight),s.globalCompositeOperation="destination-in",s.drawImage(i,0,0,r.naturalWidth,r.naturalHeight),s.fillStyle="black",s.globalCompositeOperation="destination-over",s.fillRect(0,0,r.naturalWidth,r.naturalHeight),s.globalCompositeOperation="source-over",await (0,eO.pX)(l.toDataURL("image/png"))};var ek=t(46934);let eD=e=>{let{target:n}=e,{onSendRequest:t,onSuccessResult:r,onErrorRequest:o,onErrorResult:i}=(0,ew.C)(),{eraseArea:l}=ej(),{onFinishWaitOnMainEditor:s}=ev(),{user:c,selectedTeam:a}=(0,$.x)(),{openStartNotificationPopup:u,openSuccessNotificationPopup:d}=eb(),p=!!(0,ee.R)(null==a?void 0:a.idx,"AI_DRAWING"),{openSnackbar:h}=(0,er.D)(),{translate:f}=(0,et.$G)(),{updateObjectRemovalCanvas:x,transformTargetToUploadFile:g}=eC({target:n}),_=async e=>{let{resultUrl:n,itemId:t}=e;if((0,eo.a)(t))await x(n);else{let e=await (0,en.E)(n);await s({file:e,itemId:t})}r(t),d()},m=async e=>{let{lastResultFile:n,itemId:t}=e;if((0,eo.a)(t)){h({text:f("EDITOR.EDITOR_438"),semantic:"error"}),i(t);return}n&&await s({file:n,itemId:t}),i(t)},E=async e=>{var r,i,s,a;let{initialImageUrl:d,itemId:x}=e;if(!x||(null===(r=(0,ew.Q)(x))||void 0===r?void 0:r.isPending)||!p||!x)return;let E=d!==(null===(i=n.imageElement)||void 0===i?void 0:i.src)?await g():void 0,I=null===(s=n.imageElement)||void 0===s?void 0:s.src,{brushCanvasElement:T}=n;if(!T||ey(T)){h({text:f("EDITOR.EDITOR_426"),semantic:"normal"});return}if(!I)return;let C=await eP({originalImageUrl:I,maskingCanvasElement:T});if(!C)return;u(x);let v=await (0,eO.pX)(I),w=Date.now()+(0,ek.xT)({min:1,max:1e6});t({requestKey:w,toolType:"OBJECT_REMOVAL",itemId:x}),await l({auth:{userId:null!==(a=null==c?void 0:c.accountId)&&void 0!==a?a:"",paid:p},originalImageFile:v,maskingImageFile:C,success:e=>{var n;let{imageUrl:t}=e;(null===(n=(0,ew.Q)(x))||void 0===n?void 0:n.requestKey)===w&&_({resultUrl:t,itemId:x})},error:()=>{var e;(null===(e=(0,ew.Q)(x))||void 0===e?void 0:e.requestKey)===w&&m({lastResultFile:E,itemId:x})}}).catch(()=>{o(x)})};return{removeObject:E}},eA=e=>{let{response:n,initialImageUrl:t,itemId:r}=e,{state:o}=(0,c.useContext)(X),{targetMap:i}=o,{removeObject:l}=eD({target:i.OBJECT_REMOVAL}),s=()=>l({initialImageUrl:t,itemId:r});return{removeObject:s,isPending:n.isPending}},eS=(0,Q.RW)(eA,e=>{let{translate:n,removeObject:t,isPending:r}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(q.Jr,{size:"M",type:"fill",widthType:"fill",color:"primary",shape:"square",text:n("EDITOR.REMAIN_348"),onClick:t,loading:r})})});var eL=t(87140),eN=t(53968),eM=t(54925);let eZ=e=>{let{colorTokenKey:n}=e,{token:t}=(0,i.Fg)(),r=String(t[n]);return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"8",viewBox:"0 0 16 8",fill:"none",children:(0,o.jsx)("path",{d:"M8 0L0 8H16L8 0Z",fill:r})})};function eU(){let e=(0,r.Z)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return eU=function(){return e},e}function eB(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 16px;\n  flex-direction: column;\n  align-items: flex-start;\n  ",";\n  border-radius: ",";\n  background: ",";\n"]);return eB=function(){return e},e}function eF(){let e=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  width: 100%;\n  column-gap: 8px;\n"]);return eF=function(){return e},e}function eG(){let e=(0,r.Z)(["\n  grid-column: ",";\n  display: flex;\n  padding: 0 5px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1 0 0;\n"]);return eG=function(){return e},e}let eW=e=>{let{column:n,order:t,children:r}=e;return(0,o.jsxs)(eH,{children:[(0,o.jsx)(ez,{$column:n,children:(0,o.jsx)(eK,{$order:t,children:(0,o.jsx)(eZ,{colorTokenKey:"s_color_background_canvas"})})}),(0,o.jsx)(eV,{children:r})]})},eH=i.ZP.div.withConfig({componentId:"sc-a4ba390e-0"})(eU()),eV=i.ZP.div.withConfig({componentId:"sc-a4ba390e-1"})(eB(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("10px")},e=>{let{theme:n}=e;return n.token.b_size_static_40},e=>{let{theme:n}=e;return n.token.s_color_background_canvas}),ez=i.ZP.div.withConfig({componentId:"sc-a4ba390e-2"})(eF(),e=>{let{$column:n}=e;return n}),eK=i.ZP.div.withConfig({componentId:"sc-a4ba390e-3"})(eG(),e=>{let{$order:n}=e;return n});var eX=t(60265);let eY=e=>{let{state:n,color:t}=e,r=(0,i.Fg)(),l=String(r.token[t.lightness[n]]),s=String(r.token[t.medium[n]]),c=String(r.token[t.background[n]]);return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_263_25388)",children:[(0,o.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:l}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H40V40L29.8995 29.8995C32.433 27.366 34 23.866 34 20C34 12.268 27.732 6 20 6C16.134 6 12.634 7.567 10.1005 10.1005L0 0Z",fill:s}),(0,o.jsx)("path",{d:"M15 20.25C15 19.8358 15.3358 19.5 15.75 19.5H24.75C25.1642 19.5 25.5 19.8358 25.5 20.25C25.5 20.6642 25.1642 21 24.75 21H15.75C15.3358 21 15 20.6642 15 20.25Z",fill:s}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 30.5C25.799 30.5 30.5 25.799 30.5 20C30.5 14.201 25.799 9.5 20 9.5C14.201 9.5 9.5 14.201 9.5 20C9.5 25.799 14.201 30.5 20 30.5ZM20 32C26.6274 32 32 26.6274 32 20C32 13.3726 26.6274 8 20 8C13.3726 8 8 13.3726 8 20C8 26.6274 13.3726 32 20 32Z",fill:s})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_263_25388",children:(0,o.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:c})})})]})},eJ=e=>{let{state:n,color:t}=e,r=(0,i.Fg)(),l=String(r.token[t.lightness[n]]),s=String(r.token[t.medium[n]]),c=String(r.token[t.background[n]]);return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_54_129764)",children:[(0,o.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:l}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H40V40L29.8995 29.8995C27.366 32.433 23.866 34 20 34C12.268 34 6 27.732 6 20C6 16.134 7.567 12.634 10.1005 10.1005L0 0Z",fill:s}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19.5V15.75C21 15.3358 20.6642 15 20.25 15C19.8358 15 19.5 15.3358 19.5 15.75V19.5H15.75C15.3358 19.5 15 19.8358 15 20.25C15 20.6642 15.3358 21 15.75 21H19.5V24.75C19.5 25.1642 19.8358 25.5 20.25 25.5C20.6642 25.5 21 25.1642 21 24.75V21H24.75C25.1642 21 25.5 20.6642 25.5 20.25C25.5 19.8358 25.1642 19.5 24.75 19.5H21Z",fill:c}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 30.5C25.799 30.5 30.5 25.799 30.5 20C30.5 14.201 25.799 9.5 20 9.5C14.201 9.5 9.5 14.201 9.5 20C9.5 25.799 14.201 30.5 20 30.5ZM20 32C26.6274 32 32 26.6274 32 20C32 13.3726 26.6274 8 20 8C13.3726 8 8 13.3726 8 20C8 26.6274 13.3726 32 20 32Z",fill:c})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_54_129764",children:(0,o.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:c})})})]})};var eq=t(76514);let eQ={enable:"s_color_surface_medium_light",selected:"s_color_brand_primary_light",disable:"s_color_surface_medium_light"},e$={enable:"s_color_surface_lightness",selected:"s_color_brand_primary_background",disable:"s_color_surface_lightness"},e0={enable:"s_color_background_default",selected:"s_color_background_default",disable:"s_color_background_default"},e1=e=>{let{state:n,iconType:t}=e;return{state:n,iconType:t,objectRemovalColorPalette:{medium:eQ,lightness:e$,background:e0}}},e4=(0,Q.RW)(e1,e=>{let{state:n,iconType:t,objectRemovalColorPalette:r}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(eq.H,{value:t,caseBy:{deselect:(0,o.jsx)(eY,{state:n,color:r}),select:(0,o.jsx)(eJ,{state:n,color:r})}})})});var e2=t(19128),e3=t(87258),e5=t(22013),e8=t(65076),e7=t(657),e6=t(15093);let e9=()=>{let{currentLanguage:e}=(0,e6.U)(),{getCurrentUserSnapshotValue:n}=(0,e7.c)(),{getDesignIdxSnapshotValue:t}=(0,e8.h)(),r=()=>{let{accountId:r,selectedTeamIdx:o,currentPlan:i}=n(),{designIdx:l}=t();return{account_id:r,team_idx:o,plan_type:i,language_setting:e,design_idx:l}};return{getObjectRemovalGACommonPayloadSnapshotValue:r}};var ne=t(28863);let nn=()=>{let{emit:e}=(0,ne.x)(),{getObjectRemovalGACommonPayloadSnapshotValue:n}=e9(),t=t=>{let{image_url:r}=t,{team_idx:o,account_id:i,design_idx:l,plan_type:s,language_setting:c}=n();e("ACTION_CLICK_OBJECT_REMOVAL_GUIDE_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:o,account_id:i,design_idx:l,image_url:r,action_label:"사용팁",action_depth:"영역지우개",plan_type:s,language_setting:c,action_type:"클릭"})};return{sendActionClickObjectRemovalGuideButtonEvent:t}},nt=()=>{let{emit:e}=(0,ne.x)(),{getObjectRemovalGACommonPayloadSnapshotValue:n}=e9(),t=t=>{let{image_url:r,isCloseOnClickOutside:o}=t,{team_idx:i,account_id:l,design_idx:s,plan_type:c,language_setting:a}=n();e("ACTION_VIEW_OBJECT_REMOVAL_GUIDE_POPOVER",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:i,account_id:l,design_idx:s,image_url:r,action_label:"사용팁팝업",action_depth:"영역지우개",plan_type:c,language_setting:a,action_type:"닫힘",etc1:o?"바깥영역":"버튼"})};return{sendActionCloseObjectRemovalGuidePopoverEvent:t}},nr=()=>{let{emit:e}=(0,ne.x)(),{getObjectRemovalGACommonPayloadSnapshotValue:n}=e9(),t=t=>{let{image_url:r}=t,{team_idx:o,account_id:i,design_idx:l,plan_type:s,language_setting:c}=n();e("ACTION_VIEW_OBJECT_REMOVAL_GUIDE_POPOVER",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:o,account_id:i,design_idx:l,image_url:r,action_label:"사용팁팝업",action_depth:"영역지우개",plan_type:s,language_setting:c,action_type:"뷰"})};return{sendActionViewObjectRemovalGuidePopoverEvent:t}};var no=t(80002),ni=t(43103);let nl=()=>{let[e,n]=(0,c.useState)(()=>(0,ni.wz)("dont_show_object_removal_guide_popover")),{sendActionClickObjectRemovalGuideButtonEvent:t}=nn(),{sendActionViewObjectRemovalGuidePopoverEvent:r}=nr(),{sendActionCloseObjectRemovalGuidePopoverEvent:o}=nt(),i=()=>{(0,ni.wz)("dont_show_object_removal_guide_popover")&&(0,ni.kQ)("dont_show_object_removal_guide_popover","true",{day:30})},l=e=>{n(e),e||i()},s=()=>{l(!1)},a=()=>{l(!0)};return{isOpenedGuidePopup:e,setIsOpenedGuidePopup:e=>(0,no.Q)(()=>l(e),()=>{e||o({image_url:void 0,isCloseOnClickOutside:!0})})(void 0),onMountGuideContent:()=>r({image_url:void 0}),onClickClosePopoverButton:()=>(0,no.Q)(s,()=>{o({image_url:void 0,isCloseOnClickOutside:!1})})(void 0),onClickOpenPopoverButton:()=>(0,no.Q)(a,()=>{t({image_url:void 0})})(void 0)}};function ns(){let e=(0,r.Z)(["\n  width: 244px;\n  height: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 16px;\n  border-radius: 16px;\n  background: ",";\n  box-shadow: 0 6px 20px 0 rgba(11, 60, 65, 0.2);\n  gap: 12px;\n  // 현재 ds popover 에서는 대각선 방향이 대응되지 않아 사용처에서 대응하도록 함\n  transform: translateY(4px);\n  margin-bottom: calc(","px * -1);\n"]);return ns=function(){return e},e}function nc(){let e=(0,r.Z)(["\n  width: 212px;\n  height: 140px;\n  border-radius: 8px;\n  background: lightgray 50% / cover no-repeat;\n"]);return nc=function(){return e},e}function na(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return na=function(){return e},e}let nu=e=>{let{onClickClosePopoverButton:n,onMountGuideContent:t}=e,{translate:r}=(0,et.$G)();return(0,c.useEffect)(()=>{t()},[]),(0,o.jsxs)(np,{children:[(0,o.jsx)(nh,{src:"".concat(e5.S,"2_0/image/photoextraedit/object_removal_guide.gif"),alt:"영역 지우개 가이드"}),(0,o.jsx)(nf,{children:r("EDITOR.EDITOR_755")}),(0,o.jsx)(f.zx,{size:"XXS",type:"fillLight",color:"neutralLight",onClick:n,children:r("SHARED.REMAIN_22")})]})},nd=(0,Q.RW)(nl,e=>{let{translate:n,isOpenedGuidePopup:t,setIsOpenedGuidePopup:r,onClickOpenPopoverButton:i,onMountGuideContent:l,onClickClosePopoverButton:s}=e;return(0,o.jsxs)(e3.J,{isOpen:t,setIsOpen:r,placement:"right-end",offset:6,children:[(0,o.jsx)(e3.J.Anchor,{children:(0,o.jsx)(e2.A,{text:n("EDITOR.EDITOR_756"),underline:"always",onClick:i})}),(0,o.jsx)(e3.J.Content,{children:(0,o.jsx)(nu,{onClickClosePopoverButton:s,onMountGuideContent:l})})]})}),np=i.ZP.div.withConfig({componentId:"sc-eddde137-0"})(ns(),260,e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},260),nh=i.ZP.img.withConfig({componentId:"sc-eddde137-1"})(nc()),nf=i.ZP.div.withConfig({componentId:"sc-eddde137-2"})(na(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),nx=e=>{let{changeBrushType:n,changeBrushSize:t,brushType:r,brushSize:o,response:i}=e;return{changeBrushType:n,changeBrushSize:t,brushType:r,brushSize:o,isPending:i.isPending}};function ng(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: ",";\n  flex: 1 0 0;\n"]);return ng=function(){return e},e}function n_(){let e=(0,r.Z)(["\n  display: flex;\n  gap: ",";\n"]);return n_=function(){return e},e}function nm(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: ",";\n  align-self: stretch;\n"]);return nm=function(){return e},e}function nE(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: flex-start;\n  gap: ",";\n  align-self: stretch;\n"]);return nE=function(){return e},e}function nI(){let e=(0,r.Z)(["\n  width: 280px;\n"]);return nI=function(){return e},e}let nT=(0,Q.RW)(nx,e=>{let{translate:n,changeBrushType:t,brushType:r,changeBrushSize:i,brushSize:l,isPending:s}=e;return(0,o.jsxs)(nC,{children:[(0,o.jsx)(eL.U,{showIcon:!1,showCloseButton:!1,children:(0,o.jsxs)(nv,{children:[(0,o.jsx)(eM.i,{title:"EDITOR.EDITOR_754"}),(0,o.jsx)(nd,{})]})}),(0,o.jsxs)(nw,{children:[(0,o.jsxs)(nb,{children:[(0,o.jsx)(eX.I,{padding:"S",state:s?"disable":"DRAW"===r?"selected":"enable",mainText:n("EDITOR.EDITOR_364"),GraphicIcon:(0,o.jsx)(e4,{state:s?"disable":"DRAW"===r?"selected":"enable",iconType:"select"}),onClick:()=>t("DRAW")}),(0,o.jsx)(eX.I,{padding:"S",state:s?"disable":"ERASE"===r?"selected":"enable",mainText:n("EDITOR.EDITOR_365"),GraphicIcon:(0,o.jsx)(e4,{state:s?"disable":"ERASE"===r?"selected":"enable",iconType:"deselect"}),onClick:()=>t("ERASE")})]}),(0,o.jsx)(eW,{column:2,order:"DRAW"===r?1:2,children:(0,o.jsx)(nR,{children:(0,o.jsx)(eN.G,{disabled:s,label:n("EDITOR.REMAIN_350"),onChangeSlider:i,value:l,min:1,max:100,unit:"percent"})})})]})]})}),nC=i.ZP.div.withConfig({componentId:"sc-5cf0d35f-0"})(ng(),e=>{let{theme:n}=e;return n.token.b_size_static_70}),nv=i.ZP.div.withConfig({componentId:"sc-5cf0d35f-1"})(n_(),e=>{let{theme:n}=e;return n.token.c_banner_spacing_itemGap_contents_M}),nw=i.ZP.div.withConfig({componentId:"sc-5cf0d35f-2"})(nm(),e=>{let{theme:n}=e;return n.token.b_size_static_40}),nb=i.ZP.div.withConfig({componentId:"sc-5cf0d35f-3"})(nE(),e=>{let{theme:n}=e;return n.token.b_size_static_40}),nR=i.ZP.div.withConfig({componentId:"sc-5cf0d35f-4"})(nI());function nj(){let e=(0,r.Z)(["\n  display: flex;\n  width: 352px;\n  flex-direction: column;\n  align-items: flex-start;\n  border-radius: 16px;\n  box-shadow: ",";\n  background-color: ",";\n  overflow: hidden;\n  margin: 16px;\n"]);return nj=function(){return e},e}function ny(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 20px;\n  align-items: flex-start;\n  flex: 1 0 0;\n"]);return ny=function(){return e},e}function nO(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 16px 20px;\n  flex-direction: column;\n  align-items: flex-start;\n  ",";\n  align-self: stretch;\n  border-top: 1px solid ",";\n  background: ",";\n"]);return nO=function(){return e},e}let nP=(0,Q.RW)(e=>e,e=>{let{selectedToolInfo:n,changeBrushType:t,brushType:r,changeBrushSize:i,brushSize:l,response:s,initialImageUrl:c,itemId:a}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(nk,{children:[(0,o.jsx)(nD,{children:(0,o.jsx)(eq.H,{caseBy:{BACKGROUND_REMOVAL:(0,o.jsx)("div",{children:"배경 제거"}),OBJECT_REMOVAL:(0,o.jsx)(nT,{changeBrushType:t,changeBrushSize:i,brushType:r,brushSize:l,response:s}),UPSCALE:(0,o.jsx)("div",{children:"업스케일"})},value:n.toolType,defaultComponent:(0,o.jsx)(o.Fragment,{})})}),(0,o.jsx)(nA,{children:(0,o.jsx)(eq.H,{caseBy:{BACKGROUND_REMOVAL:(0,o.jsx)("div",{children:"배경 제거"}),OBJECT_REMOVAL:(0,o.jsx)(eS,{response:s,initialImageUrl:c,itemId:a}),UPSCALE:(0,o.jsx)("div",{children:"업스케일"})},value:n.toolType,defaultComponent:(0,o.jsx)(o.Fragment,{})})})]})})}),nk=i.ZP.div.withConfig({componentId:"sc-bde08a35-0"})(nj(),e=>{let{theme:n}=e;return n.token.s_shadow_popover},e=>{let{theme:n}=e;return n.token.s_color_background_elevation01}),nD=i.ZP.div.withConfig({componentId:"sc-bde08a35-1"})(ny()),nA=i.ZP.div.withConfig({componentId:"sc-bde08a35-2"})(nO(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("10px")},e=>{let{theme:n}=e;return n.token.s_color_divider_default},e=>{let{theme:n}=e;return n.token.s_color_background_default});var nS=t(69121),nL=t(25265),nN=t(8639),nM=t(51055),nZ=t(91154);function nU(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 0 40px 20px 40px;\n  flex-direction: column;\n  align-items: center;\n  gap: 24px;\n  flex: 1 0 0;\n"]);return nU=function(){return e},e}function nB(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  align-self: stretch;\n"]);return nB=function(){return e},e}function nF(){let e=(0,r.Z)(["\n  align-self: stretch;\n  color: ",";\n  text-align: center;\n  font: ",";\n  white-space: pre-wrap;\n"]);return nF=function(){return e},e}function nG(){let e=(0,r.Z)(["\n  align-self: stretch;\n  color: ",";\n  text-align: center;\n  font: ",";\n  white-space: pre-wrap;\n"]);return nG=function(){return e},e}let nW=(0,Q.RW)(e=>e,e=>{let{title:n,subTitle:t,onClose:r,bottomActionBar:i}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(nZ.u,{show:!0,width:"480px",closeOnClickBackground:!0,closeModal:r,children:[(0,o.jsx)(nZ.u.Header,{onClickClose:r}),(0,o.jsx)(nH,{children:(0,o.jsxs)(nV,{children:[(0,o.jsx)(nz,{children:n}),(0,o.jsx)(nK,{children:t})]})}),i&&(0,o.jsx)(nZ.u.BottomActionBar,{children:i})]})})}),nH=(0,i.ZP)(nZ.u.Body).withConfig({componentId:"sc-4040b0e8-0"})(nU()),nV=i.ZP.div.withConfig({componentId:"sc-4040b0e8-1"})(nB()),nz=i.ZP.div.withConfig({componentId:"sc-4040b0e8-2"})(nF(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_L}),nK=i.ZP.div.withConfig({componentId:"sc-4040b0e8-3"})(nG(),e=>{let{theme:n}=e;return n.token.s_color_contents_sub},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),nX=e=>{let{response:n,changeIsShowOriginImage:t,selectedTool:r,initialImageUrl:i,onCloseEditor:l,itemId:s}=e,{state:a}=(0,c.useContext)(X),{targetMap:u}=a,{initObjectRemovalTarget:d}=eC({target:u.OBJECT_REMOVAL}),p=u.OBJECT_REMOVAL,{openPopup:h,closePopup:x}=(0,nM.B)(),{translate:g}=(0,et.$G)(),{applyPhotoExtraEditToolToPhotoItem:_,waitOnMainEditor:m}=ev(),{redo:E,undo:I,isEmptyUndoHistory:T,isEmptyRedoHistory:C}=eT(),{onCancelRequest:v}=(0,ew.C)(),w=!T&&!n.isPending,b=!C&&!n.isPending,R=()=>{t(!0)},j=()=>{t(!1)},y=()=>{t(!1)},O=()=>{(0,es.EQ)(r).with("OBJECT_REMOVAL",()=>{h({component:nW,props:{onClose:()=>x(nN.U.INIT_PHOTO_EXTRA_EDITOR),title:g("EDITOR.EDITOR_435"),subTitle:g("EDITOR.EDITOR_436"),bottomActionBar:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.zx,{onClick:()=>x(nN.U.INIT_PHOTO_EXTRA_EDITOR),type:"fillLight",color:"neutralDeep",widthType:"fixed",width:"160px",children:g("EDITOR.EDITOR_132")}),(0,o.jsx)(f.zx,{onClick:()=>{d(i),x(nN.U.INIT_PHOTO_EXTRA_EDITOR)},widthType:"fixed",width:"160px",children:g("SHARED.POPUP.TOOL_WINDOW.RECENT_KEYWORD.ACTION.RESET")})]})},id:nN.U.INIT_PHOTO_EXTRA_EDITOR})})},P=async()=>{let{imageElement:e}=p;if(n.isPending){await m(s),l();return}if(!e||e.src===i){l();return}await _(s),l()},k=()=>{h({component:nW,props:{onClose:()=>x(nN.U.LEAVE_PHOTO_EXTRA_EDITOR),title:g("EDITOR.EDITOR_432"),subTitle:g("EDITOR.EDITOR_433"),bottomActionBar:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.zx,{onClick:()=>{v(s),l(),x(nN.U.LEAVE_PHOTO_EXTRA_EDITOR)},type:"fillLight",color:"neutralDeep",widthType:"fixed",width:"160px",children:g("EDITOR.EDITOR_434")}),(0,o.jsx)(f.zx,{onClick:()=>{P(),x(nN.U.LEAVE_PHOTO_EXTRA_EDITOR)},widthType:"fixed",width:"160px",children:g("EDITOR.LEFT_PANEL.SEARCH_TOOL.ACTION.APPLY")})]})},id:nN.U.LEAVE_PHOTO_EXTRA_EDITOR})},D=()=>{P()};return{redo:E,undo:I,canUndo:w,canRedo:b,onMouseDownShowOriginImageButton:R,onMouseUpShowOriginImageButton:j,onMouseLeaveShowOriginImageButton:y,onClickInitButton:O,onClickReturnButton:k,onClickEditCompleteButton:D,response:n}};function nY(){let e=(0,r.Z)(["\n  display: flex;\n  background: ",";\n  height: 64px;\n  padding: 0 16px;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n"]);return nY=function(){return e},e}function nJ(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: ",";\n"]);return nJ=function(){return e},e}function nq(){let e=(0,r.Z)(["\n  height: 24px;\n"]);return nq=function(){return e},e}function nQ(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]);return nQ=function(){return e},e}function n$(){let e=(0,r.Z)([""]);return n$=function(){return e},e}let n0=(0,Q.RW)(nX,e=>{let{translate:n,redo:t,undo:r,canUndo:i,canRedo:l,onMouseDownShowOriginImageButton:s,onMouseUpShowOriginImageButton:c,onMouseLeaveShowOriginImageButton:a,onClickInitButton:u,onClickReturnButton:d,onClickEditCompleteButton:p,response:h}=e;return(0,o.jsxs)(n1,{children:[(0,o.jsxs)(n4,{children:[(0,o.jsx)(f.zx,{leftIcon:"chevron_left",type:"ghost",color:"neutralDeep",onClick:d,children:n("EDITOR.REMAIN_416")}),(0,o.jsx)(n2,{children:(0,o.jsx)(nS.x,{paddingSize:"none",paddingPosition:"all",borderWidth:"thinest"})}),(0,o.jsxs)(n3,{children:[(0,o.jsx)(nL.h,{onClick:r,iconName:"undo",type:"ghost",size:"M",color:"neutralDeep",disabled:!i}),(0,o.jsx)(nL.h,{onClick:t,iconName:"redo",type:"ghost",size:"M",color:"neutralDeep",disabled:!l}),(0,o.jsx)(f.zx,{type:"ghost",color:"neutralDeep",onClick:u,disabled:h.isPending,children:n("SHARED.POPUP.TOOL_WINDOW.RECENT_KEYWORD.ACTION.RESET")}),(0,o.jsx)(n5,{onMouseDown:s,onMouseUp:c,onMouseLeave:a,children:(0,o.jsx)(f.zx,{type:"ghost",color:"neutralDeep",disabled:h.isPending,children:n("EDITOR.REMAIN_354")})})]})]}),(0,o.jsx)(f.zx,{leftIcon:"check_2px",type:"fill",onClick:p,children:n("EDITOR.EDITOR_437")})]})}),n1=i.ZP.div.withConfig({componentId:"sc-8e7e80d5-0"})(nY(),e=>{let{theme:n}=e;return n.token.s_color_background_default}),n4=i.ZP.div.withConfig({componentId:"sc-8e7e80d5-1"})(nJ(),e=>{let{theme:n}=e;return n.token.b_size_static_70}),n2=i.ZP.div.withConfig({componentId:"sc-8e7e80d5-2"})(nq()),n3=i.ZP.div.withConfig({componentId:"sc-8e7e80d5-3"})(nQ()),n5=i.ZP.div.withConfig({componentId:"sc-8e7e80d5-4"})(n$());var n8=t(82274),n7=t(91278),n6=t(30115);let n9=e=>{let{point:n,brushType:t,brushCanvasCtx:r,brushSize:o,lastPoint:i}=e;if(r){if("ERASE"===t&&(r.globalCompositeOperation="destination-out"),r.beginPath(),r.lineWidth=o,r.lineCap="round",r.strokeStyle="#40BF8B",i){let{x:e,y:n}=i;r.moveTo(e,n)}r.lineTo(n.x,n.y),r.stroke(),r.globalCompositeOperation="source-over"}},te=e=>{let{initialImageInfo:n,brushType:t,brushSize:r,changeBrushPosition:o,scale:i,isShowOriginImage:l,containerSize:s,scrollRef:a,isShowLoading:u,itemId:d}=e,{dispatch:p}=(0,c.useContext)(X),h=(0,c.useRef)(null),f=(0,c.useRef)(null),x=(0,c.useRef)(null),{onCancelRequest:g}=(0,ew.C)(),{onMouseDown:_,onMouseUp:m,onMouseMove:E,onMouseLeave:I}=tn({changeBrushPosition:o,brushCanvasRef:f,editAreaRef:h,imageElementRef:x,scale:i,brushSize:r,brushType:t,containerSize:s,scrollRef:a});(0,c.useEffect)(()=>{(f.current||x.current)&&p({type:"SET_OBJECT_REMOVAL_TARGET",objectRemovalTarget:{brushCanvasElement:f.current,imageElement:x.current}})},[p,f,x]);let T=()=>{g(d)};return{initialImageInfo:n,editAreaRef:h,brushCanvasRef:f,scale:i,onMouseDown:_,onMouseUp:m,onMouseMove:E,editAreaWidth:n.width*i,editAreaHeight:n.height*i,imageElementRef:x,isShowOriginImage:l,isShowLoading:u,onClickCancelButton:T,onMouseLeave:I}},tn=e=>{let{changeBrushPosition:n,brushCanvasRef:t,editAreaRef:r,imageElementRef:o,scale:i,brushSize:l,brushType:s,containerSize:a,scrollRef:u}=e,{saveNewHistory:d}=eT(),p=(0,c.useRef)(),h=(0,c.useRef)(!1),f=(0,c.useRef)(),x=e=>{if(!t.current||!r.current)return null;let{clientX:n,clientY:o}=e,{scrollLeft:l,scrollTop:s}=r.current,{left:c,top:a}=t.current.getBoundingClientRect();return{x:(n-c-l)/i,y:(o-a+s)/i}},g=e=>{var n;let r=null===(n=t.current)||void 0===n?void 0:n.getContext("2d");e&&r&&t.current&&o.current&&(p.current={imageInfo:{url:o.current.src,width:o.current.width,height:o.current.height},canvasInfo:{brushCanvasDataUrl:t.current.toDataURL("image/png")}},h.current=!0,f.current=e,n9({point:e,brushType:s,brushSize:l,brushCanvasCtx:r,lastPoint:f.current}))},_=e=>{var n;let r=null===(n=t.current)||void 0===n?void 0:n.getContext("2d");h.current&&e&&r&&(n9({point:e,brushType:s,brushSize:l,brushCanvasCtx:r,lastPoint:f.current}),f.current=e)},m=()=>{p.current&&t.current&&o.current&&(d({toolType:"OBJECT_REMOVAL",redoInfo:{imageInfo:{url:o.current.src,width:o.current.width,height:o.current.height},canvasInfo:{brushCanvasDataUrl:t.current.toDataURL("image/png")}},undoInfo:p.current}),p.current=void 0,h.current=!1,f.current=void 0)},E=()=>{m()},I=e=>{let n=x(e);g(n)},T=e=>{var t,r,o,i;let{pageX:l,pageY:s}=e,c=l-a.left+(null!==(o=null===(t=u.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==o?o:0),d=s-a.top+(null!==(i=null===(r=u.current)||void 0===r?void 0:r.scrollTop)&&void 0!==i?i:0);n({x:c,y:d});let p=x(e);_(p)},C=()=>{m()};return{onMouseDown:I,onMouseUp:C,onMouseMove:T,onMouseLeave:E}};function tt(){let e=(0,r.Z)([""]);return tt=function(){return e},e}function tr(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  cursor: none;\n"]);return tr=function(){return e},e}function to(){let e=(0,r.Z)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return to=function(){return e},e}function ti(){let e=(0,r.Z)(["\n  display: block;\n"]);return ti=function(){return e},e}function tl(){let e=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return tl=function(){return e},e}function ts(){let e=(0,r.Z)(["\n  cursor: pointer;\n"]);return ts=function(){return e},e}function tc(){let e=(0,r.Z)(["\n  transform-origin: 0 0;\n  opacity: 0.4;\n  display: block;\n"]);return tc=function(){return e},e}function ta(){let e=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  gap: 16px;\n"]);return ta=function(){return e},e}let tu=(0,Q.RW)(te,e=>{let{initialImageInfo:n,editAreaRef:t,brushCanvasRef:r,scale:i,onMouseDown:l,onMouseUp:s,onMouseMove:c,editAreaWidth:a,editAreaHeight:u,imageElementRef:d,isShowOriginImage:p,isShowLoading:h,translate:x,onClickCancelButton:g,onMouseLeave:_}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(tp,{ref:t,$width:a,$height:u,children:(0,o.jsxs)(th,{children:[(0,o.jsx)(td,{$width:a,$height:u,children:(0,o.jsx)(tf,{ref:d,width:a,height:u,draggable:!1,alt:"편집할 이미지",src:n.url})}),p&&(0,o.jsx)(tx,{$width:a,$height:u,children:(0,o.jsx)(tf,{width:a,height:u,draggable:!1,alt:"초기 이미지",src:n.url})}),(0,o.jsx)(tx,{$width:a,$height:u,children:(0,o.jsx)(t_,{width:n.width,height:n.height,ref:r,$scale:i,onMouseDown:l,onMouseMove:c,onMouseUp:s,onMouseLeave:_})}),h&&(0,o.jsxs)(tg,{$width:a,$height:u,children:[(0,o.jsx)(n7.J,{color:"black",strength:"medium"}),(0,o.jsxs)(tm,{children:[(0,o.jsx)(n6.$,{color:"white",size:"M"}),(0,o.jsx)(f.zx,{size:"S",type:"ghost",color:"white",onClick:g,children:x("SHARED.POPUP.POPUP.NAMING_POPUP.ACTION.CANCEL")})]})]})]})})})}),td=i.ZP.div.attrs(e=>{let{$width:n,$height:t}=e;return{style:{width:"".concat(n,"px"),height:"".concat(t,"px")}}}).withConfig({componentId:"sc-154f3510-0"})(tt()),tp=(0,i.ZP)(td).withConfig({componentId:"sc-154f3510-1"})(tr()),th=i.ZP.div.withConfig({componentId:"sc-154f3510-2"})(to()),tf=i.ZP.img.withConfig({componentId:"sc-154f3510-3"})(ti()),tx=(0,i.ZP)(td).withConfig({componentId:"sc-154f3510-4"})(tl()),tg=(0,i.ZP)(tx).withConfig({componentId:"sc-154f3510-5"})(ts()),t_=i.ZP.canvas.attrs(e=>{let{$scale:n}=e;return{style:{transform:"scale(".concat(n,")")}}}).withConfig({componentId:"sc-154f3510-6"})(tc()),tm=i.ZP.div.withConfig({componentId:"sc-154f3510-7"})(ta()),tE=e=>{let{selectedToolInfo:n,initialImageInfo:t,brushSize:r,brushType:o,brushPosition:i,containerSize:l,response:s,isShowOriginImage:a,changeBrushPosition:u,itemId:d}=e,[p,h]=(0,c.useState)(1),f=l.width-80,x=l.height-80,g=(0,c.useRef)(null);(0,c.useLayoutEffect)(()=>{if(!f||!x)return;let e=f/x,n=t.width/t.height,r=(e>1||n>1)&&e>n||(e<1||n<1)&&e>n?x/t.height:f/t.width;h(r)},[x,f,t.height,t.width]);let _=()=>{h(e=>Math.min(e+.1,5))},m=()=>{h(e=>Math.max(e-.1,.5))},E=s.isPending;return{selectedToolInfo:n,scale:p,initialImageInfo:t,brushSize:r,brushType:o,brushPosition:i,zoomIn:_,zoomOut:m,containerSize:l,isShowOriginImage:a,changeBrushPosition:u,scrollRef:g,isShowLoading:E,itemId:d}};function tI(){let e=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n"]);return tI=function(){return e},e}function tT(){let e=(0,r.Z)(["\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  display: inline-flex;\n  padding: 8px 16px;\n  align-items: center;\n  border-radius: 24px;\n  background: ",";\n  box-shadow: 4px 4px 12px 0 rgba(0, 0, 0, 0.1);\n"]);return tT=function(){return e},e}function tC(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  align-self: stretch;\n"]);return tC=function(){return e},e}function tv(){let e=(0,r.Z)(["\n  width: 65px;\n"]);return tv=function(){return e},e}function tw(){let e=(0,r.Z)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  border: 3px solid #ffffff;\n  box-shadow: rgb(0 0 0 / 32%) 0 0 4px;\n  border-radius: 50%;\n  pointer-events: none;\n  box-sizing: content-box;\n"]);return tw=function(){return e},e}let tb=(0,Q.RW)(tE,e=>{let{selectedToolInfo:n,scale:t,initialImageInfo:r,brushSize:i,brushType:l,zoomIn:s,zoomOut:c,isShowOriginImage:a,brushPosition:u,changeBrushPosition:d,containerSize:p,scrollRef:h,isShowLoading:f,itemId:x}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(tR,{ref:h,children:[(0,o.jsx)(eq.H,{caseBy:{BACKGROUND_REMOVAL:(0,o.jsx)("div",{children:"배경 제거"}),OBJECT_REMOVAL:(0,o.jsx)(tu,{initialImageInfo:r,brushSize:i,brushType:l,scale:t,isShowOriginImage:a,changeBrushPosition:d,containerSize:p,scrollRef:h,isShowLoading:f,itemId:x}),UPSCALE:(0,o.jsx)("div",{children:"업스케일"})},value:n.toolType,defaultComponent:(0,o.jsx)(o.Fragment,{})}),!f&&(0,o.jsx)(tP,{$width:i*t,$height:i*t,$left:u.x,$top:u.y})]}),(0,o.jsx)(tj,{children:(0,o.jsxs)(ty,{children:[(0,o.jsx)(nL.h,{iconName:"subtract",type:"ghost",color:"neutralDeep",onClick:c}),(0,o.jsx)(tO,{children:(0,o.jsx)(n8.c,{value:Math.floor(100*t),min:.5,max:5,unit:"percent",size:"S",widthType:"fill"})}),(0,o.jsx)(nL.h,{iconName:"add",type:"ghost",color:"neutralDeep",onClick:s})]})})]})}),tR=i.ZP.div.withConfig({componentId:"sc-8b044308-0"})(tI()),tj=i.ZP.div.withConfig({componentId:"sc-8b044308-1"})(tT(),e=>{let{theme:n}=e;return n.token.s_color_background_canvas}),ty=i.ZP.div.withConfig({componentId:"sc-8b044308-2"})(tC()),tO=i.ZP.div.withConfig({componentId:"sc-8b044308-3"})(tv()),tP=i.ZP.div.attrs(e=>{let{$width:n,$height:t,$left:r,$top:o}=e;return{style:{width:"".concat(n,"px"),height:"".concat(t,"px"),top:"".concat(o,"px"),left:"".concat(r,"px")}}}).withConfig({componentId:"sc-8b044308-4"})(tw()),tk=e=>{let{initialSelectedToolInfo:n,initialImageInfo:t,closePhotoExtraEditor:r,itemId:o}=e,[i,l]=(0,c.useState)(n),[s,a]=(0,c.useState)("DRAW"),[u,d]=(0,c.useState)(50),[p,h]=(0,c.useState)({x:0,y:0}),[f,x]=(0,c.useState)({width:0,height:0,left:0,top:0}),[g,_]=(0,c.useState)(!1),{getResponse:m}=(0,ew.C)(),E=m(o),{clearRedoHistory:I}=em(),{clearUndoHistory:T}=eE(),C=e=>{l(e)},v=e=>{a(e)},w=e=>{d(e),h({x:f.width/2,y:f.height/2})},b=e=>{_(e)},R=e=>{h(e)},j=(0,c.useCallback)(e=>{e&&x({width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height,left:e.getBoundingClientRect().left,top:e.getBoundingClientRect().top})},[x]),y=()=>{I(),T(),r()};return{selectedToolInfo:i,initialImageInfo:t,brushSize:u,brushType:s,changeSelectedToolInfo:C,changeBrushSize:w,changeBrushType:v,canvasSectionSize:f,response:E,isShowOriginImage:g,changeIsShowOriginImage:b,onClose:y,changeBrushPosition:R,brushPosition:p,initCanvasSectionSize:j,itemId:o}};function tD(){let e=(0,r.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  background-color: ",";\n  background-image: radial-gradient(\n    circle at 1.5px 1.5px,\n    "," 1.5px,\n    transparent 0\n  );\n  background-size: 26px 26px;\n"]);return tD=function(){return e},e}function tA(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: flex-start;\n  gap: 1px;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return tA=function(){return e},e}function tS(){let e=(0,r.Z)([""]);return tS=function(){return e},e}function tL(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return tL=function(){return e},e}let tN=(0,Q.RW)(tk,e=>{let{selectedToolInfo:n,initialImageInfo:t,brushSize:r,brushType:i,canvasSectionSize:l,changeBrushType:s,changeBrushSize:c,response:a,isShowOriginImage:u,changeIsShowOriginImage:d,onClose:p,brushPosition:h,changeBrushPosition:f,initCanvasSectionSize:x,itemId:g}=e;return(0,o.jsx)(J,{children:(0,o.jsxs)(tM,{tabIndex:0,onKeyDown:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,o.jsx)(n0,{response:a,changeIsShowOriginImage:d,selectedTool:n.toolType,initialImageUrl:t.url,onCloseEditor:p,itemId:g}),(0,o.jsxs)(tZ,{children:[(0,o.jsx)(tU,{children:(0,o.jsx)(nP,{selectedToolInfo:n,brushType:i,changeBrushType:s,brushSize:r,changeBrushSize:c,response:a,initialImageUrl:t.url,itemId:g})}),(0,o.jsx)(tB,{ref:x,children:(0,o.jsx)(tb,{selectedToolInfo:n,initialImageInfo:t,brushSize:r,brushType:i,brushPosition:h,changeBrushPosition:f,containerSize:l,response:a,isShowOriginImage:u,itemId:g})})]})]})})}),tM=i.ZP.div.withConfig({componentId:"sc-1bfaece9-0"})(tD(),e=>{let{theme:n}=e;return n.token.s_color_background_canvas},e=>{let{theme:n}=e;return n.token.s_color_surface_light}),tZ=i.ZP.div.withConfig({componentId:"sc-1bfaece9-1"})(tA()),tU=i.ZP.section.withConfig({componentId:"sc-1bfaece9-2"})(tS()),tB=i.ZP.section.withConfig({componentId:"sc-1bfaece9-3"})(tL()),tF=()=>{let{closePhotoExtraEditor:e,photoExtraEditorOpenInfo:n}=(0,eo.e)(),t=n.isOpen&&n.initialToolInfo;return{closePhotoExtraEditor:e,photoExtraEditorOpenInfo:n,isOpenPhotoExtraEditor:t}},tG=(0,Q.RW)(tF,e=>{let{closePhotoExtraEditor:n,photoExtraEditorOpenInfo:t,isOpenPhotoExtraEditor:r}=e;return(0,o.jsx)(o.Fragment,{children:r&&(0,o.jsx)(s.h,{parent:document.body,children:(0,o.jsx)(tN,{closePhotoExtraEditor:n,initialSelectedToolInfo:t.initialToolInfo,initialImageInfo:t.initialImageInfo,itemId:t.itemId})})})});var tW=t(89566);let tH=()=>{var e;let{selectedTeam:n}=(0,$.x)();return(0,c.useMemo)(()=>null===(e=null==n?void 0:n.uploadAvailable)||void 0===e||e,[null==n?void 0:n.uploadAvailable])};var tV=t(19795),tz=t(27948),tK=t(14158),tX=t(66965),tY=t(34143);let tJ=(0,ec.cn)(0),tq=()=>(0,ea.Dv)(tJ),tQ=()=>(0,ea.b9)(tJ),t$=e=>{let n=tQ();(0,c.useEffect)(()=>{let t=()=>{var t,r;n(null!==(r=null===(t=e.current)||void 0===t?void 0:t.clientHeight)&&void 0!==r?r:0)};if(e.current){var r,o;n(null!==(o=null===(r=e.current)||void 0===r?void 0:r.clientHeight)&&void 0!==o?o:0),window.addEventListener("resize",t)}return()=>window.removeEventListener("resize",t)},[e,n])},t0=()=>{let{isLeftPanelVisible:e}=(0,tX.F)(),n=(0,c.useRef)(null),t=tH(),r=t1(),{editorViewMode:o}=(0,tz.$H)(),i=(0,c.useMemo)(()=>t4({handlers:r,isUploadAvailable:t&&"DEFAULT"===o}),[o,r,t]);return t$(n),{leftPanelVisibility:e,isUploadAvailable:t,mainPanelRef:n,...i}},t1=()=>{let e=(0,tY.nW)(),n=(0,tY.wR)(),t=(0,tV.tl)(),r=(0,tK.FT)(),[o,i]=(0,c.useState)(!0),l=()=>{o||i(!0)},s=e=>{e.preventDefault(),o&&(r(void 0),t("UPLOAD"),n(!0))},a=()=>{i(!1)},u=t=>{if(t.preventDefault(),i(!0),0!==t.dataTransfer.files.length){let r=t.dataTransfer.files;e({droppedFiles:r,isDroppedInEditor:!0}),n(!1)}},d=t=>{if(t.preventDefault(),i(!0),0!==t.dataTransfer.files.length){let r=t.dataTransfer.files;e({droppedFiles:r,isDroppedInEditor:!1}),n(!1)}},p=e=>{var t;e.preventDefault(),null!==(t=e.currentTarget)&&void 0!==t&&t.contains(e.relatedTarget)||n(!1)};return{onDragLeaveFromWebArea:p,onDragOverInWebArea:s,onFileDropInLeftPanel:d,onFileDropInEditor:u,onDragStartInWebAreaButNotFiles:a,onDragEndFromWebArea:l}},t4=e=>{let{handlers:n,isUploadAvailable:t}=e;return t?n:Object.keys(n).reduce((e,n)=>(e[n]=void 0,e),{})};var t2=t(5152),t3=t.n(t2),t5=t(91695),t8=t(98719),t7=t(51883),t6=t(41891),t9=t(70444),re=t(43293);let rn=()=>{let[e,n]=(0,c.useState)(!1),{setFocusArea:t}=(0,t6.G)();(0,t7.F)(n);let r=(0,c.useCallback)(()=>{t("header")},[t]),o=(0,re.H)(),i=(0,t9._L)();return{isCropMode:e,onClickContainer:r,isPrintoutEditor:o,mode:i.mode}};var rt=t(66375),rr=t(32678),ro=t(1352);let ri=e=>{let{designSaveStatus:n,isSaveInProgress:t}=(0,rr.r)(),{isRightPanelVisible:r}=(0,ro.U)(),{onClickDesignSave:o,onClickAddToCart:i,onClickUpdateDone:l}=(0,rt.w)();return{...e,isRightPanelVisible:r,designSaveStatus:n,isSaveInProgress:t,onClickDesignSave:o,onClickAddToCart:i,onClickUpdateDone:l}};var rl=t(65333);function rs(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]);return rs=function(){return e},e}let rc={size:"M",widthType:"hug",textOverflow:"newLine",showInfoIcon:!1,hierarchy:"lightThin"},ra=e=>{let{status:n}=e,{translate:t}=(0,et.$G)(),r=(0,i.Fg)();return(0,es.EQ)(n).with("SAVE_REQUEST",()=>(0,o.jsxs)(ru,{children:[(0,o.jsx)(n6.$,{size:"XS",color:"neutral"}),(0,o.jsx)(rl._,{...rc,text:t("EDITOR.DESIGN_SAVE_STATUS.SAVE_REQUEST.TITLE")})]})).with("SAVE_COMPLETE",()=>(0,o.jsxs)(ru,{children:[(0,o.jsx)(a.J,{iconName:"check",width:r.token.c_label_size_icon_M,height:r.token.c_label_size_icon_M,color:r.token.c_label_color_contents_text_light}),(0,o.jsx)(rl._,{...rc,text:t("EDITOR.DESIGN_SAVE_STATUS.SAVE_COMPLETE.TITLE")})]})).with("SAVE_REQUIRE",()=>(0,o.jsx)(ru,{children:(0,o.jsx)(rl._,{...rc,text:t("EDITOR.DESIGN_SAVE_STATUS.SAVE_REQUIRE.TITLE")})})).with("SAVE_WAIT",()=>(0,o.jsxs)(ru,{children:[(0,o.jsx)(n6.$,{size:"XS",color:"neutral"}),(0,o.jsx)(rl._,{...rc,text:t("EDITOR.DESIGN_SAVE_STATUS.SAVE_WAIT.TITLE")})]})).with("SAVE_FAILED",()=>(0,o.jsx)(ru,{children:(0,o.jsx)(rl._,{...rc,text:t("EDITOR.DESIGN_SAVE_STATUS.SAVE_FAILED.TITLE")})})).otherwise(()=>null)},ru=i.ZP.span.attrs({role:"status"}).withConfig({componentId:"sc-272b51bb-0"})(rs());function rd(){let e=(0,r.Z)(["\n  margin-left: auto;\n  display: flex;\n  gap: ",";\n  align-items: center;\n"]);return rd=function(){return e},e}function rp(){let e=(0,r.Z)(["\n  margin-right: 16px;\n  &:empty {\n    display: none;\n  }\n"]);return rp=function(){return e},e}let rh=(0,Q.RW)(ri,e=>{let{mode:n,isRightPanelVisible:t,onClickAddToCart:r,onClickDesignSave:i,onClickUpdateDone:l,translate:s,designSaveStatus:c,isSaveInProgress:a}=e;return(0,o.jsxs)(rf,{children:[(0,o.jsx)(rx,{children:(0,o.jsx)(ra,{status:c})}),(0,o.jsx)(eq.H,{value:n,caseBy:{NEW:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("li",{children:(0,o.jsx)(f.zx,{leftIcon:"inbox",type:"fillLight",onClick:i,disabled:a,children:s("EDITOR.HEADER_BAR.LABEL.SAVE")})}),(0,o.jsx)("li",{children:(0,o.jsx)(f.zx,{leftIcon:"cart",type:"fill",disabled:t,onClick:r,children:s("EDITOR.HEADER_BAR.LABEL.ADD_TO_CART")})})]}),UPDATE:(0,o.jsx)("li",{children:(0,o.jsx)(f.zx,{leftIcon:"check",type:"fill",disabled:t,onClick:l,children:s("EDITOR.HEADER_BAR.FILE.UPDATE_DONE")})})}})]})}),rf=i.ZP.ul.withConfig({componentId:"sc-276db308-0"})(rd(),e=>{let{theme:n}=e;return n.token.c_commonButton_spacing_itemGap_M}),rx=i.ZP.li.withConfig({componentId:"sc-276db308-1"})(rp());var rg=t(90466),r_=t(47875);let rm=()=>{let{selectedTeamIdx:e}=(0,$.x)(),{workspaceDetail:n}=(0,rg.D)(e||0),[t,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{var e,t,o;let i=null==n?void 0:null===(e=n.billing)||void 0===e?void 0:e.startDate,l=null==n?void 0:null===(t=n.paymentMethod)||void 0===t?void 0:t.registrationDate,s=null==n?void 0:null===(o=n.teamMeta)||void 0===o?void 0:o.paymentFailureDurationDays;if(i&&l&&s){let e=new Date(i);r(l<e.setDate(e.getDate()+(s-1)))}},[n,r]);let o=(0,c.useCallback)(()=>r(!1),[]),i=(0,c.useCallback)(()=>window.open(r_.H.BILLING,"_blank"),[]);return{active:t,onClose:o,onClickGoBilling:i}};function rE(){let e=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  padding: "," ",";\n  align-items: flex-start;\n  gap: ",";\n  flex-shrink: 0;\n\n  border-radius: ",";\n  border: 1px solid ",";\n  background: ",";\n"]);return rE=function(){return e},e}function rI(){let e=(0,r.Z)(["\n  display: flex;\n  padding: "," 0px;\n  justify-content: center;\n  align-items: center;\n  gap: ",";\n  flex: 1 0 0;\n"]);return rI=function(){return e},e}function rT(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return rT=function(){return e},e}function rC(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n  line-height: 0;\n"]);return rC=function(){return e},e}let rv=(0,Q.RW)(rm,e=>{let{onClickGoBilling:n,onClose:t,active:r}=e;return(0,o.jsx)(o.Fragment,{children:r&&(0,o.jsxs)(rw,{children:[(0,o.jsxs)(rb,{children:[(0,o.jsx)(rR,{children:"결제 수단을 확인해주세요."}),(0,o.jsx)(rj,{children:"등록하신 결제수단으로 결제를 처리하지 못했습니다."}),(0,o.jsx)(e2.A,{size:"M",color:"neutralDeepInverse",text:"결제 수단 확인하기",underline:"always",onClick:n})]}),(0,o.jsx)(nL.h,{size:"XXS",type:"ghost",color:"neutralDeepInverse",iconName:"close",onClick:t})]})})}),rw=i.ZP.div.withConfig({componentId:"sc-88d8f917-0"})(rE(),e=>{let{theme:n}=e;return n.token.b_size_static_60},e=>{let{theme:n}=e;return n.token.b_spacing_70},e=>{let{theme:n}=e;return n.token.c_banner_spacing_itemGap_contents_M},e=>{let{theme:n}=e;return n.token.b_size_static_10},e=>{let{theme:n}=e;return n.token.c_banner_color_border_error_strong},e=>{let{theme:n}=e;return n.token.c_banner_color_background_error_strong}),rb=i.ZP.div.withConfig({componentId:"sc-88d8f917-1"})(rI(),e=>{let{theme:n}=e;return n.token.b_spacing_10},e=>{let{theme:n}=e;return n.token.b_size_static_60}),rR=i.ZP.div.withConfig({componentId:"sc-88d8f917-2"})(rT(),e=>{let{theme:n}=e;return n.token.c_banner_color_contents_text_title_error_strong},e=>{let{theme:n}=e;return n.token.c_banner_typography_title_M}),rj=i.ZP.div.withConfig({componentId:"sc-88d8f917-3"})(rC(),e=>{let{theme:n}=e;return n.token.c_banner_color_contents_text_sub_error_strong},e=>{let{theme:n}=e;return n.token.c_banner_typography_sub_M});var ry=t(45946);function rO(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n"]);return rO=function(){return e},e}function rP(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n"]);return rP=function(){return e},e}function rk(){let e=(0,r.Z)(["\n  height: 24px;\n  margin-right: 24px;\n"]);return rk=function(){return e},e}function rD(){let e=(0,r.Z)(["\n  display: flex;\n  gap: 24px;\n"]);return rD=function(){return e},e}let rA=e=>{let{children:n,...t}=e,[r,...i]=c.Children.toArray(n);return(0,o.jsxs)(rS,{...t,children:[(0,o.jsx)(rL,{children:r}),(0,o.jsx)(rN,{children:(0,o.jsx)(nS.x,{paddingSize:"none"})}),(0,o.jsx)(rM,{children:i.map(e=>(0,o.jsx)("li",{children:e},e.key))})]})},rS=i.ZP.div.withConfig({componentId:"sc-c16888b-0"})(rO()),rL=i.ZP.div.withConfig({componentId:"sc-c16888b-1"})(rP()),rN=i.ZP.div.withConfig({componentId:"sc-c16888b-2"})(rk()),rM=i.ZP.ul.withConfig({componentId:"sc-c16888b-3"})(rD());var rZ=t(58606),rU=t(16300),rB=t(34965),rF=t(27484),rG=t(67420);let rW=()=>{let{isActiveUndo:e,isActiveRedo:n,undo:t,redo:r}=(0,rF.C)(),{getShortcut:o}=(0,rG.H)();return{onClickUndoButton:t,onClickRedoButton:r,isActiveUndo:e,isActiveRedo:n,getShortcut:o}};function rH(){let e=(0,r.Z)(["\n  display: flex;\n\n  ",";\n"]);return rH=function(){return e},e}let rV=(0,Q.RW)(rW,e=>{let{translate:n,isActiveUndo:t,isActiveRedo:r,onClickUndoButton:i,onClickRedoButton:l,getShortcut:s}=e;return(0,o.jsxs)(rz,{children:[(0,o.jsx)(rZ.l,{type:"single",position:"bottomStart",actionText:n("EDITOR.EDITOR_210"),shortcutText:s("UNDO"),show:!0,children:(0,o.jsx)(rB.h,{onClickUndoButton:i,disabled:!t})}),(0,o.jsx)(rZ.l,{type:"single",position:"bottomStart",actionText:n("EDITOR.EDITOR_211"),shortcutText:s("REDO"),show:!0,children:(0,o.jsx)(rU.J,{onClickRedoButton:l,disabled:!r})})]})}),rz=i.ZP.div.withConfig({componentId:"sc-a9ce52fc-0"})(rH(),e=>{let{theme:n}=e;return n.mixin.flexColGap("4px")});var rK=t(40328),rX=t(10221),rY=t(69973),rJ=t(46721),rq=t(14753),rQ=t(87396),r$=t(99950),r0=t(24103),r1=t(14509);let r4=()=>({});function r2(){let e=(0,r.Z)(["\n  border-radius: 16px;\n  background-color: ",";\n  box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.15);\n  padding: 20px;\n  width: 316px;\n"]);return r2=function(){return e},e}let r3=(0,Q.RW)(r4,e=>{let{}=e;return(0,o.jsx)(r5,{children:(0,o.jsx)(r1.a,{})})}),r5=i.ZP.div.withConfig({componentId:"sc-2fb66b2f-0"})(r2(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation02});var r8=t(21713);let r7=e=>{let{menuItem:n,isToggleUIActive:t,onClickMenuItem:r}=e,{getShortcut:o}=(0,rG.H)();return{menuItem:n,isToggleUIActive:t,onClickMenuItem:r,getShortcut:o}};function r6(){let e=(0,r.Z)(["\n  width: 100%;\n"]);return r6=function(){return e},e}let r9=(0,Q.RW)(r7,e=>{let{translate:n,theme:t,menuItem:r,isToggleUIActive:i,onClickMenuItem:l,getShortcut:s}=e;return(0,o.jsx)(oe,{children:r.useToggle?(0,o.jsx)(r8.v,{type:"setting",iconName:r.iconName,iconColor:t.token.c_menu_color_contents_icon_leading,menuName:n(r.name),shortcutText:r.shortCut?s(r.shortCut):"",depthArrow:r.hasChild,selected:i,onClick:l,textOverflow:"newLine"}):(0,o.jsx)(r8.v,{type:"menu",iconName:r.iconName,iconColor:t.token.c_menu_color_contents_icon_leading,menuName:n(r.name),shortcutText:r.shortCut?s(r.shortCut):"",depthArrow:r.hasChild,selected:!1,onClick:l,textOverflow:"newLine"})})}),oe=i.ZP.div.withConfig({componentId:"sc-eb22798b-0"})(r6());var on=t(94460);let ot=()=>{let{publish:e}=(0,on.j)(),n=(0,c.useCallback)(()=>{e("COMMAND_CHANGE_LAYER_PANEL_VISIBILITY",{visible:!0})},[e]),t=(0,c.useCallback)(()=>{e("COMMAND_CHANGE_LAYER_PANEL_VISIBILITY",{visible:!1})},[e]);return{openLayerPanel:n,closeLayerPanel:t}};var or=t(20521),oo=t(82880),oi=t(19875),ol=t(55629),os=t(44578),oc=t(97169),oa=t(27674),ou=t(14262),od=t(67970);let op=e=>{let{menuItem:n,closeMainMenuPopover:t,selectedMainMenu:r,setSelectedMainMenu:o,openDesignHistoryPopup:i}=e,{isToggleUIActive:l,sendNoParameterButtonClickEvent:s,toggleMainMenuItem:a,updateEditorConfigKeyByUIStateIfLogin:u,isLogin:d,editorConfigKey:p,setIsFloatingButtonVisible:h,onChangeEditingToolbarVisibility:f,onChangeTheme:x,onClickHelpCenter:g}=(0,ou.A)(n),{openSignInModal:_}=(0,oc.N)(),{createDesignCopy:m}=(0,oa.V)({openSignInModal:_}),E=(0,ol.NL)(),{openLayerPanel:I,closeLayerPanel:T}=ot(),{saveDesign:C}=(0,os.t)(),{sendChangeViewModeButtonClickEvent:v}=(0,oi.Z)(),{setTrue:w,setFalse:b}=(0,Q.kt)(),{openTextFinder:R}=(0,od.a)(),j=(0,c.useCallback)(()=>{t(),R()},[t,R]),y=(0,c.useCallback)(()=>{l?T():(I(),s("ACTION_CLICK_LAYER_ACTIVE_BUTTON")),a()},[T,l,I,s,a]),{togglePrintSafetyGuide:O}=(0,oo.L)(),{toggleBorderInGroup:P}=(0,or.p)(),{onClickDesignSave:k,onClickUpdateDone:D,onClickAddToCart:A}=(0,rt.w)(),S=(0,c.useCallback)(()=>{(0,es.EQ)(n.menuId).with("CREATE_NEW_DESIGN",()=>{s("ACTION_CLICK_MAIN_MENU_NEW_DESIGN_BUTTON")}).with("CREATE_DESIGN_COPY",()=>{s("ACTION_CLICK_MAIN_MENU_CREATE_COPY_BUTTON"),m(),t()}).with("AUTO_SAVE",()=>{a(),s("ACTION_CLICK_AUTO_SAVE_TOGGLE")}).with("DESIGN_SAVE",()=>{k(),t()}).with("ADD_TO_CART",()=>{A(),t()}).with("UPDATE_DONE",()=>{D(),t()}).with("DESIGN_HISTORY",async()=>{d?(await E.invalidateQueries(["getDesignHistoryListInfinite"]),await C({designSaveTrace:"BEFORE_OPEN_HISTORY",isAutoSaved:!0,onSuccess:async()=>{i(),t()},onCancel:()=>{i(),t()}})):(t(),_())}).with("CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE",()=>{v()}).with("GUIDE_LINE_SETTING",()=>{s("ACTION_CLICK_GUIDE_LINE_MENU_BUTTON")}).with("PRINT_SAFETY_GUIDE",()=>{O()}).with("BORDER_IN_GROUP",()=>{P()}).with("LAYER_ORDER",()=>y()).with("TEXT_FIND_AND_REPLACE",()=>{s("ACTION_CLICK_MAIN_MENU_FIND_TEXT_BUTTON"),j()}).with("QUICK_EDIT_TOOL",()=>{d&&u(p,!l),d||h(!l),f({value:!l})}).with("LANGUAGE",()=>{}).with("THEME",()=>x()).with("HELP",()=>{g(),t()}).with("DESIGN_APPROVAL",()=>{}).otherwise(()=>{console.warn('Main Menu "'.concat(n.menuId,'" is clicked!'))}),o(n.menuId)},[n.menuId,o,s,m,t,a,d,E,C,i,_,v,y,j,f,l,u,p,h,x,g,O,P,A,k,D]),L=(0,c.useCallback)(()=>{n.hasChild&&w()},[n.hasChild,w]),N=(0,c.useCallback)(()=>{n.hasChild&&b()},[n.hasChild,b]);return{menuItem:n,onClickMenuItem:S,onMouseEnterMenuItem:L,onMouseLeaveMenuItem:N,isToggleUIActive:l,closeMainMenuPopover:t,openChild:n.hasChild&&r===n.menuId,closeMenuItemPopvoer:()=>o(void 0),openDesignHistoryPopup:i}};var oh=t(59885),of=t(37958),ox=t(16485);let og=e=>{let{openDesignHistoryPopup:n}=e,{selectedTeamIdx:t}=(0,$.x)(),{designId:r}=(0,ox.W)(),{data:o}=(0,of.CM)({inputType:"DESIGN_IDX",idx:null!=r?r:0,teamIdx:null!=t?t:0,page:1,pageSize:10,withMessage:!0,sortOrderReverse:!1,draftStatus:"ALL"});return{draftList:null==o?void 0:o.data.draftList,openDesignHistoryPopup:n}};var o_=t(81709),om=t(79584),oE=t(69523);let oI=e=>{let{index:n,draftStatus:t,decisionList:r,requesterName:o,requestTime:i,targetIdx:l,designIdx:s,approvalCount:c,decisionCount:a,openDesignHistoryPopup:u}=e,{value:d,setValue:p}=(0,Q.kt)(!1),h=()=>{p(!d)},f=()=>{u(l)};return{index:n,draftStatus:t,isOpen:d,decisionList:r,requesterName:o,requestTime:i,approvalCount:c,decisionCount:a,onClickIcon:h,onClickViewHistoryButton:f}};function oT(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 12px;\n"]);return oT=function(){return e},e}function oC(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n\n  ",";\n"]);return oC=function(){return e},e}function ov(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n"]);return ov=function(){return e},e}function ow(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n\n  border-radius: 8px;\n  background-color: ",";\n\n  ",";\n"]);return ow=function(){return e},e}function ob(){let e=(0,r.Z)([""]);return ob=function(){return e},e}function oR(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 8px;\n  width: 100%;\n\n  ",";\n"]);return oR=function(){return e},e}function oj(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n"]);return oj=function(){return e},e}function oy(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n"]);return oy=function(){return e},e}function oO(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n"]);return oO=function(){return e},e}let oP=(0,Q.RW)(oI,e=>{let{index:n,draftStatus:t,isOpen:r,decisionList:i,requestTime:l,requesterName:s,approvalCount:c,decisionCount:u,onClickIcon:d,onClickViewHistoryButton:p,translate:h,theme:f}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(ok,{children:[(0,o.jsx)(rl._,{hierarchy:"deepThick",size:"M",widthType:"fill",textOverflow:"ellipsis",text:h("EDITOR.DESIGN_APPROVAL_LABEL_APPROVAL_STEP_NTH",{approvalProcessCount:n})}),(0,o.jsxs)(oD,{children:[(0,o.jsx)(o_.PV,{approvalCount:c,decisionCount:u,draftStatus:t}),(0,o.jsx)(oA,{onClick:d,children:(0,o.jsx)(a.J,{width:"16px",height:"16px",color:f.token.s_color_contents_additional,iconName:r?"chevron_down_2px":"chevron_right_2px"})})]})]}),r&&(0,o.jsxs)(oS,{children:[(0,o.jsxs)(oL,{children:[(0,o.jsx)(rl._,{hierarchy:"lightThick",size:"M",widthType:"fill",showInfoIcon:!1,text:h("EDITOR.REMAIN_304")}),(0,o.jsxs)(oN,{children:[(0,o.jsx)(om.m,{state:"lock",color:f.token.s_color_visualization_default_charteuse,text:s.length>2?s.substring(0,2):s}),(0,o.jsxs)(oM,{children:[(0,o.jsx)(oZ,{children:s}),(0,o.jsx)(oU,{children:(0,oE.BB)(new Date(l))})]})]})]}),i.map((e,n)=>(0,o.jsxs)(oL,{children:[(0,o.jsx)(rl._,{hierarchy:"lightThick",size:"M",widthType:"fill",showInfoIcon:!1,text:h("EDITOR.REMAIN_305")}),(0,o.jsxs)(oN,{children:[(0,o.jsx)(om.m,{state:"APPROVED"===e.decisionStatus?"check":"number",number:n+1,color:f.token.s_color_visualization_default_purple,text:e.accountName.length>2?e.accountName.substring(0,2):e.accountName}),(0,o.jsxs)(oM,{children:[(0,o.jsx)(oZ,{children:e.accountName}),(0,o.jsx)(oU,{children:(null==e?void 0:e.updateDate)&&(0,oE.BB)(new Date(e.updateDate))})]})]})]},e.accountIdx)),(0,o.jsx)(q.Jr,{text:h("EDITOR.DESIGN_APPROVAL_LABEL_VIEW_WORK_HISTORY"),onClick:p})]})]})}),ok=i.ZP.div.withConfig({componentId:"sc-2dc11066-0"})(oT()),oD=i.ZP.div.withConfig({componentId:"sc-2dc11066-1"})(oC(),e=>{let{theme:n}=e;return n.mixin.flexColGap("8px")}),oA=i.ZP.div.withConfig({componentId:"sc-2dc11066-2"})(ov()),oS=i.ZP.div.withConfig({componentId:"sc-2dc11066-3"})(ow(),e=>{let{theme:n}=e;return n.token.s_color_surface_lightness},e=>{let{theme:n}=e;return n.mixin.flexRowGap("8px")}),oL=i.ZP.div.withConfig({componentId:"sc-2dc11066-4"})(ob()),oN=i.ZP.div.withConfig({componentId:"sc-2dc11066-5"})(oR(),e=>{let{theme:n}=e;return n.mixin.flexColGap("12px")}),oM=i.ZP.div.withConfig({componentId:"sc-2dc11066-6"})(oj()),oZ=i.ZP.span.withConfig({componentId:"sc-2dc11066-7"})(oy(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),oU=i.ZP.span.withConfig({componentId:"sc-2dc11066-8"})(oO(),e=>{let{theme:n}=e;return n.token.s_typography_body_S},e=>{let{theme:n}=e;return n.token.s_color_contents_additional});function oB(){let e=(0,r.Z)(["\n  width: 100%;\n  min-height: 248px;\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n"]);return oB=function(){return e},e}function oF(){let e=(0,r.Z)(["\n  width: 100%;\n  align-self: center;\n  margin: auto;\n\n  text-align: center;\n  font: ",";\n  color: ",";\n"]);return oF=function(){return e},e}let oG=(0,Q.RW)(og,e=>{let{draftList:n,openDesignHistoryPopup:t,translate:r}=e;return(0,o.jsx)(oW,{children:n&&0!==n.length?n.map((e,r)=>(0,o.jsx)(oP,{index:n.length-r,draftStatus:e.draftStatus,decisionList:e.decisionList,requesterName:e.accountName,requestTime:e.createDate,targetIdx:e.targetIdx,designIdx:e.designIdx,approvalCount:e.approvalCount,decisionCount:e.decisionCount,openDesignHistoryPopup:t},e.targetIdx)):(0,o.jsx)(oH,{children:r("EDITOR.DESIGN_APPROVAL_DESCRIPTION_NO_APPROVAL_HISTORY")})})}),oW=i.ZP.div.withConfig({componentId:"sc-fa78afa1-0"})(oB()),oH=i.ZP.span.withConfig({componentId:"sc-fa78afa1-1"})(oF(),e=>{let{theme:n}=e;return n.token.c_emptyState_typography_sub_M},e=>{let{theme:n}=e;return n.token.c_emptyState_color_contents_text_sub}),oV=e=>{let{closePopOver:n,openDesignHistoryPopup:t}=e,r=()=>{n()};return{onClickCloseButton:r,openDesignHistoryPopup:t}};function oz(){let e=(0,r.Z)(["\n  width: 320px;\n\n  border-radius: 16px;\n  background-color: ",";\n  box-shadow: ",";\n"]);return oz=function(){return e},e}function oK(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 12px 12px 20px;\n\n  border-bottom: 1px solid ",";\n"]);return oK=function(){return e},e}function oX(){let e=(0,r.Z)(["\n  color: ",";\n\n  font: ",";\n  ",";\n"]);return oX=function(){return e},e}let oY=(0,Q.RW)(oV,e=>{let{onClickCloseButton:n,openDesignHistoryPopup:t,translate:r}=e;return(0,o.jsxs)(oJ,{children:[(0,o.jsxs)(oq,{children:[(0,o.jsx)(oQ,{children:r("EDITOR.HEADER_BAR.LABEL.DRAFT.START_DRAFT")}),(0,o.jsx)(nL.h,{size:"S",type:"ghost",color:"neutralLight",iconName:"close",onClick:n})]}),(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(o.Fragment,{}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(oG,{openDesignHistoryPopup:t})})]})}),oJ=i.ZP.div.withConfig({componentId:"sc-b698b988-0"})(oz(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation02},e=>{let{theme:n}=e;return n.token.s_shadow_popup}),oq=i.ZP.div.withConfig({componentId:"sc-b698b988-1"})(oK(),e=>{let{theme:n}=e;return n.token.s_color_divider_default}),oQ=i.ZP.span.withConfig({componentId:"sc-b698b988-2"})(oX(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S},e=>{let{theme:n}=e;return n.mixin.textOverflow()});var o$=t(81818),o0=t(10297),o1=t(44691),o4=t(24085),o2=t(44074),o3=t(59093),o5=t(49471),o8=t(28312);let o7=e=>{let{closePopOver:n}=e,{editorViewMode:t,changeEditorMode:r}=(0,tz.$H)(),o=(0,o4.c)(),{isLogin:i,selectedTeam:l}=(0,$.x)(),{openSignInModal:s}=(0,oc.N)(),{openUpgradePopup:c}=(0,o5.B)(),a=(0,ee.R)(null==l?void 0:l.idx,"FEEDBACK"),{designKey:u}=(0,o1.R)(),{hasAction:d}=(0,o0.H)(["DESIGN_MODIFY"]),{hasAction:p}=(0,o0.H)(["DESIGN_FEEDBACK_CREATE"]),h=i&&a,f=e=>{if(t!==e){if("FEEDBACK"!==e){r(e),n();return}if(!i){s(o8.X.LOGIN),n();return}if(!h){c({enterPoint:o3.aS.COOPERATION_FEEDBACK,detailPath:o2.E.ACTION_CHANGE_VIEW_MODE_UPGRADE_POPUP}),n();return}r(e),n()}};return{editorViewMode:t,onClickToChangeEditorMode:f,canUseFeedbackMode:h,isShowEditMenu:!u||d,isShowFeedbackMenu:!u||p,isEditorInitialized:o}};function o6(){let e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  width: 316px;\n  padding: 20px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  border-radius: 12px;\n  background-color: ",";\n  box-shadow: ",";\n"]);return o6=function(){return e},e}let o9=(0,Q.RW)(o7,e=>{let{translate:n,editorViewMode:t,canUseFeedbackMode:r,onClickToChangeEditorMode:i,isShowEditMenu:l,isShowFeedbackMenu:s,isEditorInitialized:c}=e;return(0,o.jsxs)(ie,{children:[l&&(0,o.jsx)(r8.v,{type:"menu",iconName:"edit_underline",menuName:n("EDITOR.HEADER_BAR.EDITOR_VIEW_MODE.DEFAULT"),supportText:n("EDITOR.HEADER_BAR.EDITOR_VIEW_MODE.DEFAULT.DESCRIPTION"),onClick:()=>i("DEFAULT"),onClickIcon:()=>i("DEFAULT"),selected:"DEFAULT"===t,disabled:!c}),s&&(0,o.jsx)(r8.v,{type:"menu",iconName:"comment",menuName:n("EDITOR.HEADER_BAR.EDITOR_VIEW_MODE.FEEDBACK"),supportText:n("EDITOR.HEADER_BAR.EDITOR_VIEW_MODE.FEEDBACK.DESCRIPTION"),onClick:()=>i("FEEDBACK"),onClickIcon:()=>i("FEEDBACK"),selected:"FEEDBACK"===t,proIconComponent:(0,o.jsx)(o$.l,{type:"ghost",color:r?"premiumSilver":"premiumGold"}),disabled:!c}),(0,o.jsx)(r8.v,{type:"menu",iconName:"eye",menuName:n("EDITOR.HEADER_BAR.EDITOR_VIEW_MODE.VIEWER"),supportText:n("EDITOR.HEADER_BAR.EDITOR_VIEW_MODE.VIEWER.DESCRIPTION"),onClick:()=>i("VIEWER"),onClickIcon:()=>i("VIEWER"),selected:"VIEWER"===t,disabled:!c})]})}),ie=i.ZP.div.withConfig({componentId:"sc-4bed52f0-0"})(o6(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover});var it=t(71575);let ir=()=>{let{getShortcut:e}=(0,rG.H)();return{getShortcut:e}};function io(){let e=(0,r.Z)(["\n  width: 316px;\n  padding: 20px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  height: Hug (352px);\n  border-radius: 16px;\n\n  background-color: ",";\n  box-shadow: ",";\n"]);return io=function(){return e},e}let ii=(0,Q.RW)(ir,e=>{let{getShortcut:n}=e;return(0,o.jsx)(il,{children:(0,o.jsx)(it.z,{getShortcut:n})})}),il=i.ZP.div.withConfig({componentId:"sc-a766e76-0"})(io(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.s_shadow_popover});var is=t(10823);let ic=()=>({});function ia(){let e=(0,r.Z)(["\n  width: 316px;\n  padding: 20px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  height: Hug (352px);\n  border-radius: 16px;\n\n  background-color: ",";\n  box-shadow: ",";\n"]);return ia=function(){return e},e}let iu=(0,Q.RW)(ic,e=>{let{}=e;return(0,o.jsx)(id,{children:(0,o.jsx)(is.k,{})})}),id=i.ZP.div.withConfig({componentId:"sc-47cef2ba-0"})(ia(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation02},e=>{let{theme:n}=e;return n.token.s_shadow_popover});var ip=t(92338),ih=t(52046),ix=t(71853);let ig=e=>{let{closePopOver:n}=e,t=e=>{let{width:n,height:t,purpose:r,unit:o,id:i}=e,l=(0,ix.E)({width:n,height:t,purpose:r,unit:o,id:i}),s=(0,ih.Y)(l);null==window||window.open(s)},r=e=>{let{width:n,height:t,purpose:r,unit:o}=e,i=(0,ix.E)({width:n,height:t,purpose:r,unit:o}),l=(0,ih.Y)(i);null==window||window.open(l)};return{closePopOver:n,onClickTemplateType:t,onClickMakeNewDeisgnButton:r}},i_=(0,Q.RW)(ig,e=>{let{closePopOver:n,onClickTemplateType:t,onClickMakeNewDeisgnButton:r}=e;return(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(o.Fragment,{children:"fallback"}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{children:"reject"}),children:(0,o.jsx)(ip.y,{closePopOver:n,showDirectInput:!0,enterPoint:"NEW_DESIGN",onClickTemplateType:t,onClickMakeNewDeisgnButton:r,popOverGroupId:rJ.zl})})});function im(){let e=(0,r.Z)(["\n  width: 100%;\n"]);return im=function(){return e},e}let iE=(0,Q.RW)(op,e=>{let{menuItem:n,isToggleUIActive:t,openChild:r,onClickMenuItem:i,closeMainMenuPopover:l,closeMenuItemPopvoer:s,openDesignHistoryPopup:c}=e;return(0,o.jsx)(iI,{children:(0,o.jsx)(eq.H,{value:n.menuId,caseBy:{CREATE_NEW_DESIGN:(0,o.jsx)(rK.J,{groupId:rJ.zl,show:r,closePopOver:s,horizontal:"right",vertical:"top",marginTop:-10,anchorElement:(0,o.jsx)(r9,{menuItem:n,isToggleUIActive:t,onClickMenuItem:i}),children:(0,o.jsx)(i_,{closePopOver:s})}),CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE:(0,o.jsx)(rK.J,{groupId:rJ.zl,show:r,closePopOver:s,horizontal:"right",vertical:"top",marginTop:-10,anchorElement:(0,o.jsx)(r9,{menuItem:n,isToggleUIActive:t,onClickMenuItem:i}),children:(0,o.jsx)(o9,{closePopOver:l})}),LANGUAGE:(0,o.jsx)(rK.J,{groupId:rJ.zl,show:r,closePopOver:s,horizontal:"right",vertical:"top",marginTop:-10,anchorElement:(0,o.jsx)(r9,{menuItem:n,isToggleUIActive:t,onClickMenuItem:i}),children:(0,o.jsx)(iu,{})}),PAGE_NUMBER:(0,o.jsx)(rK.J,{groupId:rJ.zl,show:r,closePopOver:s,horizontal:"right",vertical:"top",marginTop:-10,anchorElement:(0,o.jsx)(r9,{menuItem:n,isToggleUIActive:t,onClickMenuItem:i}),children:(0,o.jsx)(r3,{})}),GUIDE_LINE_SETTING:(0,o.jsx)(rK.J,{groupId:rJ.zl,show:r,closePopOver:s,horizontal:"right",vertical:"top",marginTop:-10,anchorElement:(0,o.jsx)(r9,{menuItem:n,isToggleUIActive:t,onClickMenuItem:i}),children:(0,o.jsx)(ii,{})}),DESIGN_APPROVAL:(0,o.jsx)(rK.J,{groupId:rJ.zl,show:r,closePopOver:s,horizontal:"right",vertical:"top",marginTop:-10,anchorElement:(0,o.jsx)(r9,{menuItem:n,isToggleUIActive:t,onClickMenuItem:i}),children:(0,o.jsx)(oY,{closePopOver:s,openDesignHistoryPopup:c})})},defaultComponent:(0,o.jsx)(r9,{menuItem:n,isToggleUIActive:t,onClickMenuItem:i})})})}),iI=i.ZP.div.withConfig({componentId:"sc-b66059fe-0"})(im());function iT(){let e=(0,r.Z)(["\n  width: 280px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8px;\n"]);return iT=function(){return e},e}function iC(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return iC=function(){return e},e}function iv(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return iv=function(){return e},e}let iw=e=>{let{groupMenuItem:n,closeMainMenuPopover:t,selectedMainMenu:r,setSelectedMainMenu:i,openDesignHistoryPopup:l}=e,{translate:s}=(0,r0.$)();return(0,o.jsxs)(ib,{children:[(0,o.jsx)(iR,{children:s(n.name)}),(0,o.jsx)(ij,{children:n.menuList.map(e=>(0,o.jsx)(iE,{menuItem:e,closeMainMenuPopover:t,selectedMainMenu:r,setSelectedMainMenu:i,openDesignHistoryPopup:l},e.menuId))})]})},ib=i.ZP.div.withConfig({componentId:"sc-a3538f9a-0"})(iT()),iR=i.ZP.div.withConfig({componentId:"sc-a3538f9a-1"})(iC(),e=>{let{theme:n}=e;return n.token.s_color_contents_additional},e=>{let{theme:n}=e;return n.token.c_label_typography_S_thick}),ij=i.ZP.div.withConfig({componentId:"sc-a3538f9a-2"})(iv());function iy(){let e=(0,r.Z)(["\n  padding-top: 4px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return iy=function(){return e},e}let iO=t3()(()=>t.e(79619).then(t.bind(t,79619)).then(e=>e.DevModeView),{loadableGenerated:{webpack:()=>[79619]},ssr:!1}),iP=e=>{let{groupMenuList:n,closeMainMenuPopover:t,selectedMainMenu:r,setSelectedMainMenu:i,openDesignHistoryPopup:l}=e,s=e=>e===n.length-1;return(0,o.jsxs)(ik,{children:[n.map((e,n)=>0!==e.menuList.length&&(0,o.jsxs)(c.Fragment,{children:[(0,o.jsx)(iw,{groupMenuItem:e,closeMainMenuPopover:t,selectedMainMenu:r,setSelectedMainMenu:i,openDesignHistoryPopup:l}),!s(n)&&(0,o.jsx)(rQ.i,{paddingSize:"L"})]},e.groupId)),(0,o.jsx)(iO,{})]})},ik=i.ZP.div.withConfig({componentId:"sc-d82518be-0"})(iy());var iD=t(88251),iA=t(68329),iS=t(1678);let iL=e=>{let{closeMainMenuPopover:n}=e,{value:t,setTrue:r,setFalse:o}=(0,Q.kt)(),{isLogin:i}=(0,$.x)(),l=()=>{o(),n()},{openSignInModal:s}=(0,oc.N)(),c=()=>{s(o8.X.LOGIN)};return{isLogin:i,openChild:t,openPopover:r,closePopover:o,closeAllPopover:l,openSignInModal:c}},iN=(0,Q.RW)(iL,e=>{let{isLogin:n,openPopover:t,openChild:r,closePopover:i,closeAllPopover:l,openSignInModal:s}=e;return(0,o.jsx)(rK.J,{groupId:rJ.zl,show:r,closePopOver:i,horizontal:"right",vertical:"top",marginTop:-ry.ww,marginLeft:ry.ww,anchorElement:n?(0,o.jsx)(iA.x,{onClickResizeButton:t,inputWidth:200}):(0,o.jsx)(iD.w,{onClickResizeButton:t,openSignInModal:s}),children:(0,o.jsx)(iS.P,{popOverGroupId:rJ.zl,closePopOver:l})})});var iM=t(43727);let iZ=e=>{let{closeMainMenuPopover:n,openDesignHistoryPopup:t}=e,[r,o]=(0,c.useState)(void 0),{getGroupList:i}=(0,iM.w)();return{groupList:i(),selectedMainMenu:r,setSelectedMainMenu:o,closeMainMenuPopover:n,openDesignHistoryPopup:t}};function iU(){let e=(0,r.Z)(["\n  width: 320px;\n  max-height: calc(100dvh - ","px - ","px);\n  padding: ","px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 16px;\n\n  background-color: ",";\n  border-radius: 16px;\n  box-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.15);\n"]);return iU=function(){return e},e}let iB=(0,r$.R)(iZ,e=>{let{groupList:n,closeMainMenuPopover:t,selectedMainMenu:r,setSelectedMainMenu:i,openDesignHistoryPopup:l}=e;return(0,o.jsx)(iF,{children:(0,o.jsxs)(rq.p,{children:[(0,o.jsx)(iN,{closeMainMenuPopover:t}),(0,o.jsx)(rQ.i,{paddingSize:"L",paddingPosition:"all",transparent:!1,color:"default",borderWidth:"thinest"}),(0,o.jsx)(iP,{selectedMainMenu:r,setSelectedMainMenu:i,groupMenuList:n,closeMainMenuPopover:t,openDesignHistoryPopup:l})]})})}),iF=i.ZP.div.withConfig({componentId:"sc-8606c168-0"})(iU(),64,ry.hM,ry.ww,e=>{let{theme:n}=e;return n.token.s_color_background_default});var iG=t(22175),iW=t(78981),iH=t(44821),iV=t(85474);let iz=e=>{var n;let{designHistoryIdxToBeSelected:t,closeDesignHistoryView:r}=e,{designIdx:o}=(0,o1.R)(),{data:i}=(0,iH.T)(o,{pageSize:10}),l=(0,c.useMemo)(()=>{var e;return null!==(n=null==i?void 0:null===(e=i.pages)||void 0===e?void 0:e.flatMap(e=>e.data.list))&&void 0!==n?n:[]},[i]),s=(0,c.useMemo)(()=>l[0],[l]),a=l.find(e=>e.designHistoryIdx===t),[u,d]=(0,c.useState)(null!=a?a:s),{value:p,toggle:h}=(0,Q.kt)();return(0,iV.f)({selectedHistory:u}),(0,c.useEffect)(()=>{d(s)},[s]),{closeDesignHistoryView:r,selectedHistory:u,setSelectedHistory:d,latestHistory:s,isCompare:p,toggleIsCompare:h}},iK=e=>{let{selectedHistory:n,setSelectedHistory:t,latestHistory:r,isCompare:o,closeDesignHistoryView:i}=e,{value:l,setFalse:s,setTrue:c}=(0,Q.kt)(!0);return{selectedHistory:n,setSelectedHistory:t,latestHistory:r,isCompare:o,isListViewVisible:l,closeListView:s,openListView:c,closeDesignHistoryView:i}};function iX(){let e=(0,r.Z)(["\n  width: 320px;\n  height: 100%;\n  box-sizing: border-box;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1 0 0;\n  align-self: stretch;\n\n  background-color: ",";\n  border-left: ",";\n"]);return iX=function(){return e},e}function iY(){let e=(0,r.Z)(["\n  width: 320px;\n  height: 56px;\n  padding: 12px 12px 12px 20px;\n\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  border-bottom: ",";\n"]);return iY=function(){return e},e}function iJ(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 24px;\n\n  color: ",";\n  text-overflow: ellipsis;\n  whitespace: nowrap;\n  font: ",";\n"]);return iJ=function(){return e},e}function iq(){let e=(0,r.Z)(["\n  width: 32px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return iq=function(){return e},e}function iQ(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1 0 0;\n  align-self: stretch;\n"]);return iQ=function(){return e},e}function i$(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: ",";\n  align-self: stretch;\n"]);return i$=function(){return e},e}function i0(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n  font: ",";\n"]);return i0=function(){return e},e}function i1(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n  font: ",";\n"]);return i1=function(){return e},e}let i4=e=>{let{onClickCloseButton:n}=e,{translate:t}=(0,et.$G)();return(0,o.jsxs)(i2,{children:[(0,o.jsxs)(i3,{children:[(0,o.jsx)(i5,{children:t("EDITOR.REMAIN_104")}),(0,o.jsx)(i8,{children:(0,o.jsx)(nL.h,{size:"S",type:"ghost",color:"neutralLight",shape:"square",selected:!1,iconName:"close",onClick:n})})]}),(0,o.jsx)(i7,{children:(0,o.jsxs)(i6,{children:[(0,o.jsx)(i9,{children:(0,o.jsx)(et.cC,{i18nKey:"EDITOR.EDITOR_390"})}),(0,o.jsx)(le,{children:(0,o.jsx)(et.cC,{i18nKey:"EDITOR.EDITOR_391"})})]})})]})},i2=i.ZP.div.withConfig({componentId:"sc-d478322f-0"})(iX(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return"1px solid ".concat(n.token.s_color_border_default)}),i3=i.ZP.div.withConfig({componentId:"sc-d478322f-1"})(iY(),e=>{let{theme:n}=e;return"1px solid ".concat(n.token.s_color_divider_default)}),i5=i.ZP.div.withConfig({componentId:"sc-d478322f-2"})(iJ(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S}),i8=i.ZP.div.withConfig({componentId:"sc-d478322f-3"})(iq()),i7=i.ZP.div.withConfig({componentId:"sc-d478322f-4"})(iQ()),i6=i.ZP.div.withConfig({componentId:"sc-d478322f-5"})(i$(),e=>{let{theme:n}=e;return n.token.c_emptyState_spacing_itemGap_sentence_M}),i9=i.ZP.div.withConfig({componentId:"sc-d478322f-6"})(i0(),e=>{let{theme:n}=e;return n.token.c_emptyState_color_contents_text_title},e=>{let{theme:n}=e;return n.token.c_emptyState_typography_title_M}),le=i.ZP.div.withConfig({componentId:"sc-d478322f-7"})(i1(),e=>{let{theme:n}=e;return n.token.c_emptyState_color_contents_text_sub},e=>{let{theme:n}=e;return n.token.c_emptyState_typography_sub_M});var ln=t(78576),lt=t(17991),lr=t(6091),lo=t(62657),li=t(70044),ll=t(41375);let ls=e=>{let{history:n}=e,{translate:t}=(0,et.$G)(),{openFlagPopup:r,closeFlagPopup:o}=(0,ll.g)(),{currentLanguage:i}=(0,e6.U)(),l=()=>{r({component:li.o,props:{title:t("EDITOR.REMAIN_107"),description:t("EDITOR.REMAIN_108",{historyDateString:(0,lr.OC)(n,i)}),iconType:"CHECK",onClose:o,popupHeight:124}})};return{onSuccessRestore:l}},lc=e=>{let{history:n,selectedHistory:t,setSelectedHistory:r,closeDesignHistoryView:o}=e,{currentLanguage:i}=(0,e6.U)(),{onSuccessRestore:l}=ls({history:n}),{saveMode:s,displayDateString:a,onClickRestore:u,onClickCopy:d}=(0,lo.T)({history:n,closeDesignHistory:o,onSuccessRestore:l}),p=()=>{r(n),g()},h=(0,c.useRef)(null),f=(0,Q.XI)(h),{value:x,setFalse:g,toggle:_}=(0,Q.kt)(!1),m=e=>{null==e||e.stopPropagation(),_()};return{currentLanguage:i,history:n,saveMode:s,displayDateString:a,isSelected:n.designHistoryIdx===(null==t?void 0:t.designHistoryIdx),listItemViewRef:h,isListItemViewHover:f,isMoreMenuPopupOpen:x,onClickMoreButton:m,closeMoreMenuPopup:g,onClickDesignHistoryListItem:p,onClickRestore:u,onClickCopy:d}};function la(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 96px;\n  padding: 16px;\n  border-radius: 8px;\n\n  background-color: ",";\n  &:hover {\n    background-color: ",";\n  }\n  background-color: ",";\n\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n"]);return la=function(){return e},e}function lu(){let e=(0,r.Z)(["\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 4px;\n  flex: 1 0 0;\n"]);return lu=function(){return e},e}function ld(){let e=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  gap: 4px;\n\n  overflow: hidden;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font: ",";\n"]);return ld=function(){return e},e}function lp(){let e=(0,r.Z)(["\n  /* width: 100%; */\n  height: 16px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  align-self: stretch;\n  color: ",";\n  font: ",";\n"]);return lp=function(){return e},e}function lh(){let e=(0,r.Z)(["\n  align-self: stretch;\n\n  color: ",";\n  font: ",";\n"]);return lh=function(){return e},e}let lf=(0,Q.RW)(lc,e=>{let{currentLanguage:n,theme:t,history:r,saveMode:i,displayDateString:l,isSelected:s,listItemViewRef:c,isListItemViewHover:u,isMoreMenuPopupOpen:d,onClickMoreButton:p,closeMoreMenuPopup:h,onClickDesignHistoryListItem:f,onClickRestore:x,onClickCopy:g}=e;return(0,o.jsx)(rK.J,{show:d,closePopOver:h,horizontal:"right",vertical:"bottom",alignment:"left",marginTop:-56,marginLeft:-16,anchorElement:(0,o.jsxs)(lx,{onClick:f,onTouchEnd:f,isActive:s,ref:c,children:[(0,o.jsx)(ln.I,{text:r.username,showBadge:!1}),(0,o.jsxs)(lg,{children:[(0,o.jsxs)(l_,{children:[r.draftStatus&&(0,o.jsx)(o_.PV,{draftStatus:r.draftStatus}),(0,lr.OC)(r,n)]}),(0,o.jsx)(lm,{children:(0,o.jsx)(eq.H,{value:i,caseBy:{restored:l,auto:l,manual:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.J,{width:"16px",height:"16px",iconName:"save",color:t.token.s_color_brand_primary_light}),l]})}})}),(0,o.jsx)(lE,{children:r.username})]}),(d||u)&&(0,o.jsx)(nL.h,{size:"XXS",type:"ghost",color:"neutralLight",shape:"square",selected:!1,iconName:"more_vertical",onClick:p})]}),children:(0,o.jsx)(lt.g,{onClickCopy:g,onClickRestore:x})})}),lx=i.ZP.div.withConfig({componentId:"sc-7703a74f-0"})(la(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n,isActive:t}=e;return!t&&n.token.s_color_surface_lightness},e=>{let{theme:n,isActive:t}=e;return t&&n.token.s_color_brand_primary_surface}),lg=i.ZP.div.withConfig({componentId:"sc-7703a74f-1"})(lu()),l_=i.ZP.div.withConfig({componentId:"sc-7703a74f-2"})(ld(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_label_medium_M}),lm=i.ZP.div.withConfig({componentId:"sc-7703a74f-3"})(lp(),e=>{let{theme:n}=e;return n.token.s_color_contents_sub},e=>{let{theme:n}=e;return n.token.s_typography_body_S}),lE=i.ZP.div.withConfig({componentId:"sc-7703a74f-4"})(lh(),e=>{let{theme:n}=e;return n.token.s_color_contents_sub},e=>{let{theme:n}=e;return n.token.s_typography_body_S});function lI(){let e=(0,r.Z)(["\n  width: 288px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 4px;\n  flex: 1 0 0;\n  align-self: stretch;\n\n  background-color: ",";\n"]);return lI=function(){return e},e}let lT=e=>{let{designHistoryGroup:n,selectedHistory:t,setSelectedHistory:r,closeDesignHistoryView:i}=e,{groupTitle:l,historyList:s}=n;return(0,o.jsxs)(lC,{children:[(0,o.jsx)(rl._,{hierarchy:"lightThick",size:"M",widthType:"fill",textOverflow:"ellipsis",text:l,showInfoIcon:!1}),s.map(e=>(0,o.jsx)(lf,{history:e,selectedHistory:t,setSelectedHistory:r,closeDesignHistoryView:i},e.designHistoryIdx))]})},lC=i.ZP.div.withConfig({componentId:"sc-7bc7dd62-0"})(lI(),e=>{let{theme:n}=e;return n.token.s_color_background_default});var lv=t(67835),lw=t(95303);let lb=e=>{var n,t;let{selectedHistory:r,setSelectedHistory:o,closeListView:i,closeDesignHistoryView:l}=e,{translate:s}=(0,et.$G)(),{currentLanguage:a}=(0,e6.U)(),{selectedTeamIdx:u}=(0,$.x)(),{data:d}=(0,lv.$A)(u),{designId:p}=(0,ox.W)(),h=null==d?void 0:null===(n=d.data)||void 0===n?void 0:n.useDraft,{data:f,fetchNextPage:x,hasNextPage:g,isFetchingNextPage:_}=(0,iH.T)(p,{pageSize:10,...h&&{withDraftInfo:!0}}),m=(0,c.useMemo)(()=>{var e;return null!==(t=null==f?void 0:null===(e=f.pages)||void 0===e?void 0:e.flatMap(e=>e.data.list))&&void 0!==t?t:[]},[null==f?void 0:f.pages]),E=()=>{!_&&g&&x()},I=(0,lr.gP)(m,s,a),T=()=>{i()},{targetRef:C}=(0,lw.S)(E);return{selectedHistory:r,setSelectedHistory:o,groupList:I,onClickCloseButton:T,bottomRef:C,closeDesignHistoryView:l}};function lR(){let e=(0,r.Z)(["\n  width: 320px;\n  height: 100%;\n  box-sizing: border-box;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1 0 0;\n  align-self: stretch;\n\n  background-color: ",";\n  border-left: ",";\n"]);return lR=function(){return e},e}function lj(){let e=(0,r.Z)(["\n  width: 320px;\n  height: 56px;\n  padding: 12px 12px 12px 20px;\n\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  border-bottom: ",";\n"]);return lj=function(){return e},e}function ly(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 24px;\n\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font: ",";\n"]);return ly=function(){return e},e}function lO(){let e=(0,r.Z)(["\n  width: 32px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return lO=function(){return e},e}function lP(){let e=(0,r.Z)(["\n  min-height: 10px;\n"]);return lP=function(){return e},e}function lk(){let e=(0,r.Z)(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return lk=function(){return e},e}let lD=(0,Q.RW)(lb,e=>{let{translate:n,selectedHistory:t,setSelectedHistory:r,groupList:i,onClickCloseButton:l,bottomRef:s,closeDesignHistoryView:c}=e;return(0,o.jsxs)(lA,{children:[(0,o.jsxs)(lS,{children:[(0,o.jsx)(lL,{children:n("EDITOR.REMAIN_104")}),(0,o.jsx)(lN,{children:(0,o.jsx)(nL.h,{size:"S",type:"ghost",color:"neutralLight",shape:"square",selected:!1,iconName:"close",onClick:l})})]}),(0,o.jsx)(rq.p,{children:(0,o.jsxs)(lZ,{children:[i.map((e,n)=>(0,o.jsx)(lT,{designHistoryGroup:e,selectedHistory:t,setSelectedHistory:r,closeDesignHistoryView:c},n)),(0,o.jsx)(lM,{ref:s})]})})]})}),lA=i.ZP.div.withConfig({componentId:"sc-bb247db1-0"})(lR(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return"1px solid ".concat(n.token.s_color_border_default)}),lS=i.ZP.div.withConfig({componentId:"sc-bb247db1-1"})(lj(),e=>{let{theme:n}=e;return"1px solid ".concat(n.token.s_color_divider_default)}),lL=i.ZP.div.withConfig({componentId:"sc-bb247db1-2"})(ly(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S}),lN=i.ZP.div.withConfig({componentId:"sc-bb247db1-3"})(lO()),lM=i.ZP.div.withConfig({componentId:"sc-bb247db1-4"})(lP()),lZ=i.ZP.div.withConfig({componentId:"sc-bb247db1-5"})(lk());function lU(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  background-color: ",";\n"]);return lU=function(){return e},e}function lB(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n  font: ",";\n"]);return lB=function(){return e},e}function lF(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n  font: ",";\n"]);return lF=function(){return e},e}let lG=()=>(0,o.jsxs)(lW,{children:[(0,o.jsx)(lH,{children:(0,o.jsx)(et.cC,{i18nKey:"EDITOR.EDITOR_388"})}),(0,o.jsx)(lV,{children:(0,o.jsx)(et.cC,{i18nKey:"EDITOR.EDITOR_389"})})]}),lW=i.ZP.div.withConfig({componentId:"sc-a964811c-0"})(lU(),e=>{let{theme:n}=e;return n.token.s_color_background_canvas}),lH=i.ZP.div.withConfig({componentId:"sc-a964811c-1"})(lB(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.c_emptyState_typography_title_M}),lV=i.ZP.div.withConfig({componentId:"sc-a964811c-2"})(lF(),e=>{let{theme:n}=e;return n.token.c_emptyState_color_contents_text_sub},e=>{let{theme:n}=e;return n.token.c_emptyState_typography_sub_M});var lz=t(1852);let lK=e=>{let{selectedHistory:n,latestHistory:t,isCompare:r}=e,o=(0,lz.useMediaQuery)({maxWidth:"768px"}),[i,l]=(0,c.useState)(o?.8:.4),s=(0,c.useMemo)(()=>(100*i).toFixed(0),[i]),a=(0,c.useCallback)(e=>{.1<=e&&e<=1.5?l(e):e<.1?l(.1):1.5<e&&l(1.5)},[]);(0,c.useEffect)(()=>{let e=(null==window?void 0:window.innerWidth)*(o?.8:.4)/1080,n=Number.parseFloat(e.toFixed(1));a(r?n/2:n)},[r,o,a]);let u=(0,c.useCallback)(()=>{a(1.1*i)},[i,a]),d=(0,c.useCallback)(()=>{a(i/1.1)},[i,a]);return{selectedHistory:n,latestHistory:t,isCompare:r,scale:i,scaleString:s,onClickScalePlus:u,onClickScaleMinus:d}};function lX(){let e=(0,r.Z)(["\n  // <Thumbnail /> 의 가로 / 세로 ratio를 width / height 값으로 맞춰주기 위한 계산 로직\n  width: ",";\n  height: ",";\n\n  padding: ","px;\n  flex-shrink: 0;\n  overflow-x: hidden;\n  overflow-y: hidden;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: ","px;\n"]);return lX=function(){return e},e}function lY(){let e=(0,r.Z)(["\n  width: 64px;\n  height: ","px;\n  flex-shrink: 0;\n\n  color: ",";\n  font: ",";\n"]);return lY=function(){return e},e}function lJ(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  box-shadow: ",";\n"]);return lJ=function(){return e},e}let lq=e=>{let{width:n,height:t,pageNumber:r,thumbnailUrl:i}=e,{translate:l}=(0,et.$G)();return(0,o.jsxs)(lQ,{width:n,height:t,children:[(0,o.jsx)(l$,{children:l("EDITOR.REMAIN_120",{pageNumber:r})}),(0,o.jsx)(l0,{src:i})]})},lQ=i.ZP.div.withConfig({componentId:"sc-1e5b1244-0"})(lX(),e=>{let{width:n}=e;return"".concat(n+130,"px")},e=>{let{height:n}=e;return"".concat(26+n+130,"px")},65,4),l$=i.ZP.div.withConfig({componentId:"sc-1e5b1244-1"})(lY(),22,e=>{let{theme:n}=e;return n.token.s_color_contents_additional},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),l0=i.ZP.img.withConfig({componentId:"sc-1e5b1244-2"})(lJ(),e=>{let{theme:n}=e;return n.token.b_shadow_10});var l1=t(70094);let l4=e=>{let{history:n,scale:t,isRecent:r}=e,{getThumbnailList:o}=(0,l1.s)(),{translate:i}=(0,et.$G)(),{currentLanguage:l}=(0,e6.U)(),{designId:s}=(0,ox.W)(),c=(0,lr.rD)(s,n.designHistoryIdx),a=o(c),u=JSON.parse(n.sizeOption),d=1080*u.height/u.width,p=r?i("EDITOR.COMMON_LABEL_LATEST_VERSION"):(0,oE.Yq)(new Date(n.createdDate),l);return{versionName:p,thumbnailList:a,width:1080*t,height:d*t}};function l2(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow-x: hidden;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: ",";\n  border-left: 1px solid ",";\n"]);return l2=function(){return e},e}function l3(){let e=(0,r.Z)(["\n  height: 40px;\n  border-radius: 999px;\n  background-color: ",";\n  padding: 0px 16px;\n\n  display: flex;\n  align-items: center;\n  font: ",";\n  color: ",";\n  line-height: inherit;\n"]);return l3=function(){return e},e}function l5(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 40px;\n  position: absolute;\n  top: 24px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return l5=function(){return e},e}function l8(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n"]);return l8=function(){return e},e}let l7=(0,Q.RW)(l4,e=>{let{versionName:n,thumbnailList:t,width:r,height:i}=e;return(0,o.jsxs)(l6,{children:[(0,o.jsx)(se,{children:(0,o.jsx)(l9,{children:n})}),(0,o.jsx)(sn,{children:(0,o.jsx)(rq.p,{children:t.map((e,n)=>(0,o.jsx)(lq,{width:r,height:i,pageNumber:n+1,thumbnailUrl:e},n))})})]})}),l6=i.ZP.div.withConfig({componentId:"sc-bf3c2c74-0"})(l2(),e=>{let{theme:n}=e;return n.token.s_color_background_canvas},e=>{let{theme:n}=e;return n.token.s_color_border_default}),l9=i.ZP.div.withConfig({componentId:"sc-bf3c2c74-1"})(l3(),e=>{let{theme:n}=e;return n.token.s_color_surface_darkness},e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_inverse_default}),se=i.ZP.div.withConfig({componentId:"sc-bf3c2c74-2"})(l5()),sn=i.ZP.div.withConfig({componentId:"sc-bf3c2c74-3"})(l8());function st(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n"]);return st=function(){return e},e}function sr(){let e=(0,r.Z)(["\n  width: 120px;\n  height: 40px;\n  padding: 8px;\n\n  position: absolute;\n  left: 40px;\n  bottom: 40px;\n\n  display: flex;\n  align-items: center;\n  gap: 4px;\n\n  border-radius: 100px;\n  background-color: ",";\n  box-shadow: ",";\n\n  color: ",";\n  font: ",";\n"]);return sr=function(){return e},e}function so(){let e=(0,r.Z)(["\n  width: 48px;\n  height: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 4px;\n  flex: 1 0 0;\n"]);return so=function(){return e},e}function si(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n"]);return si=function(){return e},e}function sl(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n"]);return sl=function(){return e},e}let ss=(0,Q.RW)(lK,e=>{let{selectedHistory:n,latestHistory:t,isCompare:r,scale:i,scaleString:l,onClickScalePlus:s,onClickScaleMinus:c}=e;return(0,o.jsxs)(sc,{children:[r&&(0,o.jsx)(l7,{history:t,scale:i,isRecent:!0}),(0,o.jsx)(l7,{history:n,scale:i}),(0,o.jsxs)(sa,{children:[(0,o.jsx)(nL.h,{size:"XXS",type:"ghost",color:"neutralDeep",shape:"square",selected:!1,iconName:"subtract",onClick:c}),(0,o.jsxs)(su,{children:[(0,o.jsx)(sd,{children:l}),(0,o.jsx)(sp,{children:"%"})]}),(0,o.jsx)(nL.h,{size:"XXS",type:"ghost",color:"neutralDeep",shape:"square",selected:!1,iconName:"add",onClick:s})]})]})}),sc=i.ZP.div.withConfig({componentId:"sc-a9368a05-0"})(st()),sa=i.ZP.div.withConfig({componentId:"sc-a9368a05-1"})(sr(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.b_shadow_20},e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_label_semiBold_XS}),su=i.ZP.div.withConfig({componentId:"sc-a9368a05-2"})(so()),sd=i.ZP.div.withConfig({componentId:"sc-a9368a05-3"})(si(),e=>{let{theme:n}=e;return n.token.s_color_contents_default}),sp=i.ZP.div.withConfig({componentId:"sc-a9368a05-4"})(sl(),e=>{let{theme:n}=e;return n.token.s_color_contents_additional});function sh(){let e=(0,r.Z)(["\n        height: calc(100dvh - ","px);\n      "]);return sh=function(){return e},e}function sf(){let e=(0,r.Z)(["\n        height: calc(100dvh - ","px);\n      "]);return sf=function(){return e},e}function sx(){let e=(0,r.Z)(["\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  background-color: ",";\n  isolation: isolate;\n  z-index: ",";\n  border-bottom: 1px solid;\n\n  // 768 px 이하\n  height: ",";\n  ","\n  ","\n"]);return sx=function(){return e},e}function sg(){let e=(0,r.Z)(["\n  width: 93px;\n  height: 40px;\n  padding: 8px 16px;\n\n  position: absolute;\n  right: 40px;\n  bottom: 40px;\n\n  display: flex;\n  align-items: center;\n  gap: 4px;\n\n  border-radius: 99px;\n  background-color: ",";\n  box-shadow: ",";\n\n  color: ",";\n  font: ",";\n"]);return sg=function(){return e},e}let s_=(0,Q.RW)(iK,e=>{let{translate:n,selectedHistory:t,setSelectedHistory:r,latestHistory:i,isCompare:l,isListViewVisible:s,closeListView:c,openListView:u,closeDesignHistoryView:d}=e;return(0,o.jsxs)(sm,{children:[t&&i?(0,o.jsx)(ss,{selectedHistory:t,latestHistory:i,isCompare:l}):(0,o.jsx)(lG,{}),s?t?(0,o.jsx)(lD,{selectedHistory:t,setSelectedHistory:r,closeListView:c,closeDesignHistoryView:d}):(0,o.jsx)(i4,{onClickCloseButton:c}):(0,o.jsxs)(sE,{onClick:u,children:[(0,o.jsx)(a.J,{width:"16px",height:"16px",color:"neutralDeep",iconName:"list_check"}),n("EDITOR.REMAIN_104")]})]})}),sm=i.ZP.div.withConfig({componentId:"sc-da4aaa09-0"})(sx(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.zIndex.ROOT__HEADER},e=>{let{}=e;return"calc(100dvh - ".concat(ry.cZ,"px);")},e=>{let{theme:n}=e;return n.media.over768Desktop((0,i.iv)(sh(),ry.sX))},e=>{let{theme:n}=e;return n.media.over1200Desktop((0,i.iv)(sf(),ry.Mb))}),sE=i.ZP.div.withConfig({componentId:"sc-da4aaa09-1"})(sg(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.b_shadow_20},e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_label_semiBold_XS});var sI=t(39865),sT=t(68864),sC=t(243),sv=t(75815),sw=t(47111),sb=t(66370);let sR=e=>{let{selectedHistory:n,closeDesignHistoryView:t,isCompare:r,toggleIsCompare:o}=e,{designId:i}=(0,ox.W)(),{canCopy:l}=(0,sv.c)(),{onClickCopy:s,isMakeCopyModalOpen:c,closeMakeCopyModal:a,toggleMakeCopyModal:u}=(0,sw.W)(i,n,t),{onSuccessRestore:d}=ls({history:n}),{onClickRestore:p}=(0,sb.x)({designIdx:i,selectedHistory:n,closeDesignHistory:t,onSuccessRestore:d});return{onClickLeaveDesignHistory:t,isCompare:r,toggleIsCompare:o,onClickRestoreThisVersion:()=>p(o2.E.ACTION_REVERT_DESIGN_UPGRADE_POPUP),isMakeCopyModalOpen:c,onClickHeaderBarMoreButton:u,closeMakeCopyModal:a,canCopy:l,onClickCopy:s}};function sj(){let e=(0,r.Z)(["\n  width: 280px;\n  height: 56px;\n  padding: 8px;\n  border-radius: 16px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1 0 0;\n\n  background-color: ",";\n  box-shadow: ",";\n"]);return sj=function(){return e},e}let sy=e=>{let{canCopy:n,onClickCopy:t}=e,{translate:r}=(0,et.$G)();return(0,o.jsx)(sO,{children:(0,o.jsx)(r8.v,{type:"menu",menuName:r("EDITOR.HEADER_BAR.FILE.CREATE_DESIGN_COPY"),iconName:"copy",selected:!1,onClick:t,proIconComponent:(0,o.jsx)(o$.l,{type:"ghost",color:n?"premiumSilver":"premiumGold"})})})},sO=i.ZP.div.withConfig({componentId:"sc-44292693-0"})(sj(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.s_shadow_popover});function sP(){let e=(0,r.Z)(["\n      height: ","px;\n    "]);return sP=function(){return e},e}function sk(){let e=(0,r.Z)(["\n      height: ","px;\n    "]);return sk=function(){return e},e}function sD(){let e=(0,r.Z)(["\n  width: 100%;\n  height: ","px;\n  ","\n  ",";\n  padding: 0 12px;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  background-color: ",";\n  isolation: isolate;\n  z-index: ",";\n  border-bottom: ",";\n"]);return sD=function(){return e},e}function sA(){let e=(0,r.Z)(["\n  height: 28px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: ",";\n  font: ",";\n"]);return sA=function(){return e},e}function sS(){let e=(0,r.Z)(["\n  height: 40px;\n  display: flex;\n  align-items: center;\n  gap: 24px;\n"]);return sS=function(){return e},e}function sL(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  color: ",";\n  text-align: center;\n"]);return sL=function(){return e},e}let sN=(0,Q.RW)(sR,e=>{let{translate:n,onClickLeaveDesignHistory:t,isCompare:r,toggleIsCompare:i,onClickRestoreThisVersion:l,isMakeCopyModalOpen:s,onClickHeaderBarMoreButton:c,closeMakeCopyModal:a,canCopy:u,onClickCopy:d}=e;return(0,o.jsxs)(sM,{children:[(0,o.jsxs)(sZ,{children:[(0,o.jsx)(nL.h,{size:"XS",type:"ghost",color:"neutralDeep",shape:"square",selected:!1,iconName:"chevron_left_2px",onClick:t}),n("EDITOR.REMAIN_89")]}),(0,o.jsxs)(sU,{children:[(0,o.jsxs)(sB,{children:[n("EDITOR.REMAIN_92"),(0,o.jsx)(sI.r,{selected:r,size:"M",disabled:!1,onClick:i})]}),(0,o.jsx)(sT.a,{combination:"commonAndCommon",size:"M",widthType:"hug",textOverflow:"ellipsis",leftButton:(0,o.jsx)(sC.d,{size:"M",type:"fill",color:"primary",shape:"square",selected:!1,disabled:!1,loading:!1,text:n("EDITOR.REMAIN_90"),iconName:"history",onClick:l}),rightButton:(0,o.jsx)(rK.J,{groupId:rJ.zl,show:s,closePopOver:a,horizontal:"right",vertical:"bottom",alignment:"left",marginTop:4,anchorElement:(0,o.jsx)(nL.h,{size:"M",type:"fill",color:"primary",shape:"square",selected:!1,iconName:"chevron_down",onClick:c}),children:(0,o.jsx)(sy,{canCopy:u,onClickCopy:d})})})]})]})}),sM=i.ZP.div.withConfig({componentId:"sc-3d5107f2-0"})(sD(),ry.cZ,e=>{let{theme:n}=e;return n.media.over768Desktop((0,i.iv)(sP(),ry.sX))},e=>{let{theme:n}=e;return n.media.over1200Desktop((0,i.iv)(sk(),ry.Mb))},e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.zIndex.ROOT__HEADER},e=>{let{theme:n}=e;return"1px solid ".concat(n.token.s_color_border_default)}),sZ=i.ZP.div.withConfig({componentId:"sc-3d5107f2-1"})(sA(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S}),sU=i.ZP.div.withConfig({componentId:"sc-3d5107f2-2"})(sS()),sB=i.ZP.div.withConfig({componentId:"sc-3d5107f2-3"})(sL(),e=>{let{theme:n}=e;return n.token.s_color_contents_default}),sF=e=>{let{closeDesignHistoryView:n}=e;return{onClickLeaveDesignHistory:n}};function sG(){let e=(0,r.Z)(["\n      height: ","px;\n    "]);return sG=function(){return e},e}function sW(){let e=(0,r.Z)(["\n      height: ","px;\n    "]);return sW=function(){return e},e}function sH(){let e=(0,r.Z)(["\n  width: 100%;\n  height: ","px;\n  ","\n  ",";\n  padding: 0 12px;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  background-color: ",";\n  isolation: isolate;\n  z-index: ",";\n  border-bottom: ",";\n"]);return sH=function(){return e},e}function sV(){let e=(0,r.Z)(["\n  width: 96px;\n  height: 28px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: ",";\n  font: ",";\n"]);return sV=function(){return e},e}function sz(){let e=(0,r.Z)(["\n  height: 40px;\n  display: flex;\n  align-items: center;\n  gap: 24px;\n"]);return sz=function(){return e},e}function sK(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  color: ",";\n  text-align: center;\n"]);return sK=function(){return e},e}let sX=(0,Q.RW)(sF,e=>{let{translate:n,onClickLeaveDesignHistory:t}=e;return(0,o.jsxs)(sY,{children:[(0,o.jsxs)(sJ,{children:[(0,o.jsx)(nL.h,{size:"XS",type:"ghost",color:"neutralDeep",shape:"square",selected:!1,iconName:"chevron_left_2px",onClick:t}),n("EDITOR.REMAIN_89")]}),(0,o.jsxs)(sq,{children:[(0,o.jsxs)(sQ,{children:[n("EDITOR.REMAIN_92"),(0,o.jsx)(sI.r,{disabled:!0,selected:!1,size:"M",onClick:()=>{}})]}),(0,o.jsx)(sT.a,{combination:"commonAndCommon",size:"M",widthType:"hug",textOverflow:"ellipsis",leftButton:(0,o.jsx)(sC.d,{size:"M",type:"fill",color:"primary",shape:"square",selected:!1,disabled:!0,loading:!1,text:n("EDITOR.REMAIN_90"),iconName:"history",onClick:()=>{}}),rightButton:(0,o.jsx)(nL.h,{disabled:!0,size:"M",type:"fill",color:"primary",shape:"square",selected:!1,iconName:"chevron_down",onClick:()=>{}})})]})]})}),sY=i.ZP.div.withConfig({componentId:"sc-34ffac3d-0"})(sH(),ry.cZ,e=>{let{theme:n}=e;return n.media.over768Desktop((0,i.iv)(sG(),ry.sX))},e=>{let{theme:n}=e;return n.media.over1200Desktop((0,i.iv)(sW(),ry.Mb))},e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.zIndex.ROOT__HEADER},e=>{let{theme:n}=e;return"1px solid ".concat(n.token.s_color_border_default)}),sJ=i.ZP.div.withConfig({componentId:"sc-34ffac3d-1"})(sV(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S}),sq=i.ZP.div.withConfig({componentId:"sc-34ffac3d-2"})(sz()),sQ=i.ZP.div.withConfig({componentId:"sc-34ffac3d-3"})(sK(),e=>{let{theme:n}=e;return n.token.s_color_contents_default});function s$(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  background-color: ",";\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.16);\n"]);return s$=function(){return e},e}let s0=(0,Q.RW)(iz,e=>{let{closeDesignHistoryView:n,selectedHistory:t,setSelectedHistory:r,latestHistory:i,isCompare:l,toggleIsCompare:s}=e;return(0,o.jsxs)(s1,{children:[t?(0,o.jsx)(sN,{selectedHistory:t,closeDesignHistoryView:n,isCompare:l,toggleIsCompare:s}):(0,o.jsx)(sX,{closeDesignHistoryView:n}),(0,o.jsx)(s_,{selectedHistory:t,setSelectedHistory:r,latestHistory:i,isCompare:l,closeDesignHistoryView:n})]})}),s1=i.ZP.div.withConfig({componentId:"sc-46e8044-0"})(s$(),e=>{let{theme:n}=e;return n.token.s_color_background_default}),s4=e=>{let{designHistoryIdxToBeSelected:n,closeDesignHistoryView:t}=e;return(0,o.jsx)(s.h,{children:(0,o.jsx)(iG.f,{children:(0,o.jsx)(iW.l,{children:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(n6.$,{}),rejectedFallback:()=>(0,o.jsx)(n6.$,{}),children:(0,o.jsx)(s0,{designHistoryIdxToBeSelected:n,closeDesignHistoryView:t})})})})})},s2=e=>{let{offset:n}=e,{openPopup:t,closePopup:r}=(0,nM.B)(),{value:i,setFalse:l,toggle:s}=(0,Q.kt)(!1),a=e=>{t({component:s4,props:{closeDesignHistoryView:r,designHistoryIdxToBeSelected:e}})},{sendNoParameterButtonClickEvent:u}=(0,rY.P)(),d=(0,c.useCallback)(()=>{s(),u("ACTION_CLICK_MAIN_MENU_BUTTON")},[u,s]);return(0,o.jsx)(rK.J,{groupId:rJ.zl,show:i,closePopOver:l,placement:"bottom-start",offset:n,anchorElement:(0,o.jsx)(s3,{onClick:d}),children:(0,o.jsx)(iB,{closeMainMenuPopover:l,openDesignHistoryPopup:a})})},s3=e=>{let{onClick:n}=e,{translate:t}=(0,et.$G)();return(0,o.jsx)(rX.e,{type:"oneLine",position:"bottomStart",color:"neutral",size:"S",subText:t("EDITOR.EDITOR_209"),show:!0,children:(0,o.jsx)(nL.h,{iconName:"main_menu",type:"ghost",color:"neutralDeep",shape:"square",size:"M",onClick:n})})};var s5=t(63677),s8=t(82219);let s7=()=>{let{editorViewMode:e,isEditUndoredoEnabled:n}=(0,s8.A)(),t=(0,lz.useMediaQuery)({minWidth:"1200px"}),r=(0,lz.useMediaQuery)({minWidth:"768px"}),o=t?ry.Mb:r?ry.sX:ry.cZ,i=(o-ry.cr)/2+ry.cE,l=(0,re.H)(),s=(0,s5.G)(()=>window.history.back());return{editorViewMode:e,mainMenuPopupTop:i,isEditUndoRedoEnabled:n,isPrintoutEditor:l,onClickBack:s}};function s6(){let e=(0,r.Z)(["\n      width: auto;\n    "]);return s6=function(){return e},e}function s9(){let e=(0,r.Z)(["\n      width: ",";\n    "]);return s9=function(){return e},e}function ce(){let e=(0,r.Z)(["\n  ","\n\n  ","\n"]);return ce=function(){return e},e}let cn=t3()(()=>t.e(57491).then(t.bind(t,57491)).then(e=>e.BetaButtonView),{loadableGenerated:{webpack:()=>[57491]},ssr:!1}),ct=(0,Q.RW)(s7,e=>{let{editorViewMode:n,mainMenuPopupTop:t,isEditUndoRedoEnabled:r,isPrintoutEditor:i,onClickBack:l}=e;return(0,o.jsxs)(cr,{$editorViewMode:n,children:[i&&(0,o.jsx)(nL.h,{size:"M",type:"ghost",color:"neutralDeep",onClick:l,iconName:"arrow_left"}),(0,o.jsx)(s2,{offset:t}),"DEFAULT"===n&&r&&(0,o.jsx)(rV,{}),!i&&(0,o.jsx)(cn,{})]})}),cr=(0,i.ZP)(rA).withConfig({componentId:"sc-b66c645a-0"})(ce(),e=>{let{theme:n}=e;return n.media.over768Desktop((0,i.iv)(s6()))},e=>{let{theme:n,$editorViewMode:t}=e;return n.media.over1200Desktop((0,i.iv)(s9(),"DEFAULT"!==t?"420px":"auto"))});function co(){let e=(0,r.Z)(["\n      height: ","px;\n    "]);return co=function(){return e},e}function ci(){let e=(0,r.Z)(["\n      height: ","px;\n    "]);return ci=function(){return e},e}function cl(){let e=(0,r.Z)(["\n  height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  background-color: ",";\n  width: 100%;\n  isolation: isolate;\n  z-index: ",";\n  padding-right: 12px;\n  border-bottom: 1px solid\n    ",";\n\n  ","\n\n  ","\n    \n    \n    ","\n"]);return cl=function(){return e},e}let cs=t3()(()=>t.e(74301).then(t.bind(t,74301)).then(e=>e.HeaderBarCenterView),{loadableGenerated:{webpack:()=>[74301]},ssr:!1}),cc=t3()(()=>Promise.all([t.e(69388),t.e(49779)]).then(t.bind(t,32648)).then(e=>e.HeaderBarRightView),{loadableGenerated:{webpack:()=>[32648]},ssr:!1}),ca=(0,Q.RW)(rn,e=>{let{isCropMode:n,onClickContainer:t,isPrintoutEditor:r,mode:i}=e;return(0,o.jsx)(t8.Lw,{children:(0,o.jsxs)(t5.u,{children:[(0,o.jsx)(rv,{}),(0,o.jsxs)(cu,{isCropMode:n,onClick:t,children:[(0,o.jsx)(ct,{}),!r&&(0,o.jsx)(cs,{}),r?(0,o.jsx)(rh,{mode:i}):(0,o.jsx)(cc,{})]})]})})}),cu=i.ZP.div.withConfig({componentId:"sc-a4fc4d40-0"})(cl(),ry.cZ,e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.zIndex.ROOT__HEADER},e=>{let{theme:n,isCropMode:t}=e;return t?"rgba(0, 0, 0, 0.6)":n.token.s_color_border_light},e=>{let{theme:n}=e;return n.media.over768Desktop((0,i.iv)(co(),ry.sX))},e=>{let{theme:n}=e;return n.media.over1200Desktop((0,i.iv)(ci(),ry.Mb))},e=>{let{isCropMode:n}=e;return n&&"\n      position: relative;\n      &::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.6);\n      }\n    "});var cd=t(98923);let cp=()=>{(0,cd.d)()},ch=(0,Q.RW)(cp,()=>(0,o.jsx)(o.Fragment,{}));var cf=t(29777),cx=t(94679);let cg=()=>{let{subscribe:e}=(0,on.j)(),n=(0,tK.FT)(),{isLeftPanelVisible:t,setLeftPanelVisible:r}=(0,tX.F)();(0,c.useEffect)(()=>{let o=e("EVENT_CHANGED_ANIMATION_SETTINGS",e=>{(0,es.EQ)(e.event).with("OPEN",()=>{t||r(!0),n("ANIMATION")}).with("CLOSE",()=>{n(void 0)}).with("TOGGLE",()=>{if(!t){r(!0),n("ANIMATION");return}n(e=>"ANIMATION"===e?void 0:"ANIMATION")})});return()=>{null==o||o.unsubscribe()}},[t,r,n,e])},c_=()=>{let{editorViewMode:e}=(0,tz.$H)(),[n,t]=(0,c.useState)(!1);(0,t7.F)(t);let{setFocusArea:r}=(0,t6.G)();(0,cf.H)(),(0,cx.d)(),cg();let o=(0,c.useCallback)(()=>{r("leftPanel")},[r]);return{editorViewMode:e,isCropMode:n,onClickContainer:o}};var cm=t(44420);let cE=e=>{let{children:n}=e,{leftPanelWidth:t,maxPanelWidth:r}=(0,cm.z)(),{isLeftPanelVisible:o}=(0,tX.F)();return{children:n,width:t,maxWidth:r,isLeftPanelVisible:o}};var cI=t(77397);function cT(){let e=(0,r.Z)(["\n  flex: 1;\n  height: 100%;\n  min-width: ","px;\n  background-color: ",";\n  border-right: 1px solid ",";\n"]);return cT=function(){return e},e}let cC=(0,Q.RW)(cE,e=>{let{children:n,width:t,maxWidth:r,isLeftPanelVisible:i}=e;return(0,o.jsx)(cv,{style:{width:t,maxWidth:r,...!i&&{display:"none"}},children:n})}),cv=i.ZP.div.withConfig({componentId:"sc-dbf7fe61-0"})(cT(),cI.fr,e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.s_color_border_light});var cw=t(83237);let cb=()=>{let e=(0,cw.j)();return{showHandle:e}};var cR=t(67484);let cj=()=>{let{emit:e}=(0,ne.x)(),n=n=>{e("ACTION_DRAG_LEFT_PANEL_RESIZE_BUTTON",{...n})};return{sendActionDragLeftPanelResizeButtonEvent:n}};var cy=t(45102),cO=t(89080);let cP=()=>{let{leftPanelWidth:e,maxPanelWidth:n}=(0,cm.z)(),{setLeftPanelExpandedWidth:t}=(0,cy.Y)(),{setLeftPanelVisible:r}=(0,tX.F)(),o=(0,c.useRef)(null),i=(0,c.useRef)(document),l=(0,Q.XI)(o),s=(0,c.useRef)(0),a=(0,c.useRef)(!1),u=(0,c.useRef)(!1),d=(0,c.useMemo)(()=>(0,cO.P2)(e=>{if(!u.current)return;let r=Math.min(e.clientX-cI.Qc,n);t(r),!a.current&&Math.abs(s.current-r)>50&&(a.current=!0)},50),[n,t]),{user:p}=(0,$.x)(),{sendActionDragLeftPanelResizeButtonEvent:h}=cj(),f=(0,c.useCallback)(()=>{u.current&&(a.current||t(50>Math.abs(e-cI.wt)?cI.I1:cI.wt),e<cI.wt&&(e<cI.H9&&r(!1),t(cI.wt)),u.current=!1,a.current=!1,h({account_id:null==p?void 0:p.accountId}))},[e,r,t,h,null==p?void 0:p.accountId]);(0,Q.OR)("mousemove",d,i),(0,Q.OR)("mouseup",f,i);let x=()=>{s.current=e,a.current=!1,u.current=!0};return{handleMouseDown:x,containerRef:o,isHover:l}};function ck(){let e=(0,r.Z)(["\n  user-select: none;\n  cursor: col-resize;\n  padding: 6px 16px 6px 0;\n"]);return ck=function(){return e},e}function cD(){let e=(0,r.Z)(["\n  position: absolute;\n  top: calc(50% - ","px);\n  right: -","px;\n"]);return cD=function(){return e},e}let cA=(0,Q.RW)(cP,e=>{let{containerRef:n,isHover:t,handleMouseDown:r}=e;return(0,o.jsx)(cL,{children:(0,o.jsx)(cS,{ref:n,onMouseDown:r,children:(0,o.jsx)(cR.v,{isHover:t})})})}),cS=i.ZP.div.withConfig({componentId:"sc-cfe84b77-0"})(ck()),cL=i.ZP.div.withConfig({componentId:"sc-cfe84b77-1"})(cD(),cI.YQ/2,cI.YR-1),cN=(0,Q.RW)(cb,e=>{let{showHandle:n}=e;return n?(0,o.jsx)(cA,{}):(0,o.jsx)(o.Fragment,{})});function cM(){let e=(0,r.Z)(["\n  width: ","px;\n  height: 100%;\n  border-right: 1px solid ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 4px 16px 4px;\n  background-color: ",";\n"]);return cM=function(){return e},e}let cZ=i.ZP.div.withConfig({componentId:"sc-b6810445-0"})(cM(),cI.Qc,e=>{let{theme:n}=e;return n.token.s_color_border_light},e=>{let{theme:n}=e;return n.token.s_color_background_default});var cU=t(61881);let cB=()=>{let{selectedDesignResourceMenu:e}=(0,tV.jq)();return{selectedLeftPanelMenu:e}};var cF=t(69110),cG=t(65653),cW=t(47414),cH=t(90376),cV=t(7565),cz=t(81665);let cK=()=>{let{openLoadTemplateModal:e,onCompleteLoadTemplate:n}=(0,cz.F)(),t=(0,cV.W)(),r=(0,c.useCallback)(r=>{let o=()=>{n()};t({...r,onStartUserDesignLoading:e,onEndUserDesignLoading:o})},[n,e,t]);return{overwriteDesign:r}},cX=e=>{let{visible:n}=e,{isLogin:t}=(0,$.x)(),[r,o]=(0,c.useState)(!1),{changeTemplatePage:i}=(0,cW.n)(),{overwriteTemplate:l}=(0,cH.L)(),{overwriteDesign:s}=cK();return(0,c.useEffect)(()=>{o(e=>e||n)},[n]),{isLogin:t,visible:n,enabled:r,changeTemplatePage:i,overwriteTemplate:l,overwriteDesign:s}};function cY(){let e=(0,r.Z)(["\n  height: 100%;\n  display: ",";\n"]);return cY=function(){return e},e}let cJ=(0,Q.RW)(cX,e=>{let{isLogin:n,visible:t,enabled:r,changeTemplatePage:i,overwriteTemplate:l,overwriteDesign:s}=e;return(0,o.jsx)(o.Fragment,{children:r&&(0,o.jsx)(cq,{visible:t,children:(0,o.jsx)(t5.u,{children:(0,o.jsx)(cF.$,{children:n&&(0,o.jsx)(cG.L,{changeTemplatePage:i,overwriteTemplate:l,overwriteDesign:s})})})})})}),cq=i.ZP.div.withConfig({componentId:"sc-cf129b91-0"})(cY(),e=>{let{visible:n}=e;return n?"block":"none"});var cQ=t(93374),c$=t(18618),c0=t(37134),c1=t(31835),c4=t(34455),c2=t(16700),c3=t(70162),c5=t(16648);let c8=e=>{var n;let{onClickMore:t,setSelectedTemplateData:r,carouselHeightOption:o}=e,i=(0,c3.TQ)(),l=(0,c3.tR)(),s=null!==(n=null==i?void 0:i.id)&&void 0!==n?n:"VIDEO"===l?"VIDEO_TEMPLATE":"TEMPLATE",{searchLanguage:c}=(0,c5.V)(),{currentLanguage:a}=(0,e6.U)();return{onClickMore:t,showPreview:!l&&!i,templateTypeId:null==i?void 0:i.id,setSelectedTemplateData:r,keywordCategoryType:s,language:i?c:a,templatePurpose:l,carouselHeightOption:o}};var c7=t(71266),c6=t(83532),c9=t(94251),ae=t(16577),an=t(97221),at=t(76033),ar=t(82650);let ao=e=>{let{onClickMore:n,setSelectedTemplateData:t}=e,{onClickTemplateItem:r}=(0,at.c)({setSelectedTemplateData:t}),{currentLanguage:o}=(0,e6.U)(),{data:i}=(0,ae.zf)({entityType:"TEMPLATE",language:o}),{carouselHeight:l,thumbnailWrapperMaxWidth:s,thumbnailWrapperMinWidth:a,scrollPercentage:u}=(0,ar.B)(),d=(0,c.useCallback)(e=>({imageProps:{idx:e.idx,thumbnailUrl:e.thumbnailUrl,objectFit:"cover",width:e.width,height:e.height},thumbnailProps:(0,an.C)(e)}),[]),p=(0,c.useMemo)(()=>{var e,n;return null==i?void 0:null===(e=i.data)||void 0===e?void 0:null===(n=e.list)||void 0===n?void 0:n.map(e=>({title:e.keywordCategoryTitle,templateList:e.templateList.map(d)}))},[i,d]),h=(0,c6.YK)();return(0,c.useEffect)(()=>{if(p)return h(p.length),()=>{h(0)}},[p,h]),{resourceList:p,carouselHeight:l,onClickMore:n,onClickItem:r,thumbnailWrapperMaxWidth:s,thumbnailWrapperMinWidth:a,scrollPercentage:u}},ai=(0,Q.RW)(ao,e=>{let{thumbnailWrapperMaxWidth:n,thumbnailWrapperMinWidth:t,scrollPercentage:r,resourceList:i,carouselHeight:l,onClickItem:s,onClickMore:c}=e;return(0,o.jsx)(o.Fragment,{children:i&&i.length>0&&i.map((e,i)=>(0,o.jsx)(c7.y,{title:e.title,carouselHeight:l,scrollPercentage:r,handleClickMore:()=>{null==c||c(e.title)},children:(0,o.jsx)(c9.J,{carouselTitle:e.title,resourceList:e.templateList,onClickItem:s,thumbnailWrapperMaxWidth:n,thumbnailWrapperMinWidth:t,isFixedSize:!1,verticalViewSequence:(0,c6.Wy)()+i})},"".concat(e.title,"_").concat(i)))})}),al=(0,Q.RW)(c8,e=>{let{showPreview:n,onClickMore:t,setSelectedTemplateData:r,keywordCategoryType:i,language:l,templateTypeId:s,templatePurpose:c,carouselHeightOption:a}=e;return(0,o.jsx)(o.Fragment,{children:n?(0,o.jsx)(ai,{onClickMore:t,setSelectedTemplateData:r}):(0,o.jsx)(c2.Q,{onClickMore:t,setSelectedTemplateData:r,keywordCategoryType:i,language:l,templateTypeId:s,templatePurpose:c,carouselHeightOption:a})})}),as=e=>(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(c1.x,{}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{}),ignoreError:()=>!1,children:(0,o.jsx)(al,{...e})});var ac=t(58453),aa=t(31454),au=t(1041),ad=t(89088);let ap=e=>{var n,t,r,o;let{data:i,onClickItem:l,verticalViewSequence:s}=e,{carouselHeight:a,thumbnailWrapperMaxWidth:u,thumbnailWrapperMinWidth:d}=(0,ar.B)(),p=(0,c3.v4)(),h=(0,c3.RQ)(),{sendTemplateSearchEventWith:f}=(0,aa.Lm)(),x=(0,c.useMemo)(()=>{var e;return null===(e=i.templateList)||void 0===e?void 0:e.map(e=>({thumbnailProps:(0,ad.Cc)("TEMPLATE",e),imageProps:(0,au.ex)("TEMPLATE",e,a)}))},[a,i]),g=()=>{var e;h(i.templateType),p(null===(e=i.templateType)||void 0===e?void 0:e.purpose),f({searchType:"더보기"})};return{title:null!==(o="".concat(null!==(r=null===(n=i.templateType)||void 0===n?void 0:n.groupTitle)&&void 0!==r?r:""," ").concat(null===(t=i.templateType)||void 0===t?void 0:t.title))&&void 0!==o?o:"",resourceList:x,carouselHeight:a,thumbnailWrapperMaxWidth:u,thumbnailWrapperMinWidth:d,onClickMore:g,onClickItem:l,verticalViewSequence:s}};function ah(){let e=(0,r.Z)(["\n  width: 100%;\n"]);return ah=function(){return e},e}let af=(0,Q.RW)(ap,e=>{let{title:n,resourceList:t,carouselHeight:r,thumbnailWrapperMaxWidth:i,thumbnailWrapperMinWidth:l,onClickItem:s,onClickMore:c,verticalViewSequence:a}=e;return(0,o.jsx)(ax,{children:(0,o.jsx)(c7.y,{title:n,carouselHeight:r,handleClickMore:c,children:(0,o.jsx)(c9.J,{carouselTitle:n,resourceList:t,onClickItem:s,thumbnailWrapperMaxWidth:i,thumbnailWrapperMinWidth:l,verticalViewSequence:a})})})}),ax=i.ZP.div.withConfig({componentId:"sc-b0d5fede-0"})(ah());var ag=t(55302),a_=t(76381),am=t(62119),aE=t(71618),aI=t(70569),aT=t(75883),aC=t(75624);let av=e=>{let{scrollRef:n,carouselHeightOption:t}=e,r=(0,c3.tR)(),o=(0,c3.TQ)(),{toTemplateDetailWithoutMovingTemplatePanel:i}=(0,aE.s)(),{currentLanguage:l}=(0,e6.U)(),{searchLanguage:s}=(0,c5.V)(),{templateTypeCarouselList:c,fetchMoreTemplateTypeList:a}=(0,ag.P)({language:o?s:l,templatePurpose:r}),{carouselHeight:u}=(0,aI.D)(t),{leftPanelExpandedWidth:d}=(0,cy.Y)(),{onClickTemplateItem:p}=(0,at.c)({setSelectedTemplateData:i}),h={rowHeight:u+am.K+am.M,rowWidth:d-2*cI.b,columnGap:16,rowGap:aT.c,columnCount:1},f=(0,aC.G)({rawDataList:(0,a_.x)(c),...h});return{onClickItem:p,onIntersectBottom:a,rows:f,leftPanelExpandedWidth:d,gridOption:h,scrollRef:n}},aw=(0,Q.RW)(av,e=>{let{onClickItem:n,onIntersectBottom:t,rows:r,gridOption:i,scrollRef:l}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ac.B,{rows:r,renderRow:e=>(0,o.jsx)(af,{data:e.contents[0].item,onClickItem:n,verticalViewSequence:(0,c6.Wy)()+(0,c6.JJ)()+e.contents[0].item.viewSequence}),rowGap:i.rowGap,columnGap:i.columnGap,rowMaxHeight:i.rowHeight,scrollRef:l,onIntersectBottom:t})})}),ab=e=>(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(c1.x,{}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{}),ignoreError:()=>!0,children:(0,o.jsx)(aw,{...e})});var aR=t(5782),aj=t(48065),ay=t(18460),aO=t(30556),aP=t(94779);let ak=e=>{let{scrollRef:n,showLanguageChipView:t}=e,r=(0,aP.E)(n),o=(0,c3.Dv)(),i=(0,c3.TQ)(),l=(0,c3.tR)(),s=(0,c3.fB)(),{isShowProInfoEnabled:c}=(0,aj.yZ)(["SHOW_PRO_INFO"]),{showRecentCategory:a,showTemplateKeywordCategory:u,showTemplateTypeCategoryView:d}=(0,ay._)(),{toTemplateDetailWithoutMovingTemplatePanel:p}=(0,aE.s)(),{onClickMoreRecent:h,onClickMoreKeywordCategory:f}=(0,aO.F)(),x=(0,aI.K)({templateType:i});return{scrollRef:n,templatePurpose:l,templateListViewProps:r,showLanguageChipView:t,showPromotionBanner:c&&o&&s,showRecentCategory:a,showTemplateKeywordCategory:u,showTemplateTypeCategoryView:d,handleClickMoreRecentTemplate:h,handleClickMoreTemplateKeyword:f,setSelectedTemplateData:p,carouselHeightOption:x}};var aD=t(87008),aA=t(36469),aS=t(67596);let aL=e=>{let{scrollRef:n}=e,{showRecentList:t,showKeywordCategoryList:r,showTemplateList:o}=(0,aD.F)(),i=(0,c3.Dv)(),{elementListProps:{templateSearch:l,templateType:s},setSelectedTemplateData:c}=(0,aP.E)(n),a=(0,aS.W)(),{listType:u,listOption:d}=(0,aA.Q)(s,a);return{showRecentList:t,showKeywordCategoryList:r,showTemplateList:o,listViewProps:{scrollRef:n,listType:u,listOption:d,isSearching:i,templateSearch:l,setSelectedTemplateData:c}}};var aN=t(45791),aM=t(66346),aZ=t(85776),aU=t(28264),aB=t(87968),aF=t(64030);let aG=e=>{let{scrollRef:n,list:t,isFetching:r,listType:o,listOption:i,onIntersectBottom:l,setSelectedTemplateData:s}=e,{rows:c}=(0,aF.R)({list:t,listType:o,listOption:i}),{onClickTemplateItem:a}=(0,at.c)({setSelectedTemplateData:s}),{overwriteTemplate:u}=(0,cH.L)();return{scrollRef:n,rows:c,listType:o,listOption:i,isFetching:r,onIntersectBottom:l,onClickItem:a,overwriteTemplate:u}},aW=(0,Q.RW)(aG,e=>{let{translate:n,scrollRef:t,rows:r,isFetching:i,listType:l,listOption:s,onIntersectBottom:c,onClickItem:a,overwriteTemplate:u}=e;return(0,o.jsx)(ac.B,{scrollRef:t,...s,rows:r,isFetching:i,renderRow:e=>(0,o.jsx)(aB.q,{data:e,isMasonry:"MASONRY"===l,onClickTemplateItem:a,overwriteTemplate:u}),onIntersectBottom:c,emptyView:(0,o.jsx)(aU.m,{subTitle:n("EDITOR.LEFT_PANEL.TAB_TEMPLATE.LABEL.SEND_OPINION_OR_REQUEST_DESIGN"),inquiryUrl:"https://www.miricanvas.com/s/1659"}),skeletonView:(0,o.jsx)(aM.A,{listCount:r.length>0?4:10})})});var aH=t(28250);let aV=e=>{let{scrollRef:n,isSearching:t,listType:r,listOption:o,templateSearch:i,setSelectedTemplateData:l}=e,{searchLanguage:s}=(0,c5.V)(),{list:c,loadMore:a,isFetching:u}=(0,aH.v)(i,s);return{scrollRef:n,showHeader:!t,list:c,onIntersectBottom:a,isFetching:u,listType:r,listOption:o,setSelectedTemplateData:l}},az=(0,Q.RW)(aV,e=>{let{translate:n,scrollRef:t,showHeader:r,list:i,listType:l,listOption:s,onIntersectBottom:c,isFetching:a,setSelectedTemplateData:u}=e;return(0,o.jsxs)(aZ.T,{children:[r&&(0,o.jsx)(aN.M,{title:n("SHARED.TEMPLATE_TYPE.ALL")}),(0,o.jsx)(aW,{scrollRef:t,listType:l,list:i,listOption:s,onIntersectBottom:c,isFetching:a,setSelectedTemplateData:u})]})}),aK=e=>(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(aM.A,{listCount:4}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{}),ignoreError:()=>!1,children:(0,o.jsx)(az,{...e})});var aX=t(12106);let aY=e=>{let{scrollRef:n,listType:t,listOption:r,templateSearch:o,setSelectedTemplateData:i}=e,{searchLanguage:l}=(0,c5.V)(),{list:s,loadMore:c,isFetching:a}=(0,aX.x)(o,l);return{scrollRef:n,list:s,onIntersectBottom:c,isFetching:a,listType:t,listOption:r,setSelectedTemplateData:i}},aJ=(0,Q.RW)(aY,e=>{let{scrollRef:n,list:t,listType:r,listOption:i,onIntersectBottom:l,isFetching:s,setSelectedTemplateData:c}=e;return(0,o.jsx)(aZ.T,{children:(0,o.jsx)(aW,{scrollRef:n,listType:r,list:t,listOption:i,onIntersectBottom:l,isFetching:s,setSelectedTemplateData:c})})});var aq=t(72422);let aQ=e=>{var n;let{scrollRef:t,listType:r,listOption:o,templateSearch:i,setSelectedTemplateData:l}=e,{list:s,loadMore:c,isFetching:a}=(0,aq.E)(null!==(n=i.purpose)&&void 0!==n?n:null);return{scrollRef:t,list:s,listType:r,listOption:o,onIntersectBottom:c,isFetching:a,setSelectedTemplateData:l}},a$=(0,Q.RW)(aQ,e=>{let{scrollRef:n,list:t,listType:r,listOption:i,onIntersectBottom:l,isFetching:s,setSelectedTemplateData:c}=e;return(0,o.jsx)(aZ.T,{children:(0,o.jsx)(aW,{scrollRef:n,listType:r,list:t,listOption:i,onIntersectBottom:l,isFetching:s,setSelectedTemplateData:c})})}),a0=(0,Q.RW)(aL,e=>{let{showRecentList:n,showKeywordCategoryList:t,showTemplateList:r,listViewProps:i}=e;return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)(a$,{...i}),t&&(0,o.jsx)(aJ,{...i}),r&&(0,o.jsx)(aK,{...i})]})}),a1=t3()(()=>t.e(35292).then(t.bind(t,35292)).then(e=>e.RecentUsedCarouselTemplateView),{loadableGenerated:{webpack:()=>[35292]},ssr:!1,loading:()=>(0,o.jsx)(c1.x,{categoryCount:1})}),a4=t3()(()=>Promise.resolve().then(t.bind(t,57593)).then(e=>e.TemplateLanguageChipView),{loadableGenerated:{webpack:()=>[57593]},ssr:!1,loading:()=>(0,o.jsx)(c0.c,{height:"32px",width:"100%"})}),a2=t3()(()=>t.e(66632).then(t.bind(t,66632)).then(e=>e.TemplatePromotionView),{loadableGenerated:{webpack:()=>[66632]},ssr:!1,loading:()=>(0,o.jsx)(c0.c,{height:"32px",width:"100%"})}),a3=(0,Q.RW)(ak,e=>{let{scrollRef:n,templatePurpose:t,templateListViewProps:r,showLanguageChipView:i,showPromotionBanner:l,showRecentCategory:s,showTemplateKeywordCategory:c,showTemplateTypeCategoryView:a,handleClickMoreRecentTemplate:u,handleClickMoreTemplateKeyword:d,setSelectedTemplateData:p,carouselHeightOption:h}=e;return(0,o.jsx)(rq.p,{scrollRef:n,maxHeight:"100%",children:(0,o.jsxs)(c4.i,{children:[(0,o.jsx)(aR.X,{fallback:(0,o.jsx)(o.Fragment,{}),children:i&&(0,o.jsx)(a4,{})}),l&&(0,o.jsx)(aR.X,{children:(0,o.jsx)(a2,{})}),s&&(0,o.jsx)(aR.X,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(a1,{resourceGroup:(0,c$.$)(t),designResourceTypeList:["TEMPLATE"],onClickMore:u,setSelectedTemplateData:p,carouselHeightOption:h})}),c&&(0,o.jsx)(as,{onClickMore:d,setSelectedTemplateData:p,carouselHeightOption:h}),a&&(0,o.jsx)(aR.X,{fallback:(0,o.jsx)(c1.x,{}),children:(0,o.jsx)(ab,{scrollRef:n,carouselHeightOption:h})}),(0,o.jsx)(a0,{...r})]})})}),a5=e=>"USER"===e,a8=e=>"ASSISTANT"===e,a7=(e,n)=>{let t=null==n?void 0:n.some(e=>{let{type:n}=e;return"TEMPLATE_RECOMMENDATION"===n});return Boolean("USER"!==e&&t)},a6=e=>{let{targetKey:n,targetIndex:t,messageList:r}=e,o=r.findLastIndex(e=>{var t;return null===(t=e.actionList)||void 0===t?void 0:t.some(e=>{let{type:t}=e;return n===t})});return t===o},a9=e=>!!e,ue=e=>["EXTERNAL_API_FAIL","ALREADY_IN_PROGRESS","UNKNOWN_ERROR","CAN_RETRY_ERROR"].includes(e),un=e=>["LIMITATION_OVERFLOW","UNKNOWN_ERROR"].includes(e),ut=e=>!e||["CAN_RETRY_ERROR"].includes(e),ur=e=>"ALREADY_IN_PROGRESS"===e,uo=e=>{var n;return a8(e.content.role)&&!e.content.content&&!(null===(n=e.actionList)||void 0===n?void 0:n.length)},ui={LIMITATION_OVERFLOW:{content:{role:"ASSISTANT",content:"EDITOR.EDITOR_699"},error:{code:"LIMITATION_OVERFLOW"}},EXTERNAL_API_FAIL:{content:{role:"ASSISTANT",content:"EDITOR.EDITOR_696"},error:{code:"EXTERNAL_API_FAIL"}},ALREADY_IN_PROGRESS:{content:{role:"ASSISTANT",content:"EDITOR.EDITOR_696"},error:{code:"ALREADY_IN_PROGRESS"}},UNKNOWN_ERROR:{content:{role:"ASSISTANT",content:"EDITOR.EDITOR_696"},error:{code:"UNKNOWN_ERROR"}},CAN_RETRY_ERROR:{content:{role:"ASSISTANT",content:"EDITOR.EDITOR_697"},error:{code:"CAN_RETRY_ERROR"}}},ul=e=>ui[e],us=e=>{var n,t;return{content:e.data.message,actionList:null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(t=n.actionList)||void 0===t?void 0:t.map(e=>{let{type:n,templateList:t}=e;return{type:n,templateList:t}}),messageId:new Date().toString()}};var uc=t(733),ua=t(51497);let uu=e=>(0,ol.aM)({queryKey:ua.a.getAIChatConversationsLatest(),queryFn:()=>(0,uc.getAIChatConversationsLatest)(e),options:{cacheTime:1/0,staleTime:1/0,enabled:!!e}}),ud=()=>{let e=(0,ol.NL)();return e.getQueryData(ua.a.getAIChatConversationsLatest())},up=(0,ec.cn)([]),uh=(0,ec.cn)(void 0),uf=()=>{let[e,n]=(0,ea.KO)(uh);return{aiConversationId:e,setAIConversationId:n}},ux=()=>{let[e,n]=(0,ea.KO)(up),[t,r]=(0,ea.KO)(uh);return{messageList:e,setMessageList:n,aiConversationId:t,setAIConversationId:r}},ug=()=>{let e=(0,ea.b9)(up),n=(0,ea.b9)(uh);return{setMessageList:e,setAIConversationId:n}},u_=()=>(0,ed.k)().get(up),um=()=>(0,ed.k)().get(uh),uE=e=>{let{aiConversationId:n}=uf(),{data:t}=uu(e);return{conversationId:null!=n?n:null==t?void 0:t.data.conversationId}},uI=()=>{let e=um(),n=ud();return{conversationId:null!=e?e:null==n?void 0:n.data.conversationId}},uT=()=>{let{currentLanguage:e}=(0,e6.U)(),{getCurrentUserSnapshotValue:n}=(0,e7.c)(),{getDesignIdxSnapshotValue:t}=(0,e8.h)(),{conversationId:r}=uI(),o=()=>{var o;let{accountId:i,selectedTeamIdx:l,currentPlan:s}=n(),{designIdx:c}=t();return{conversation_id:r,account_id:null==i?void 0:i.toString(),team_idx:null==l?void 0:l.toString(),design_idx:null==c?void 0:c.toString(),plan_type:s,last_search_term:null===(o=u_().findLast(e=>a5(e.content.role)))||void 0===o?void 0:o.content.content,preferred_language:e,inflow_type:"플로팅 버튼"}};return{getAIChatbotGACommonPayloadSnapshotValue:o}},uC=()=>{let{emit:e}=(0,ne.x)(),{getAIChatbotGACommonPayloadSnapshotValue:n}=uT(),t=t=>{var r;let{templateKey:o,templatePageType:i}=t;e("ACTION_CLICK_TEMPLATE_CHATBOT_ITEM",{...n(),template_key:null!==(r=null==o?void 0:o.toString())&&void 0!==r?r:"",template_page_type:i})};return{sendActionAIChatbotClickEventWith:t}};var uv=t(96877),uw=t(37683),ub=t(71367),uR=t(44618),uj=t(63822),uy=t(88499);let uO=()=>{let e=(0,ub.K)(),{emit:n}=(0,ne.x)(),t=(0,uj.QC)(),r=()=>{var r,o,i,l,s,c,a,u;let d=(0,c3.To)(),{search_language:p}=(0,c5.B)();t(e=>e+1);let h={...e(),...d,search_language:p},f=[],x=[];Array.from(uy.p).forEach(e=>{e[1].forEach(e=>{f.push(e.idx),x.push(e.type)})});let g={...h,search_type:h.searchType.toString(),search_status:(0,uR.M)(h.keyword),design_page_idx:null===(r=h.design_page_idx)||void 0===r?void 0:r.toString(),design_history_idx:null===(o=h.design_history_idx)||void 0===o?void 0:o.toString(),search_shape:null===(i=h.aspectRatio)||void 0===i?void 0:i.join(", "),search_language:null!==(a=null===(l=h.search_language)||void 0===l?void 0:l.toString())&&void 0!==a?a:"ko",search_template_type:null!==(u=null===(s=h.templateType)||void 0===s?void 0:s.id)&&void 0!==u?u:h.purpose,search_free:null===(c=h.tier)||void 0===c?void 0:c.join(","),view_item_key:f,view_item_type:x,view_load_num:(0,uj.HU)().toString()};n("ACTION_VIEW_TEMPLATE_ITEM",g)};return{sendActionViewTemplateListItemEventWith:r}};var uP=t(27223),uk=t(75460),uD=t(5517),uA=t(46553);let uS=["LANGUAGE"],uL=()=>{let e=(0,c3.Dv)(),n=(0,c3.TQ)(),t=(0,c3.xv)(),r=(0,c3.S7)(),{isLanguageEnabled:o}=(0,aj.yZ)(uS);return Boolean(o&&!r&&(e||n||t))},uN=()=>{let e=(0,c.useRef)(null),[n,t]=(0,c.useState)(0),{leftPanelWidth:r}=(0,cm.z)();return(0,c.useEffect)(()=>{if(e.current){let{height:n}=e.current.getBoundingClientRect();t(n)}},[e,r]),{templateHeaderRef:e,headerHeight:n}};var uM=t(18061);let uZ=()=>{let e=(0,c.useRef)(null),{templateHeaderRef:n,headerHeight:t}=uN(),r=(0,c3.uX)(),{toTemplateDetailWithoutMovingTemplatePanel:o,toDefaultTemplateSearchWithoutMovingTemplatePanel:i}=(0,aE.s)(),l=(0,uA.dc)(),s=(0,uD.g)(),{leftPanelWidth:a}=(0,cm.z)(),u=a<cI.D$?"column":"row",d=uL(),p=(0,c3.fB)();(0,uM.k)("TEMPLATE",ua.a.getRecentElementResourceListDefault(),p);let h=()=>o(null);(0,uk.r)(e,p);let f=(0,c3.TQ)();(0,c.useEffect)(()=>{var n;null===(n=e.current)||void 0===n||n.scroll({top:0,behavior:"auto"})},[f]),(0,uP.Q)(e,()=>{(0,uw.w)(x)});let{sendActionViewTemplateListItemEventWith:x}=uO();(0,uv.z)(x);let{sendActionAIChatbotClickEventWith:g}=uC(),_=(null==r?void 0:r.showOnlySearchType)==="챗봇"?e=>g({templatePageType:"multi",templateKey:null==e?void 0:e.templateIdx}):void 0;return{scrollRef:e,templateHeaderRef:n,selectedTemplateData:r,setSelectedTemplateData:o,toDefaultTemplateSearchWithoutMovingTemplatePanel:i,onCloseTemplateDetail:h,searchDisplayDirection:u,canShowLanguageChipView:d,selectedSimilarTemplate:l,selectedAIChatMessageId:s,contentsHeight:"calc(100% - ".concat(t,"px)"),sendClickEventWhenOverwriteChatbotTemplate:_}};var uU=t(82577),uB=t(52098),uF=t(19460),uG=t(44950),uW=t(35453);let uH=e=>{let{onClose:n,scrollRef:t,showCloseButton:r=!1,setSelectedTemplate:o,aiChatListProps:i,showOnlySearchType:l}=e,s=()=>{null==n||n()},{sendTemplateSearchEventWithoutSetSearchType:a}=(0,aa.Lm)();(0,c.useEffect)(()=>{"챗봇"===l&&a({searchType:uB._.CHATBOT,searchStatus:uB.n.SEARCH})},[]);let u=e=>{e&&o({...e,showOnlySearchType:uB._.CHATBOT})};return{scrollRef:t,showCloseButton:r,setSelectedTemplate:u,onClickClose:s,aiChatListProps:i}};function uV(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  gap: 8px;\n"]);return uV=function(){return e},e}let uz=(0,Q.RW)(uH,e=>{let{showCloseButton:n,onClickClose:t,scrollRef:r,setSelectedTemplate:i,aiChatListProps:l}=e;return(0,o.jsxs)(uK,{children:[(0,o.jsx)(uG.H,{title:"EDITOR.EDITOR_668",showCloseButton:n,onClickClose:t}),(0,o.jsx)(uW.o,{scrollRef:r,setSelectedTemplate:i,recommendListProps:l})]})}),uK=i.ZP.div.withConfig({componentId:"sc-64ab34fa-0"})(uV()),uX=e=>({imageProps:{idx:e.idx,thumbnailUrl:e.thumbUrl,width:e.width,height:e.height,alt:e.title,objectFit:"cover"},thumbnailProps:(0,ad.Cc)("TEMPLATE",e)}),uY=e=>{var n,t,r,o;let{messageId:i,messageList:l}=e,s=null!==(o=null===(n=l.find(e=>e.messageId===i))||void 0===n?void 0:null===(t=n.actionList)||void 0===t?void 0:t.flatMap(e=>{var n;return null!==(r=null===(n=e.templateList)||void 0===n?void 0:n.map(uX))&&void 0!==r?r:[]}))&&void 0!==o?o:[],a=(0,c.useRef)(s.slice());return{templateList:s.length?s:a.current,isFetchingNextPage:!1,isFetching:!1,hasNextPage:!1}},uJ=e=>{let{messageId:n,onClose:t,setSelectedTemplate:r}=e,o=(0,c.useRef)(null),{messageList:i}=ux(),l=uY({messageId:n,messageList:i});return{scrollRef:o,recommendTemplateProps:l,onClose:t,setSelectedTemplate:r}},uq=(0,Q.RW)(uJ,e=>{let{scrollRef:n,recommendTemplateProps:t,onClose:r,setSelectedTemplate:i}=e;return(0,o.jsx)(uF.S,{children:(0,o.jsx)(rq.p,{scrollRef:n,children:(0,o.jsx)(c4.i,{children:(0,o.jsx)(uz,{scrollRef:n,onClose:r,setSelectedTemplate:i,aiChatListProps:t,showOnlySearchType:uB._.CHATBOT,showCloseButton:!0})})})})});var uQ=t(57593),u$=t(53173),u0=t(49668),u1=t(72038),u4=t(26205),u2=t(95194);let u3=e=>{let{template:n,onClose:t,setSelectedTemplate:r}=e,o=(0,c.useRef)(null),i=(0,u1.K)(),{searchLanguage:l}=(0,c5.V)(),s=(0,u4.Q)({idx:n.idx,searchLanguage:l,keyword:i}),{showPromotionBanner:a,showLanguageChip:u,onClickPromotionBanner:d}=(0,u2.i)(s.templateList.length>0);return{scrollRef:o,templateIdx:n.idx,showPromotionBanner:a,showLanguageChip:u,similarTemplateProps:s,showOnlySearchType:n.showOnlySearchType,onClose:t,onClickPromotionBanner:d,setSelectedTemplate:r}},u5=(0,Q.RW)(u3,e=>{let{templateIdx:n,scrollRef:t,similarTemplateProps:r,showPromotionBanner:i,showLanguageChip:l,showOnlySearchType:s,onClose:c,onClickPromotionBanner:a,setSelectedTemplate:u}=e;return(0,o.jsx)(uF.S,{children:(0,o.jsx)(rq.p,{scrollRef:t,children:(0,o.jsxs)(c4.i,{children:[l&&(0,o.jsx)(uQ.TemplateLanguageChipView,{}),i&&(0,o.jsx)(u$.P,{onClick:a}),(0,o.jsx)(u0.$,{targetTemplateIdx:n,scrollRef:t,onClose:c,setSelectedTemplate:u,similarListProps:r,showOnlySearchType:s,showCloseButton:!0})]})})})});var u8=t(35790),u7=t(47644);let u6=()=>{let e=(0,c3.fB)(),n=(0,c3.S7)(),t=(0,c3.IR)(),r=(0,c3.ez)(),{toTemplateDetailWithoutMovingTemplatePanel:o}=(0,aE.s)(),{sendTemplateSearchEventWith:i}=(0,aa.Lm)(),l=e=>{i({searchType:e})},s=e=>{t(e),o(null)},c=()=>{t(""),r(!1)},a=(0,u7.Z)();return{keyword:e,isSearchingRecent:n,onChangeSearchParams:s,resetSearchKeyword:c,setIsSearchingRecent:r,filterCount:a,sendSearchEvent:l}};var u9=t(59653),de=t(36634),dn=t(54658),dt=t(83102),dr=t(91610),di=t(21861);let dl=e=>{let{onApplyFilter:n}=e,{onClickReset:t,onApplyFilter:r,isOpenColorPicker:o,openCustomColorPicker:i,closeCustomColorPicker:l,selectedColorIdx:s,selectedCustomColor:c,onClickColorChip:a,onClickCustomColorChip:u,onCustomColorChange:d,showTierFilter:p,selectedTierList:h,onClickTier:f,showAspectRatioFilter:x,selectedAspectRatioList:g,onClickAspectRatio:_}=(0,di.y)(n);return{onClickReset:t,onApplyFilter:r,isOpenColorPicker:o,openCustomColorPicker:i,closeCustomColorPicker:l,selectedColorIdx:s,selectedCustomColor:c,onClickColorChip:a,onClickCustomColorChip:u,onCustomColorChange:d,showTierFilter:p,selectedTierList:h,onClickTier:f,showAspectRatioFilter:x,selectedAspectRatioList:g,onClickAspectRatio:_}};function ds(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-height: 70vh;\n  width: ","px;\n"]);return ds=function(){return e},e}function dc(){let e=(0,r.Z)(["\n  padding: 16px 0 16px 16px;\n  gap: 8px;\n  width: ","px;\n"]);return dc=function(){return e},e}function da(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return da=function(){return e},e}function du(){let e=(0,r.Z)(["\n  width: 100%;\n  padding: ",";\n"]);return du=function(){return e},e}let dd=(0,Q.RW)(dl,e=>{let{translate:n,onClickReset:t,onApplyFilter:r,isOpenColorPicker:i,openCustomColorPicker:l,closeCustomColorPicker:s,selectedColorIdx:c,selectedCustomColor:a,onClickColorChip:u,onClickCustomColorChip:d,onCustomColorChange:p,showTierFilter:h,selectedTierList:f,onClickTier:x,showAspectRatioFilter:g,selectedAspectRatioList:_,onClickAspectRatio:m}=e;return(0,o.jsx)(o.Fragment,{children:i?(0,o.jsx)(dr.k,{onClickHeaderButton:s,forcedSlideView:"colorPicker",closeColorPopup:s,onColorChangeCommand:p,colorType:"SearchFilterColor",groupId:rJ.F4}):(0,o.jsxs)(dp,{children:[(0,o.jsx)(rq.p,{children:(0,o.jsx)(dh,{children:(0,o.jsxs)(df,{children:[(0,o.jsx)(dn.R,{customColor:a,selectedColorIdx:c,openColorPicker:l,onClickColorChip:u,showResetButton:!0,onClickReset:t,onClickCustomColorChip:d}),g&&(0,o.jsx)(de.c,{aspectRatioList:u9.o,selectedAspectRatioList:_,onClickAspectRatio:m}),h&&(0,o.jsx)(dt.U,{selectedTierList:f,onChangeTier:x})]})})}),(0,o.jsx)(rQ.i,{paddingPosition:"all",paddingSize:"none"}),(0,o.jsx)(dx,{children:(0,o.jsx)(q.Jr,{text:n("SHARED.REMAIN_478"),size:"M",type:"fill",color:"primary",shape:"square",widthType:"fill",onClick:r})})]})})}),dp=i.ZP.div.withConfig({componentId:"sc-2074407c-0"})(ds(),cI.CO),dh=i.ZP.div.withConfig({componentId:"sc-2074407c-1"})(dc(),cI.CO-16),df=i.ZP.div.withConfig({componentId:"sc-2074407c-2"})(da()),dx=i.ZP.div.withConfig({componentId:"sc-2074407c-3"})(du(),e=>{let{theme:n}=e;return"".concat(n.token.b_spacing_70," ").concat(n.token.b_spacing_80)}),dg=(0,Q.RW)(u6,e=>{let{translate:n,keyword:t,onChangeSearchParams:r,resetSearchKeyword:i,setIsSearchingRecent:l,filterCount:s,isSearchingRecent:c,sendSearchEvent:a}=e;return(0,o.jsx)(u8.q,{_value:t,placeholder:n("EDITOR.LEFT_PANEL.SEARCH_TOOL.PLACE_HOLDER.LEFT_PANEL_TYPE1",{leftPanelDisplayName:n("SHARED.DESIGN_RESOURCE_TYPE.TEMPLATE")}),searchCategoryType:"template",filter:!0,filterBadgeCountText:s,renderFilterContent:e=>(0,o.jsx)(dd,{onApplyFilter:e}),onChangeSearchValue:r,isSearchingRecent:c,setIsSearchingRecent:l,resetSearchText:i,sendSearchEvent:a})});var d_=t(44152),dm=t(49161),dE=t(75349),dI=t(63124);let dT=e=>{let{width:n}=e,{sendTemplateTypeFilterButtonEvent:t}=(0,aa.F1)(),[r,o]=(0,c.useState)(!1),{title:i,placeholder:l}=(0,dI.C)(),{onClickAllTemplateType:s,onClickTemplateType:a,onClickCancelButton:u}=(0,dE.m)(()=>o(!1)),d=()=>{r||t(),o(!0)},p=()=>{o(!1)};return{onClickTemplateType:a,onClickCancelButton:u,onClickAllTemplateType:s,templateTitle:i,templatePlaceHolder:l,isOpenTemplateType:r,openTemplateTypePopover:d,closeTemplateTypePopover:p,width:n}},dC=(0,Q.RW)(dT,e=>{let{templateTitle:n,templatePlaceHolder:t,isOpenTemplateType:r,onClickTemplateType:i,onClickCancelButton:l,onClickAllTemplateType:s,openTemplateTypePopover:c,closeTemplateTypePopover:a}=e;return(0,o.jsx)(d_.L,{size:"M",widthType:"fill",textOverflow:"ellipsis",open:r,onClose:a,placeholder:t,cancellable:Boolean(n),value:n,onClick:c,onClickCancelButton:l,placement:"bottom-end",children:(0,o.jsx)(ip.y,{width:314,closePopOver:a,enterPoint:"TEMPLATE_PANEL",onClickTemplateType:i,onClickAllTemplateType:s})})}),dv=e=>(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(dm.e,{}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{}),ignoreError:()=>!1,children:(0,o.jsx)(dC,{...e})});function dw(){let e=(0,r.Z)(["\n  padding: 24px 24px "," 24px;\n  display: flex;\n  flex-direction: ",";\n  ",";\n  ",";\n"]);return dw=function(){return e},e}function db(){let e=(0,r.Z)(["\n  height: 100%;\n"]);return db=function(){return e},e}function dR(){let e=(0,r.Z)(["\n  height: ",";\n  position: relative;\n  display: flex;\n  flex-direction: column;\n"]);return dR=function(){return e},e}function dj(){let e=(0,r.Z)(["\n      min-width: 312px;\n    "]);return dj=function(){return e},e}function dy(){let e=(0,r.Z)(["\n  width: 100%;\n  ","\n"]);return dy=function(){return e},e}function dO(){let e=(0,r.Z)(["\n      max-width: 312px;\n    "]);return dO=function(){return e},e}function dP(){let e=(0,r.Z)(["\n  width: 100%;\n  ",";\n"]);return dP=function(){return e},e}let dk=(0,Q.RW)(uZ,e=>{let{scrollRef:n,templateHeaderRef:t,selectedTemplateData:r,setSelectedTemplateData:i,toDefaultTemplateSearchWithoutMovingTemplatePanel:l,onCloseTemplateDetail:s,canShowLanguageChipView:c,searchDisplayDirection:a,selectedSimilarTemplate:u,contentsHeight:d,selectedAIChatMessageId:p,sendClickEventWhenOverwriteChatbotTemplate:h}=e;return(0,o.jsx)(cF.$,{children:(0,o.jsxs)(dA,{children:[(0,o.jsxs)(dD,{direction:a,ref:t,paddingBottom:c?"12px":"20px",children:[(0,o.jsx)(dL,{direction:a,children:(0,o.jsx)(dg,{})}),(0,o.jsx)(dN,{direction:a,children:(0,o.jsx)(dv,{})})]}),(0,o.jsxs)(dS,{height:d,children:[(0,o.jsx)(a3,{scrollRef:n,showLanguageChipView:c}),r&&(0,o.jsx)(uU.g,{template:r,onSelectTemplate:i,onClickClose:s,sendTemplateClickEvent:h}),u&&(0,o.jsx)(u5,{template:u,onClose:l,setSelectedTemplate:i}),p&&(0,o.jsx)(uq,{messageId:p,onClose:l,setSelectedTemplate:i})]})]})})}),dD=i.ZP.div.withConfig({componentId:"sc-c3af680b-0"})(dw(),e=>{let{paddingBottom:n}=e;return n},e=>{let{direction:n}=e;return n},e=>{let{theme:n}=e;return n.mixin.flexRowGap("8px")},e=>{let{theme:n}=e;return n.mixin.flexColGap("12px")}),dA=i.ZP.div.withConfig({componentId:"sc-c3af680b-1"})(db()),dS=i.ZP.div.withConfig({componentId:"sc-c3af680b-2"})(dR(),e=>{let{height:n}=e;return n}),dL=i.ZP.div.withConfig({componentId:"sc-c3af680b-3"})(dy(),e=>{let{direction:n}=e;return"row"===n&&(0,i.iv)(dj())}),dN=i.ZP.div.withConfig({componentId:"sc-c3af680b-4"})(dP(),e=>{let{direction:n}=e;return"row"===n&&(0,i.iv)(dO())});var dM=t(21940);function dZ(){let e=(0,r.Z)(["\n  margin-bottom: 20px;\n"]);return dZ=function(){return e},e}function dU(){let e=(0,r.Z)(["\n  padding: 24px 24px 0;\n  margin-bottom: 70px;\n"]);return dU=function(){return e},e}function dB(){let e=(0,r.Z)(["\n  display: flex;\n  /* TODO SCROLL VIEW WIDTH 처리 */\n  width: 360px;\n  flex-direction: column;\n  padding: 0 24px 24px;\n  height: inherit;\n"]);return dB=function(){return e},e}function dF(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n"]);return dF=function(){return e},e}let dG=()=>(0,o.jsxs)(cF.$,{children:[(0,o.jsxs)(dH,{children:[(0,o.jsx)(dW,{children:(0,o.jsx)(c0.c,{width:"100%",height:"38px"})}),(0,o.jsx)(c0.c,{width:"100%",height:"40px"})]}),(0,o.jsx)(rq.p,{paddingSize:"M",children:(0,o.jsxs)(dV,{children:[(0,o.jsx)(dz,{children:(0,o.jsx)(c0.c,{width:"56px",height:"16px"})}),(0,o.jsx)(dM.P,{})]})})]}),dW=i.ZP.div.withConfig({componentId:"sc-134d5d17-0"})(dZ()),dH=i.ZP.div.withConfig({componentId:"sc-134d5d17-1"})(dU()),dV=i.ZP.div.withConfig({componentId:"sc-134d5d17-2"})(dB()),dz=i.ZP.div.withConfig({componentId:"sc-134d5d17-3"})(dF());function dK(){let e=(0,r.Z)(["\n  height: 100%;\n  isolation: isolate;\n"]);return dK=function(){return e},e}let dX=t3()(()=>Promise.all([t.e(24902),t.e(4739),t.e(1162),t.e(76170),t.e(70947)]).then(t.bind(t,59948)).then(e=>e.ElementPanelView),{loadableGenerated:{webpack:()=>[59948]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),dY=t3()(()=>Promise.all([t.e(24902),t.e(4739),t.e(8863),t.e(858)]).then(t.bind(t,48938)).then(e=>e.PicturePanelView),{loadableGenerated:{webpack:()=>[48938]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),dJ=t3()(()=>Promise.all([t.e(24902),t.e(94808),t.e(91270)]).then(t.bind(t,91270)).then(e=>e.UploadPanelView),{loadableGenerated:{webpack:()=>[91270]},ssr:!1,loading:()=>(0,o.jsx)(dG,{})}),dq=t3()(()=>Promise.all([t.e(24902),t.e(4739),t.e(56285)]).then(t.bind(t,56285)).then(e=>e.VideoPanelView),{loadableGenerated:{webpack:()=>[56285]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),dQ=t3()(()=>Promise.all([t.e(24902),t.e(79303),t.e(13405)]).then(t.bind(t,3324)).then(e=>e.AudioPanelView),{loadableGenerated:{webpack:()=>[3324]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d$=t3()(()=>Promise.all([t.e(24902),t.e(4739),t.e(59724),t.e(60902)]).then(t.bind(t,60902)).then(e=>e.TextPanelView),{loadableGenerated:{webpack:()=>[60902]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d0=t3()(()=>Promise.all([t.e(24902),t.e(4739),t.e(66826),t.e(43444)]).then(t.bind(t,4091)).then(e=>e.BackgroundPanelView),{loadableGenerated:{webpack:()=>[4091]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d1=t3()(()=>Promise.all([t.e(3496),t.e(72170)]).then(t.bind(t,12141)).then(e=>e.LogoPanelView),{loadableGenerated:{webpack:()=>[12141]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d4=t3()(()=>Promise.all([t.e(17197),t.e(32067)]).then(t.bind(t,99278)).then(e=>e.CreatorPanelView),{loadableGenerated:{webpack:()=>[99278]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d2=t3()(()=>Promise.all([t.e(33114),t.e(75671)]).then(t.bind(t,75671)).then(e=>e.ThemePanelView),{loadableGenerated:{webpack:()=>[75671]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d3=t3()(()=>t.e(69494).then(t.bind(t,69494)).then(e=>e.AIDrawingPanelView),{loadableGenerated:{webpack:()=>[69494]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d5=t3()(()=>t.e(87669).then(t.bind(t,87669)).then(e=>e.QRBarcodePanelView),{loadableGenerated:{webpack:()=>[87669]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d8=t3()(()=>Promise.all([t.e(24902),t.e(1162),t.e(2695)]).then(t.bind(t,42198)).then(e=>e.FavoritesPanelView),{loadableGenerated:{webpack:()=>[42198]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d7=t3()(()=>Promise.all([t.e(24902),t.e(4739),t.e(1162),t.e(70300)]).then(t.bind(t,70300)).then(e=>e.DataPanelView),{loadableGenerated:{webpack:()=>[70300]},ssr:!1,loading:()=>(0,o.jsx)(cU.Y,{})}),d6=(0,r$.R)(cB,e=>{let{selectedLeftPanelMenu:n}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(d9,{children:[(0,o.jsx)(eq.H,{value:n,caseBy:{TEMPLATE:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(t5.u,{children:(0,o.jsx)(dk,{})})}),CREATOR:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d4,{})}),ELEMENTS:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(dX,{})}),PICTURE:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:"사진 패널 에러"+e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(dY,{})}),UPLOAD:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(dG,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:"업로드 패널 에러"+e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(dJ,{})}),TEXT:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d$,{})}),BACKGROUND:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d0,{})}),VIDEO:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(dq,{})}),AUDIO:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(dQ,{})}),LOGO:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(o.Fragment,{}),rejectedFallback:e=>(0,o.jsxs)(o.Fragment,{children:[" 로고 패널 에러 | ",e.error.message]}),children:(0,o.jsx)(d1,{})}),THEME:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d2,{})}),AIDRAWING:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d3,{})}),FAVORITES:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d8,{})}),QRBARCODE:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d5,{})}),DATA:(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(d7,{})})},defaultComponent:(0,o.jsx)(o.Fragment,{})}),(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(cU.Y,{}),rejectedFallback:e=>(0,o.jsx)(cQ.Y,{message:e.error.message,onReset:e.resetErrorBoundary}),children:(0,o.jsx)(cJ,{visible:"WORKSPACE"===n})})]})})}),d9=i.ZP.div.withConfig({componentId:"sc-11871830-0"})(dK());function pe(){let e=(0,r.Z)(["\n  position: relative;\n  height: 100%;\n  display: ",";\n\n  ","\n"]);return pe=function(){return e},e}function pn(){let e=(0,r.Z)(["\n  flex: 1;\n  height: 100%;\n  position: relative;\n"]);return pn=function(){return e},e}let pt=t3()(()=>Promise.all([t.e(56522),t.e(24902),t.e(90993),t.e(80564)]).then(t.bind(t,80564)).then(e=>e.PropertyPanelSwitch),{loadableGenerated:{webpack:()=>[80564]},ssr:!1}),pr=t3()(()=>t.e(8092).then(t.bind(t,8092)).then(e=>e.LeftPanelBarView),{loadableGenerated:{webpack:()=>[8092]},ssr:!1,loading:()=>(0,o.jsx)(cZ,{})}),po=(0,Q.RW)(c_,e=>{let{editorViewMode:n,isCropMode:t,onClickContainer:r}=e;return(0,o.jsxs)(pi,{editorViewMode:n,isCropMode:t,onClick:r,children:[(0,o.jsx)(aR.X,{fallback:(0,o.jsx)(cZ,{}),children:(0,o.jsx)(pr,{})}),(0,o.jsx)(cC,{children:(0,o.jsxs)(pl,{children:[(0,o.jsx)(d6,{}),(0,o.jsx)(pt,{})]})}),(0,o.jsx)(cN,{}),(0,o.jsx)(ch,{})]})}),pi=i.ZP.div.withConfig({componentId:"sc-74da3924-0"})(pe(),e=>{let{editorViewMode:n}=e;return"DEFAULT"!==n?"none":"flex"},e=>{let{isCropMode:n}=e;return n&&'\n      position: relative;\n      &::after {\n        content: "";\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.6);\n      }\n    '}),pl=i.ZP.div.withConfig({componentId:"sc-74da3924-1"})(pn());var ps=t(2012);let pc=()=>{let{publish:e}=(0,on.j)(),n=(0,c.useCallback)(()=>{e("COMMAND_CLOSE_ALL_RIGHT_PANEL",{})},[e]);return{closeAllRightPanelCommand:n}},pa=e=>{let{subscribe:n}=(0,on.j)();(0,c.useEffect)(()=>{let t=n("EVENT_OPENED_RIGHT_PANEL",n=>{e(n.isOpened)});return()=>{null==t||t.unsubscribe()}},[e,n])};var pu=t(34298);let pd=()=>{let{closeAllRightPanelCommand:e}=pc(),{isRightPanelVisible:n}=(0,ro.U)(),{closeRightPanel:t}=(0,pu.K)(),{setFocusArea:r}=(0,t6.G)();pa(e=>{e&&t()}),(0,c.useEffect)(()=>{n&&e()},[e,n]);let o=(0,c.useCallback)(()=>{r("rightPanel")},[r]);return{isRightPanelVisible:n,closeRightPanel:t,onClickContainer:o}};function pp(){let e=(0,r.Z)(["\n  position: relative;\n  height: 100%;\n  width: 360px;\n  background-color: ",";\n  border-left: 1px solid ",";\n  display: ",";\n"]);return pp=function(){return e},e}let ph=(0,Q.RW)(pd,e=>{let{isRightPanelVisible:n,closeRightPanel:t,onClickContainer:r}=e;return(0,o.jsx)(pf,{isRightPanelVisible:n,onClick:r,children:(0,o.jsx)(ps.H,{onClose:t})})}),pf=i.ZP.div.withConfig({componentId:"sc-889e95c4-0"})(pp(),e=>{let{theme:n}=e;return n.token.s_color_background_default},e=>{let{theme:n}=e;return n.token.s_color_border_light},e=>{let{isRightPanelVisible:n}=e;return n?"flex":"none"});var px=t(30446);let pg=()=>{let e=(0,ol.NL)(),{sendSignInEvent:n}=(0,px.q)(),t=(0,c.useRef)(!1),r=(0,o4.c)();(0,c.useEffect)(()=>{var o,i;if(!r||t.current)return;t.current=!0;let l=e.getQueryData(ua.a.getUser()),s=null!==(i=null==l?void 0:null===(o=l.data)||void 0===o?void 0:o.accountId)&&void 0!==i?i:0;0!==s&&n({account_id:s})},[r,e,n])};var p_=t(64914),pm=t(71856),pE=t(46977);let pI=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,pE.y1)(...n)},pT=e=>{let{shortcutMap:n,keys:t}=e;return Object.entries(n).reduce((e,n)=>{let[r,o]=n;return"string"==typeof o&&(0,cO.Xy)(t,o.split(pm.DX).sort())?e.push(r):Array.isArray(o)&&o.some(e=>(0,cO.Xy)(t,e.split(pm.DX).sort()))&&e.push(r),e},[])},pC=e=>{let n=(0,cO.xH)(Object.values(e).map(e=>e));return(0,cO.mN)(n,e=>e.split("").sort().join(""))};var pv=t(90491);let pw=e=>{let{shortcutMap:n,onShortcut:t,options:r,preventDefaultPlugins:o,preventOnShortcutPlugins:i}=e,l=(0,c.useMemo)(()=>pC(n),[n]),s=(0,c.useCallback)((e,r)=>{let l=pb(r),s=pT({shortcutMap:n,keys:l.sort()});if(s.length<1){console.error("에러: ".concat(l," 에 매칭되는 단축키 액션이 없습니다!!!"));return}null==o||o.forEach(n=>{n({e:e,keys:l})&&e.preventDefault()}),s.forEach(n=>{if(i&&i.length){let r=null==i?void 0:i.some(t=>t({e:e,keys:l,action:n}));r||t(n)}else t(n)})},[t,o,i,n]);pI(l,(e,n)=>s(e,n),r)},pb=e=>{let{alt:n,ctrl:t,meta:r,mod:o,shift:i,keys:l}=e;return[n&&"alt",t&&"ctrl",r&&"meta",o&&"mod",i&&"shift",...null!=l?l:[]].filter(pv.v)},pR=e=>Boolean(null==e?void 0:e.files.length)&&!(null==e?void 0:e.getData("text")),pj=e=>{let{publish:n}=(0,on.j)(),{keydownEnabled:t,keyupEnabled:r,keydownPreventDefaultPlugins:o,keydownPreventOnShortcutPlugins:i,keyupPreventDefaultPlugins:l,keyupPreventOnShortcutPlugins:s}=e,[a]=(0,p_.Dq)(),[u]=(0,p_.wX)();(0,c.useEffect)(()=>{let e=e=>{var t,r,o,i;pR(e.clipboardData)||(n("COMMAND_EXECUTE_SHORTCUT_ACTION",{type:"PASTE",props:{clipboardTextData:null!==(o=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text"))&&void 0!==o?o:"",clipboardEvent:e}}),n("COMMAND_EXECUTE_SHORTCUT_ACTION",{type:"PASTE_PAGE",props:{clipboardTextData:null!==(i=null===(r=e.clipboardData)||void 0===r?void 0:r.getData("text"))&&void 0!==i?i:"",clipboardEvent:e}}))};return window.addEventListener("paste",e),()=>{window.removeEventListener("paste",e)}},[n]),(0,c.useEffect)(()=>{let e=e=>{("+"===e.key||"="===e.key)&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),n("COMMAND_EXECUTE_SHORTCUT_ACTION",{type:"SCALE_UP_SCREEN",props:void 0})),"-"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),n("COMMAND_EXECUTE_SHORTCUT_ACTION",{type:"SCALE_DOWN_SCREEN",props:void 0}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]);let d=(0,c.useCallback)(e=>{n("COMMAND_EXECUTE_SHORTCUT_ACTION",{type:e,props:py(e)})},[n]),p=(0,c.useCallback)(e=>{n("COMMAND_EXECUTE_SHORTCUT_ACTION",{type:e,props:py(e)})},[n]);pw({shortcutMap:a,onShortcut:d,options:{preventDefault:!1,combinationKey:pm.DX,enableOnContentEditable:!0,enabled:t,enableOnFormTags:["INPUT"],ignoreEventWhen:e=>{let n=e.target;return"INPUT"===n.nodeName&&"range"!==n.getAttribute("type")}},preventDefaultPlugins:o,preventOnShortcutPlugins:i}),pw({shortcutMap:u,onShortcut:p,options:{preventDefault:!1,keyup:!0,combinationKey:pm.DX,enabled:r},preventDefaultPlugins:l,preventOnShortcutPlugins:s})},py=e=>{switch(e){case"RESIZE_BASED_ON_CENTER":case"CANCEL_RESIZING_BASED_ON_CENTER":case"MOVE_LINE_END_POINT_BASED_ON_CENTER":case"CANCEL_MOVING_LINE_END_POINT_BASED_ON_CENTER":return{pressedKey:{shift:!1,ctrl:!0,alt:!1,cmd:!0}};default:return}},pO=()=>{let e=(0,tV.tl)(),n=(0,tK.FT)(),t=(0,tY.fY)(),r=tH(),{editorViewMode:o}=(0,tz.$H)();(0,c.useEffect)(()=>{let i=i=>{if(r&&"DEFAULT"===o&&pR(i.clipboardData)&&i.clipboardData){e("UPLOAD"),n(void 0);let r=i.clipboardData.files;t(r)}};return window.addEventListener("paste",i),()=>{window.removeEventListener("paste",i)}},[o,r,t,n,e])},pP=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","s"].sort())},pk=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","l"].sort())},pD=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","i"].sort())},pA=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","f"].sort())},pS=e=>{let{e:n,keys:t}=e;return(!(n.target instanceof HTMLElement)||!n.target.isContentEditable)&&(0,cO.Xy)(t.sort(),["space"])},pL=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","d"].sort())},pN=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","g"].sort())},pM=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["shift","mod","g"].sort())},pZ=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","["].sort())},pU=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","]"].sort())},pB=e=>{let{e:n,keys:t}=e,r=n.target instanceof HTMLElement&&n.target.isContentEditable;return!r&&(0,cO.Xy)(t.sort(),["left"])},pF=e=>{let{e:n,keys:t}=e,r=n.target instanceof HTMLElement&&n.target.isContentEditable;return!r&&(0,cO.Xy)(t.sort(),["right"])},pG=e=>{let{e:n,keys:t}=e,r=n.target instanceof HTMLElement&&n.target.isContentEditable;return!r&&(0,cO.Xy)(t.sort(),["up"])},pW=e=>{let{e:n,keys:t}=e,r=n.target instanceof HTMLElement&&n.target.isContentEditable;return!r&&(0,cO.Xy)(t.sort(),["down"])},pH=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","shift","c"].sort())},pV=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","alt","p"].sort())},pz=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["tab"].sort())},pK=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["shift","tab"].sort())},pX=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","z"].sort())},pY=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","u"].sort())},pJ=e=>{let{keys:n}=e;return(0,cO.Xy)(n.sort(),["mod","left"].sort())};var pq=t(72701),pQ=t(87537),p$=t(4741),p0=t(10179),p1=t(55448),p4=t(8479),p2=t(3356);let p3=()=>{let e=(0,pQ.u)(),n=(0,pq.xX)();return(0,c.useCallback)(t=>{let{action:r}=t;return(null==n?void 0:n.length)===1&&!1===e&&"DELETE_ITEM"===r},[null==n?void 0:n.length,e])},p5=()=>{let{isChartDataEditing:e}=(0,p2.A)();return(0,c.useCallback)(n=>{let{action:t}=n;return!0===e&&["DELETE_ITEM","CUT"].includes(t)},[e])},p8=()=>{let e=(0,p4.r6)();return(0,c.useCallback)(()=>e,[e])},p7=()=>(0,c.useCallback)(e=>{var n;let{action:t,e:r}=e;return(null==r?void 0:r.target)instanceof HTMLElement&&(null==r?void 0:null===(n=r.target)||void 0===n?void 0:n.isContentEditable)===!0&&["MOVE_ITEM_ONE_PIXEL_TO_BOTTOM","MOVE_ITEM_ONE_PIXEL_TO_TOP","MOVE_ITEM_ONE_PIXEL_TO_LEFT","MOVE_ITEM_ONE_PIXEL_TO_RIGHT","MOVE_ITEM_TEN_PIXEL_TO_BOTTOM","MOVE_ITEM_TEN_PIXEL_TO_TOP","MOVE_ITEM_TEN_PIXEL_TO_LEFT","MOVE_ITEM_TEN_PIXEL_TO_RIGHT"].includes(t)},[]),p6=()=>{let e=(0,pq.xX)();return(0,c.useCallback)(n=>{let{action:t,e:r}=n;if("EDIT_TEXT"===t){var o,i;if(!e||e.length>1||!(null===(o=e[0])||void 0===o?void 0:o.type)||(null==event?void 0:event.target)instanceof HTMLElement&&(null==event?void 0:null===(i=event.target)||void 0===i?void 0:i.isContentEditable))return!1;"ITEM_TEXT"===e[0].type&&(null==r||r.preventDefault())}return!1},[e])},p9=()=>{let{updateEditorConfigKeyByUIStateIfLogin:e,isActiveConfig:n,isLogin:t}=(0,p0.I)(),{isLayerVisible:r,updateLayerVisible:o}=(0,p$.O)();return(0,c.useCallback)(i=>{let{action:l}=i;if("TOGGLE_LAYER_PANEL"===l){if(t){let t=n("is_layer_visible");e("is_layer_visible",!t)}else o(!r)}return!1},[n,r,t,e,o])},he=()=>{let e=(0,p1.RK)();return(0,c.useCallback)(n=>{let{action:t}=n;return e&&["UNSELECT_ITEM"].includes(t)},[e])},hn=e=>{let{e:n,keys:t}=e;return!!(0,cO.Xy)(t.sort(),["mod","s"].sort())},ht=e=>{let{preventDefaultPlugins:n,preventOnShortcutPlugins:t}=e,[r]=(0,p_.t0)(),{saveDesign:o}=(0,os.t)(),i=e=>{"SAVE"===e&&o({designSaveTrace:"BEFORE_SHARE",isAutoSaved:!1})};pw({shortcutMap:r,onShortcut:i,options:{preventDefault:!1,combinationKey:pm.DX,enableOnContentEditable:!0,enabled:!0},preventDefaultPlugins:n,preventOnShortcutPlugins:t})},hr=()=>{let e=(0,tz.dB)(),n=(0,o4.c)();ht({preventDefaultPlugins:[hn]}),pj({keyupEnabled:n&&"DEFAULT"===e,keydownEnabled:n&&"DEFAULT"===e,keydownPreventDefaultPlugins:[pV,pD,pL,pN,pA,pP,pW,pG,pB,pF,pk,pU,pZ,pH,pM,pz,pS,pK,pX,pY,pJ],keydownPreventOnShortcutPlugins:[p5(),p8(),p7(),p6(),p9(),he(),p3()],keyupPreventOnShortcutPlugins:[],keyupPreventDefaultPlugins:[]})},ho=()=>{let{designKey:e}=(0,o1.R)(),{changeEditorMode:n}=(0,tz.$H)(),{hasAction:t,isLoading:r}=(0,o0.H)(["DESIGN_MODIFY"]),{hasAction:o,isLoading:i}=(0,o0.H)(["DESIGN_FEEDBACK_CREATE"]),l=(0,o4.c)();(0,c.useEffect)(()=>{r||i||t||!e||!l||n(o?"FEEDBACK":"VIEWER")},[n,e,l,t,r,o,i])};var hi=t(55126),hl=t(33141),hs=t(15433),hc=t(1807),ha=t(26735),hu=t(3801),hd=t(30997);let hp=()=>{let{openUpgradePopup:e}=(0,o5.B)(),{currentPlan:n,isLoadingUser:t}=(0,$.x)(),{usedCouponList:r,isLoading:o}=(0,hd.K)({}),{editorConfig:i,isLoadingEditorConfig:l,updateEditorConfig:s}=(0,p0.I)(),a=(0,c.useMemo)(()=>ha.q.some(e=>r.some(n=>n.keyword===e)),[r]),u="false"===i.is_free_subscription_upgrade_modal_visible,d=(0,hu.Vz)(n)&&a&&!u,p=(0,c.useCallback)(n=>{e({enterPoint:"FREE_SUBSCRIPTION",detailPath:o2.E.ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP,onClose:n}),s({is_free_subscription_upgrade_modal_visible:"false"})},[e,s]);return{isOpenFreeSubscriptionUpgradeModal:d,isLoadingFreeSubscriptionUpgradeModal:t||o||l,openFreeSubscriptionUpgradeModal:p}};var hh=t(49681),hf=t(25675),hx=t.n(hf),hg=t(7028),h_=t(46699);let hm=()=>(0,ol.aM)({queryKey:ua.a.getInviteFriendCode(),queryFn:uc.getInviteCode}),hE=e=>{let{onAuthNotConfirmed:n}=e,[t,r]=(0,c.useState)(""),{isLoadingUser:o,isAuthConfirmed:i}=(0,$.x)(),[l,s]=(0,c.useState)(!1),{data:a}=hm(),u=(0,c.useCallback)((e,n)=>"".concat(location.origin,"?type=").concat("friend_invite","&code=").concat(e,"&ml=").concat(n),[]);return(0,c.useEffect)(()=>{if(!a||o||l)return;if(!i){s(!0),n();return}let{data:{referralCode:e,language:t}}=a;r(u(e,t)),s(!0)},[u,a,i,l,o,n]),{inviteLink:t}},hI=()=>{let{emit:e}=(0,ne.x)(),n=(0,c.useCallback)(()=>{e("ACTION_CLICK_INVITE_FRIEND_LINK_COPY_BUTTON",void 0)},[e]);return{sendInviteFriendLinkCopyEvent:n}};var hT=t(63697),hC=t(1917);let hv=e=>{let{onClose:n,isTrialPeriodWithinNextWeek:t=!1}=e,{openConfirmModal:r}=(0,hT.t)(),{translate:o}=(0,et.$G)(),{sendInviteFriendLinkCopyEvent:i}=hI(),l=(0,c.useCallback)(()=>{r({title:o("WORKSPACE.AUTH_LABEL_PLEASE_FINISH_EMAIL_VERIFICATION"),description:o("WORKSPACE.AUTH_DESCRIPTION_VERIFY_EMAIL_AND_TRY_AGAIN"),onConfirm:()=>{n()},confirmText:o("SHARED.POPUP.POPUP.CONFIRM"),cancelText:""})},[n,r,o]),{inviteLink:s}=hE({onAuthNotConfirmed:l}),a=(0,c.useCallback)(()=>{i(),s&&(0,hC.T)(s)},[s,i]);return{inviteLink:s,isTrialPeriodWithinNextWeek:t,onClose:n,onClickCopyButton:a}};function hw(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 560px;\n\n  color: ",";\n"]);return hw=function(){return e},e}function hb(){let e=(0,r.Z)(["\n  position: relative;\n  z-index: 1;\n\n  & > div {\n    position: absolute;\n  }\n"]);return hb=function(){return e},e}function hR(){let e=(0,r.Z)(["\n  display: flex;\n  width: 360px;\n  height: 560px;\n  padding: 40px 32px 32px 32px;\n"]);return hR=function(){return e},e}function hj(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"]);return hj=function(){return e},e}function hy(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n"]);return hy=function(){return e},e}function hO(){let e=(0,r.Z)(["\n  padding-top: 25px;\n  margin-bottom: 7px;\n"]);return hO=function(){return e},e}function hP(){let e=(0,r.Z)([""]);return hP=function(){return e},e}function hk(){let e=(0,r.Z)(["\n  margin-bottom: 12px;\n  font: ",";\n  white-space: break-spaces;\n\n  span.primary {\n    color: ",";\n  }\n"]);return hk=function(){return e},e}function hD(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 8px;\n  margin-top: 12px;\n\n  font: ",";\n"]);return hD=function(){return e},e}function hA(){let e=(0,r.Z)(["\n  font: ",";\n  white-space: break-spaces;\n"]);return hA=function(){return e},e}function hS(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n  cursor: pointer;\n  text-decoration: underline;\n"]);return hS=function(){return e},e}function hL(){let e=(0,r.Z)(["\n  gap: 12px;\n  margin-top: 20px;\n"]);return hL=function(){return e},e}function hN(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n\n  & > *:first-child {\n    width: 214px;\n    height: ",";\n  }\n\n  & > *:last-child {\n    flex: 1;\n  }\n"]);return hN=function(){return e},e}function hM(){let e=(0,r.Z)(["\n  padding: 0;\n  margin: 0;\n  font: ",";\n  font-size: 13px;\n  color: ",";\n"]);return hM=function(){return e},e}function hZ(){let e=(0,r.Z)(["\n  margin: 0 0 0 4px;\n  text-indent: -0.8rem;\n  padding-left: 0.8rem;\n  &:before {\n    content: '•';\n    padding-right: 0.5rem;\n  }\n"]);return hZ=function(){return e},e}function hU(){let e=(0,r.Z)(["\n  flex: 1;\n\n  max-height: 560px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  border-radius: 0 16px 16px 0;\n"]);return hU=function(){return e},e}let hB="".concat(e5.S,"image/workspace/asset-referral-image-desktop.png"),hF=(0,r$.R)(hv,e=>{let{inviteLink:n,isTrialPeriodWithinNextWeek:t,onClose:r,onClickCopyButton:i,translate:l}=e;return(0,o.jsxs)(nZ.u,{show:!0,width:"960px",closeModal:r,closeOnClickBackground:!1,children:[(0,o.jsx)(hW,{children:(0,o.jsx)(nZ.u.Header,{showClose:!0,onClickClose:r})}),(0,o.jsx)(nZ.u.Body,{children:(0,o.jsxs)(hG,{children:[(0,o.jsx)(hH,{children:(0,o.jsx)(rq.p,{maxHeight:"560px",paddingSize:"M",children:(0,o.jsxs)(hV,{children:[(0,o.jsxs)(hz,{children:[t&&(0,o.jsx)(hK,{children:(0,o.jsx)(rX.e,{position:"topStart",color:"neutral",size:"S",widthType:"fixed",maxWidth:"296px",show:!0,showAlways:!0,subText:"",label:l("SHARED.SHARED_196"),children:(0,o.jsx)(hX,{})})}),(0,o.jsx)(hY,{children:(0,h_.J_)(l(t?"SHARED.SHARED_197":"WORKSPACE.REFERRAL_GUIDE_GET_REWARDED_WHEN_FRIENDS_SIGNING_UP"))}),(0,o.jsxs)(hJ,{children:[(0,o.jsx)("div",{children:"\uD83D\uDD17️️️"}),(0,o.jsx)(hq,{children:(0,h_.J_)(l("WORKSPACE.REFERRAL_GUIDE_HOW_TO_GET_REWARDED_1"))})]}),(0,o.jsxs)(hJ,{children:[(0,o.jsx)("div",{children:"\uD83D\uDE4B‍♂️"}),(0,o.jsx)(hq,{children:(0,h_.J_)(l("WORKSPACE.REFERRAL_GUIDE_HOW_TO_GET_REWARDED_2_VOUCHER"))})]}),(0,o.jsxs)(hJ,{children:[(0,o.jsx)("div",{children:"\uD83D\uDC8C"}),(0,o.jsx)(hq,{children:(0,h_.J_)(l("WORKSPACE.REFERRAL_GUIDE_HOW_TO_GET_REWARDED_3_VOUCHER"))})]}),(0,o.jsx)(hJ,{children:(0,o.jsx)(hQ,{onClick:()=>{window.open("https://www.miricanvas.com/s/1498","_blank")},children:l("WORKSPACE.REFERRAL_LABEL_HOW_TO_USE_REFERRAL_LINK")})})]}),(0,o.jsxs)(h$,{children:[(0,o.jsxs)(h0,{children:[(0,o.jsx)(hg.U,{value:n,widthType:"fill",state:"readOnly"}),(0,o.jsx)(q.Jr,{text:l("EDITOR.POPUP.POPUP.EDIT_AREA.CONTEXT_MENU.COPY"),widthType:"fill",onClick:i})]}),(0,o.jsxs)(h1,{children:[(0,o.jsx)(h4,{children:l("WORKSPACE.REFERRAL_GUIDE_REFERRAL_LINK_1")}),(0,o.jsx)(h4,{children:l("WORKSPACE.REFERRAL_GUIDE_REFERRAL_LINK_2")})]})]})]})})}),(0,o.jsx)(h2,{children:(0,o.jsx)(hx(),{width:600,height:644.444,src:hB,alt:"invite friend image"})})]})})]})}),hG=i.ZP.div.withConfig({componentId:"sc-19074a5a-0"})(hw(),e=>{let{theme:n}=e;return n.token.s_color_contents_default}),hW=i.ZP.div.withConfig({componentId:"sc-19074a5a-1"})(hb()),hH=i.ZP.div.withConfig({componentId:"sc-19074a5a-2"})(hR()),hV=i.ZP.div.withConfig({componentId:"sc-19074a5a-3"})(hj()),hz=i.ZP.div.withConfig({componentId:"sc-19074a5a-4"})(hy()),hK=i.ZP.div.withConfig({componentId:"sc-19074a5a-5"})(hO()),hX=i.ZP.div.withConfig({componentId:"sc-19074a5a-6"})(hP()),hY=i.ZP.div.withConfig({componentId:"sc-19074a5a-7"})(hk(),e=>{let{theme:n}=e;return n.token.s_typography_title_XL},e=>{let{theme:n}=e;return n.token.s_color_brand_primary_default}),hJ=i.ZP.div.withConfig({componentId:"sc-19074a5a-8"})(hD(),e=>{let{theme:n}=e;return n.token.s_typography_label_medium_M}),hq=i.ZP.div.withConfig({componentId:"sc-19074a5a-9"})(hA(),e=>{let{theme:n}=e;return n.token.s_typography_label_medium_M}),hQ=i.ZP.button.withConfig({componentId:"sc-19074a5a-10"})(hS(),e=>{let{theme:n}=e;return n.token.s_typography_label_medium_M},e=>{let{theme:n}=e;return n.token.s_color_brand_primary_default}),h$=(0,i.ZP)(hz).withConfig({componentId:"sc-19074a5a-11"})(hL()),h0=i.ZP.div.withConfig({componentId:"sc-19074a5a-12"})(hN(),e=>{let{theme:n}=e;return n.token.c_input_size_height_M}),h1=i.ZP.ul.withConfig({componentId:"sc-19074a5a-13"})(hM(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_additional}),h4=i.ZP.li.withConfig({componentId:"sc-19074a5a-14"})(hZ()),h2=i.ZP.div.withConfig({componentId:"sc-19074a5a-15"})(hU()),h3=()=>{let{isUserInfoSurveyRequired:e,isLoading:n}=(0,hh.B)(),[t,r]=(0,c.useState)(!1),[o,i]=(0,c.useState)(!0),{isLoadingUser:l,isKoreanUser:s,isLogin:a}=(0,$.x)(),{openPopup:u,closePopup:d}=(0,nM.B)(),p=(0,c.useCallback)(e=>{u({id:nN.U.INVITE_FRIEND,component:hF,props:{onClose:()=>{d(nN.U.INVITE_FRIEND),null==e||e()}}})},[d,u]);return(0,c.useEffect)(()=>{let e=localStorage.getItem("SHOWED_INVITE_FRIEND_POPUP");r("true"===e),i(!1)},[]),{isOpen:a&&!t&&!e&&!s,isLoading:o||n||l,openInviteFriendPopup:p}},h5=()=>{var e,n;let{isUserInfoSurveyRequired:t,isLoading:r}=(0,hh.B)(),[o,i]=(0,c.useState)(!1),[l,s]=(0,c.useState)(!0),{isLoadingUser:a,isKoreanUser:u,selectedTeamIdx:d,isLogin:p}=(0,$.x)(),{workspaceDetail:h}=(0,rg.D)(d||0),f=(0,c.useMemo)(()=>{var e;return null!=h&&null!==(e=h.billing)&&void 0!==e&&!!e.endDate&&7>=(0,oE.jC)(new Date,new Date(h.billing.endDate))},[null==h?void 0:null===(e=h.billing)||void 0===e?void 0:e.endDate]),x=Boolean(null==h?void 0:null===(n=h.billing)||void 0===n?void 0:n.trialVersion),{openPopup:g,closePopup:_}=(0,nM.B)(),m=(0,c.useCallback)(e=>{g({id:nN.U.INVITE_FRIEND,component:hF,props:{onClose:()=>{_(nN.U.INVITE_FRIEND),null==e||e()},isTrialPeriodWithinNextWeek:!0}})},[_,g]);return(0,c.useEffect)(()=>{let e=localStorage.getItem("SHOWED_TRIAL_PERIOD_REMINDER_POPUP");i("true"===e),s(!1)},[]),{isOpen:p&&!o&&!t&&!u&&f&&x,isLoading:l||r||a,openInviteFriendPopupWithinWeek:m}};var h8=t(6027),h7=t(9019);let h6=()=>(0,ol.aM)({queryKey:ua.a.getWebEnvironmentVariables(),queryFn:()=>(0,uc.getWebEnvironmentVariables)()}),h9=()=>{let{data:e}=h6(),n=(0,c.useMemo)(()=>e?e.data.list.reduce((e,n)=>{let{key:t,value:r}=n;return Object.assign(e,{[t]:r}),e},{}):{},[e]);return{webEnvironment:n}},fe=()=>{let{webEnvironment:e}=h9();return{emergentDisableNotice:(e=>{if(!e)return{};try{let n=e=>h7.LANGUAGE_TYPE_LIST.every(n=>Boolean(e[n])),t=JSON.parse(e);if((null==t?void 0:t.display)!=="Y")return t;let r=n(null==t?void 0:t.title),o=n(null==t?void 0:t.description);if(!r||!o)throw Error("title 또는 description에 서비스 언어 값이 설정되지 않아 팝업이 노출되지 않습니다.");return t}catch(e){return console.error("긴급 장애 안내 팝업 Json 파싱 에러",e),{display:"N"}}})(e.EMERGENT_DISABLE_NOTICE)}};var fn=t(75355);let ft=e=>{let{onClose:n,emergentDisableNotice:t}=e,{currentLanguage:r}=(0,e6.U)(),{value:o,setValue:i}=(0,Q.kt)(!1);if((0,cO.o8)(t.title)||(0,cO.o8)(t.description)){n();return}let l=()=>{if(o){let e=new Date;(0,ni.kQ)("dont_show_maintenance_notice","true",{hour:23-e.getHours(),minute:60-e.getMinutes()})}n()},s=()=>{i(!o)};return{title:t.title[r],description:t.description[r],renderCheckBox:t.renderCheckbox,checked:o,closeModal:l,onChangeChecked:s}};function fr(){let e=(0,r.Z)(["\n  display: flex;\n  padding: var(--b-spacing-0, 0px) 40px 20px 40px;\n  flex-direction: column;\n  align-items: center;\n  gap: 24px;\n  flex: 1 0 0;\n"]);return fr=function(){return e},e}function fo(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  /* align-items: flex-start; */\n  gap: 12px;\n  align-self: stretch;\n"]);return fo=function(){return e},e}function fi(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n\n  /* s/typography/title/L */\n  font: ",";\n"]);return fi=function(){return e},e}function fl(){let e=(0,r.Z)(["\n  color: ",";\n  text-align: center;\n\n  /* s/typography/body/M */\n  font: ",";\n"]);return fl=function(){return e},e}function fs(){let e=(0,r.Z)(["\n  display: flex;\n  padding: 20px 32px 40px 32px;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  align-self: stretch;\n"]);return fs=function(){return e},e}let fc=(0,Q.RW)(ft,e=>{let{translate:n,title:t,description:r,renderCheckBox:i,checked:l,closeModal:s,onChangeChecked:c}=e;return(0,o.jsxs)(nZ.u,{show:!0,width:"480px",closeOnClickBackground:!0,closeModal:s,children:[(0,o.jsx)(nZ.u.Header,{onClickClose:s}),(0,o.jsx)(nZ.u.Body,{children:(0,o.jsxs)(fa,{children:[(0,o.jsxs)(fu,{children:[(0,o.jsx)(fd,{children:t}),(0,o.jsx)(fp,{children:r})]}),i&&(0,o.jsx)(fn.J,{text:n("SHARED.EMERGENCY_POPUP_1"),state:l?"selected":"unselected",onChange:c})]})}),(0,o.jsx)(fh,{children:(0,o.jsx)(q.Jr,{text:n("SHARED.POPUP.POPUP.CONFIRM"),widthType:"fixed",width:"160px",onClick:s})})]})}),fa=i.ZP.div.withConfig({componentId:"sc-e64cb384-0"})(fr()),fu=i.ZP.div.withConfig({componentId:"sc-e64cb384-1"})(fo()),fd=i.ZP.p.withConfig({componentId:"sc-e64cb384-2"})(fi(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_L}),fp=i.ZP.p.withConfig({componentId:"sc-e64cb384-3"})(fl(),e=>{let{theme:n}=e;return n.token.s_color_contents_sub},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),fh=i.ZP.div.withConfig({componentId:"sc-e64cb384-4"})(fs()),ff=()=>{let{openPopup:e,closePopup:n}=(0,nM.B)(),{emergentDisableNotice:t}=fe(),r=(0,ni.wz)("dont_show_maintenance_notice")&&(null==t?void 0:t.display)==="Y",o=(0,c.useCallback)(r=>{e({component:fc,props:{emergentDisableNotice:t,onClose:()=>{null==r||r(),n()}}})},[n,t,e]);return{isOpen:r,isLoading:!(null==t?void 0:t.display),openNoticeServiceModal:o}};var fx=t(11860);let fg=()=>{let[e,n]=(0,c.useState)(0),t=(0,c.useRef)(!1),r=(0,c.useRef)(0),o=(0,hs.s)(),{openNoticeServiceModal:i,isLoading:l,isOpen:s}=ff(),{isOpen:a,isLoading:u,openUserInfoSurveyModal:d}=(0,fx.f)(),{openFreeSubscriptionModal:p,isOpen:h,isLoading:f}=(0,hc.r)(),{openInviteFriendPopup:x,isOpen:g,isLoading:_}=h3(),{openInviteFriendPopupWithinWeek:m,isOpen:E,isLoading:I}=h5(),{isOpenFreeSubscriptionUpgradeModal:T,isLoadingFreeSubscriptionUpgradeModal:C,openFreeSubscriptionUpgradeModal:v}=hp(),{isLoadingNewFeatureModal:w,isOpenNewFeatureModal:b,openNewFeatureUpdateModal:R}=(0,h8.e)(),{isLoading:j,isOpen:y,openPromotionModal:O}=(0,hi.g)(),{isOpenTextEffectDeletedModal:P,openTextEffectDeletePopup:k}=(0,hl.P)(),D=(0,c.useMemo)(()=>[{isOpen:s,isLoading:l,openModal:i},{isOpen:g,isLoading:_,openModal:e=>{localStorage.setItem("SHOWED_INVITE_FRIEND_POPUP","true"),x(e)}},{isOpen:E&&!g,isLoading:I,openModal:e=>{localStorage.setItem("SHOWED_TRIAL_PERIOD_REMINDER_POPUP","true"),m(e)}},{isOpen:a,isLoading:u,openModal:d},{isOpen:h,isLoading:f,openModal:e=>p(void 0,e)},{isOpen:T,isLoading:C,openModal:v},{isOpen:b,isLoading:w,openModal:R},{isOpen:y,isLoading:j,openModal:O},{isOpen:P,isLoading:!P,openModal:k}],[f,C,_,I,w,l,j,u,h,T,g,E,b,s,y,P,a,p,v,x,m,R,i,O,k,d]),A=(0,c.useCallback)(()=>{n(e=>e+1),r.current+=1,t.current=!1},[]);(0,c.useEffect)(()=>{if(e>=D.length||t.current||!o||e!==r.current)return;let{isOpen:n,isLoading:i,openModal:l}=D[e];i||(n?(t.current=!0,l(()=>{A()})):A())},[o,A,e,D])};var f_=t(84806),fm=t(63517),fE=t(91099),fI=t(54029),fT=t(94556);let fC=e=>{let{closeFlagPopup:n}=(0,ll.g)(),[t,r]=(0,c.useState)(!1),o=(0,c.useRef)(null),i=()=>{r(e=>!e)};return(0,c.useEffect)(()=>(o.current&&(clearTimeout(o.current),o.current=null),o.current=setTimeout(()=>{n(e)},8e3),()=>{o.current&&clearTimeout(o.current)}),[t,e,n]),{resetFlagPopupTimer:i}},fv=e=>{let{onClose:n,isChangeOnlyPage:t=!1}=e,{arrangeTypes:r,selectedType:o,beforePageSize:i,newPageSize:l,isChanged:s,setBeforePageSize:c,setNewPageSize:a,getArrangeTypeText:u,setSelectedType:d,setIsChanged:p}=(0,fI.K)(),{publish:h}=(0,on.j)(),{resetFlagPopupTimer:f}=fC(0),{updatePageSize:x}=(0,fT.X)(),{sendActionClickChangeTemplateSizeButtonEvent:g}=(0,fE.c)(),_=e=>{let{changeCanvasSize:n,newArrangeType:t,doRollback:r}=e;d(null!=t?t:"FIT"),f(),x(c),g({changeCanvasSize:n,newArrangeType:t,doRollback:r}),h("COMMAND_SET_ARRANGE_TYPE",{arrangeType:t,changeCanvasSize:n,doRollback:r},{onComplete:e=>{n&&e&&(p(!s),x(a))}})};return{onClose:n,changeTemplateSize:_,selectedType:o,arrangeTypes:r,isChanged:s,beforePageSize:i,newPageSize:l,popupIdx:0,isChangeOnlyPage:t,getArrangeTypeText:u}};function fw(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  ",";\n  flex: 1 0 0;\n  margin-top: 16px;\n"]);return fw=function(){return e},e}function fb(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  ",";\n  align-self: stretch;\n"]);return fb=function(){return e},e}function fR(){let e=(0,r.Z)([""]);return fR=function(){return e},e}function fj(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return fj=function(){return e},e}let fy=(0,Q.RW)(fv,e=>{let{onClose:n,selectedType:t,arrangeTypes:r,changeTemplateSize:i,translate:l,isChanged:s,newPageSize:c,beforePageSize:a,popupIdx:u,isChangeOnlyPage:d,getArrangeTypeText:p}=e;return s?(0,o.jsx)(li.o,{title:l("EDITOR.EDITOR_286"),iconType:"CHECK",onClose:n,popupHeight:320,popupIndex:u,useAutoTimer:!1,children:(0,o.jsxs)(fO,{children:[(0,o.jsxs)(fk,{children:[(0,o.jsx)(fD,{children:l("EDITOR.REMAIN_207")}),(0,o.jsxs)(fD,{children:[a.width," \xd7 ",a.height," → ",c.width," \xd7"," ",c.height]})]}),(0,o.jsx)(fm.H,{iconName:"chevron_right",text:l("EDITOR.EDITOR_287"),size:"S",color:"neutralDeep",type:"fillLight",textOverflow:"newLine",onClick:()=>i({changeCanvasSize:!0,doRollback:!0})})]})}):(0,o.jsx)(li.o,{title:l("EDITOR.REMAIN_205"),iconType:"INFO",onClose:n,popupHeight:320,popupIndex:u,useAutoTimer:!1,children:(0,o.jsxs)(fO,{children:[(0,o.jsx)(fP,{children:r.map(e=>(0,o.jsx)(f_.Y,{onClick:()=>i({changeCanvasSize:!1,newArrangeType:e}),id:e,text:l(p(e)),state:t===e?"selected":"unselected"},"radio-".concat(e)))}),!d&&(0,o.jsx)(fm.H,{iconName:"chevron_right",text:l("EDITOR.REMAIN_206"),size:"S",color:"neutralDeep",type:"fillLight",onClick:()=>i({changeCanvasSize:!0}),textOverflow:"newLine"})]})})}),fO=i.ZP.div.withConfig({componentId:"sc-7f83dff-0"})(fw(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("16px")}),fP=i.ZP.div.withConfig({componentId:"sc-7f83dff-1"})(fb(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("12px")}),fk=i.ZP.div.withConfig({componentId:"sc-7f83dff-2"})(fR()),fD=i.ZP.div.withConfig({componentId:"sc-7f83dff-3"})(fj(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),fA=()=>{let{subscribe:e}=(0,on.j)(),{openFlagPopup:n,closeFlagPopup:t}=(0,ll.g)(),r=(0,re.H)();(0,c.useEffect)(()=>{let o=e("EVENT_OPEN_ITEM_FIT_MODE_SELECT",e=>{e.isOpen&&(t(0),n({component:fy,props:{onClose:t,isChangeOnlyPage:r}}))});return()=>{null==o||o.unsubscribe()}},[e,n,t,r])},fS=e=>{let{subscribe:n}=(0,on.j)(),t=(0,c.useRef)(e);t.current=e,(0,c.useEffect)(()=>{let e=n("EVENT_OPEN_PRINTOUT_INSPECTION_ALERT_POPUP",e=>{t.current(e)});return()=>{null==e||e.unsubscribe()}},[n])};var fL=t(65125);let fN={WARNING:"error",RECOMMEND:"accent",CAUTION:"warning"},fM=()=>{let{translate:e}=(0,et.$G)(),{openPopup:n,closePopup:t}=(0,nM.B)(),r=e=>{n({component:fL.O,props:{showModal:!0,pages:e,onClose:()=>t(),onConfirm:()=>t()}})};fS(n=>{let{type:t,title:o,contents:i,popupDetailMessageList:l}=n;B[fN[t]]({duration:0,closeOnClickOutside:!0,title:o,content:i.join(" "),action:(null==l?void 0:l.length)?{label:e("SHARED.DETAIL_INFO_HYPER_LINK"),onClick:()=>{l&&(null==l?void 0:l.length)&&r(l)},align:"right"}:void 0})})};var fZ=t(61259),fU=t(91904);let fB=()=>{let{openPopup:e,closePopup:n}=(0,nM.B)(),{currentPlan:t}=(0,$.x)(),r=(0,ni.jy)("dont_show_eduplus_popup");(0,c.useEffect)(()=>{(0,hu.Nr)(t)&&!r&&e({component:fU.X,props:{onClose:()=>n(nN.U.UPGRADE)},id:nN.U.UPGRADE})},[t,n,r,e])},fF=e=>{let{designId:n,onClose:t}=e;return{designId:n,onClose:t}};var fG=t(79730),fW=t(34371);let fH=e=>{let{designId:n,onClose:t}=e,{selectedTeamIdx:r=0}=(0,$.x)(),{data:o}=(0,fW.D)(n,r),[i,l]=(0,c.useState)(608);(0,c.useEffect)(()=>{l(window.innerHeight-160)},[]);let s=(0,c.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(0,ni.kQ)("dontshowteamnotice_$0_$1",String(n),{day:7},[n]),t()},[n,t]);return{designList:null==o?void 0:o.data.pageList,onCloseModal:s,currentScreenHeight:i}};function fV(){let e=(0,r.Z)(["\n  position: absolute;\n  top: -32px;\n  right: 0;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  ",";\n"]);return fV=function(){return e},e}function fz(){let e=(0,r.Z)(["\n  color: white;\n  font: ",";\n"]);return fz=function(){return e},e}function fK(){let e=(0,r.Z)(["\n  ","\n  flex-direction: column;\n"]);return fK=function(){return e},e}function fX(){let e=(0,r.Z)(["\n  width: 100%;\n  height: auto;\n"]);return fX=function(){return e},e}let fY=(0,Q.RW)(fH,e=>{let{translate:n,designList:t,onCloseModal:r,currentScreenHeight:i}=e;return(0,o.jsx)(o.Fragment,{children:t&&(0,o.jsxs)(nZ.u,{show:!0,width:"80%",closeModal:r,children:[(0,o.jsxs)(fJ,{children:[(0,o.jsxs)(fG.e,{gap:"8px",children:[(0,o.jsx)(fn.J,{state:"unselected",onChange:()=>r(!0)}),(0,o.jsx)(fq,{children:n("SHARED.COMMON_LABEL_DO_NOT_SHOW_IN_7DAYS")})]}),(0,o.jsx)(nL.h,{iconName:"close",color:"white",type:"ghost",size:"XS",onClick:()=>r()})]}),(0,o.jsx)(rq.p,{maxHeight:"".concat(i,"px"),children:(0,o.jsx)(fQ,{children:null==t?void 0:t.map(e=>(0,o.jsx)(f$,{src:e.thumbOriginUrl,alt:e.thumbKey},e.idx))})})]})})}),fJ=i.ZP.div.withConfig({componentId:"sc-6b779a1a-0"})(fV(),e=>{let{theme:n}=e;return n.mixin.flexColGap("6px")}),fq=i.ZP.span.withConfig({componentId:"sc-6b779a1a-1"})(fz(),e=>{let{theme:n}=e;return n.token.c_banner_typography_sub_M}),fQ=i.ZP.div.withConfig({componentId:"sc-6b779a1a-2"})(fK(),e=>{let{theme:n}=e;return n.mixin.flexboxRowCenter()}),f$=i.ZP.img.withConfig({componentId:"sc-6b779a1a-3"})(fX()),f0=(0,Q.RW)(fF,e=>{let{designId:n,onClose:t}=e;return(0,o.jsx)(oh.k,{pendingFallback:(0,o.jsx)(o.Fragment,{}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(fY,{designId:n,onClose:t})})}),f1=()=>{let{selectedTeam:e}=(0,$.x)(),{openPopup:n,closePopup:t}=(0,nM.B)();(0,c.useEffect)(()=>{let r=(null==e?void 0:e.noticeMessage)?JSON.parse(String(null==e?void 0:e.noticeMessage)):null;(null==r?void 0:r.enabled)&&(0,ni.wz)("dontshowteamnotice_$0_$1",[null==r?void 0:r.designIdx])&&n({component:f0,props:{designId:null==r?void 0:r.designIdx,onClose:()=>t(nN.U.TEAM_NOTICE)},id:nN.U.TEAM_NOTICE})},[t,n,null==e?void 0:e.noticeMessage])},f4=()=>{(0,fZ.H)(),fA(),hr(),fB(),f1(),ho(),pO(),pg(),fM(),fg()},f2=(0,Q.RW)(f4,()=>(0,o.jsx)(o.Fragment,{}));var f3=t(56313),f5=t(52198);let f8="".concat(e5.S,"image/ai/icon/ai_design_assistant_hover.gif"),f7=e=>{let{showBorder:n=!1,openPopover:t,ref:r}=e;return{openPopover:t,ref:r,showBorder:n}};function f6(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  margin: 2px;\n  border-radius: 24px;\n\n  background: ",";\n  box-shadow: ",";\n  overflow: hidden;\n"]);return f6=function(){return e},e}function f9(){let e=(0,r.Z)(["\n  padding: 12px;\n  width: 48px;\n  height: 48px;\n  display: none;\n"]);return f9=function(){return e},e}function xe(){let e=(0,r.Z)(["\n  display: flex;\n  width: 48px;\n  height: 48px;\n  justify-content: center;\n  align-items: center;\n"]);return xe=function(){return e},e}function xn(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n\n  ",";\n\n  &:hover "," {\n    display: block;\n  }\n\n  &:hover "," {\n    display: none;\n  }\n"]);return xn=function(){return e},e}let xt=(0,Q.RW)(f7,e=>{let{openPopover:n,theme:t,ref:r,showBorder:i}=e;return(0,o.jsx)(xl,{onClick:n,ref:r,showBorder:i,children:(0,o.jsxs)(xr,{children:[(0,o.jsx)(xi,{children:(0,o.jsx)(a.J,{color:t.token.s_color_brand_primary_default,iconName:"icon_ai_tools_filled",width:"24px",height:"24px"})}),(0,o.jsx)(xo,{src:f8})]})})}),xr=i.ZP.div.withConfig({componentId:"sc-58a2a098-0"})(f6(),e=>{let{theme:n}=e;return n.token.c_elevatedIconButton_color_background_neutral_default},e=>{let{theme:n}=e;return n.token.c_elevatedIconButton_shadow_2XL}),xo=i.ZP.img.withConfig({componentId:"sc-58a2a098-1"})(f9()),xi=i.ZP.div.withConfig({componentId:"sc-58a2a098-2"})(xe()),xl=i.ZP.button.withConfig({componentId:"sc-58a2a098-3"})(xn(),e=>{let{showBorder:n}=e;return n&&"outline: 5px solid rgba(38, 199, 217, 0.3)"},xo,xi);var xs=t(81957);let xc={DEFAULT:{label:"EDITOR.EDITOR_635",subText:"EDITOR.EDITOR_656",color:"neutral",showCloseButton:!1},START_AI_DESIGN:{label:"EDITOR.EDITOR_635",subText:"EDITOR.EDITOR_636",color:"primary",showCloseButton:!0},START_AI_CHATBOT:{label:"EDITOR.EDITOR_635",subText:"EDITOR.EDITOR_655",color:"primary",showCloseButton:!0,bottomPosition:"4px"}},xa=e=>{let{tooltipType:n,onCloseInitialTooltip:t}=e,r=xc[n];return{viewOptions:r,onCloseInitialTooltip:t}};function xu(){let e=(0,r.Z)(["\n  position: absolute;\n  bottom: ",";\n  margin-bottom: 10px;\n  right: 0;\n  transform: translate(0, -50px);\n\n  span {\n    &::after {\n      right: 20px;\n    }\n  }\n"]);return xu=function(){return e},e}let xd=(0,Q.RW)(xa,e=>{let{viewOptions:n,onCloseInitialTooltip:t,translate:r}=e;return(0,o.jsx)(xp,{bottomPosition:n.bottomPosition,children:(0,o.jsx)(xs._,{type:"severalLines",position:"topEnd",color:n.color,widthType:"fixed",width:"320px",size:"M",textAlign:"left",label:r(n.label),subText:r(n.subText),isShow:!0,showCloseButton:n.showCloseButton,onClickCloseButton:t})})}),xp=i.ZP.div.withConfig({componentId:"sc-43180d5-0"})(xu(),e=>{let{bottomPosition:n}=e;return null!=n?n:"0"});var xh=t(29849);let xf=(e,n)=>(e&n)===n,xx=(e,n)=>e|n;var xg=t(10699);let x_={DEFAULT:0,START_AI_DESIGN:1,START_AI_CHATBOT:2},xm=e=>{let{isLogin:n}=(0,$.x)(),{editorConfig:t,updateEditorConfig:r}=(0,p0.I)(),[o,i]=(0,xg._)(xh.J.AI_ASSISTANT_TOOLTIP_FLAGS,"0"),l=x_[e],s=xf(Number(n?t.ai_assistant_tooltip_flags:o),l),c=()=>{if(s)return;let e=xx(Number(n?t.ai_assistant_tooltip_flags:o),l).toString();n?r({ai_assistant_tooltip_flags:e}):i(e)};return{isTooltipFlagOn:s,flagOnTooltip:c}},xE=e=>{let{subscribe:n}=(0,on.j)();(0,c.useEffect)(()=>{let t=n("EVENT_CHANGE_BOTTOM_PANEL_OPENED",n=>{e(n.isOpen)});return()=>{null==t||t.unsubscribe()}},[e,n])},xI=()=>{let{emit:e}=(0,ne.x)(),n=(0,c.useCallback)(()=>{e("ACTION_CLICK_AI_DESIGN_ASSISTANT_POPUP_BUTTON",void 0)},[e]),t=(0,c.useCallback)(()=>{e("ACTION_CLICK_AI_DESIGN_ASSISTANT_POPUP_AI_WRITING_BUTTON",void 0)},[e]),r=(0,c.useCallback)(()=>{e("ACTION_CLICK_AI_DESIGN_ASSISTANT_POPUP_AI_DRAWING_BUTTON",void 0)},[e]),o=(0,c.useCallback)(()=>{e("ACTION_CLICK_AI_DESIGN_ASSISTANT_POPUP_AI_CHATBOT_BUTTON",void 0)},[e]);return{sendClickEventWithAIDesignAssistantButton:n,sendClickEventWithAIDesignAssistantPopupAIWritingButton:t,sendClickEventWithAIDesignAssistantPopupAIDrawingButton:r,sendClickEventWithAIDesignAssistantPopupAIChatbotButton:o}},xT=()=>{let{publish:e}=(0,on.j)(),n=(0,c.useCallback)(n=>{e("COMMAND_ADD_TEXT_INPUT_STRING",{textInputString:n})},[e]),t=(0,c.useCallback)(n=>{e("COMMAND_AI_MODIFY_TEXT_STRING",{newTextString:n})},[e]);return{generateAIWritingCommand:n,editAIWritingCommand:t}},xC=function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,ol.aM)({queryKey:ua.a.getAIWritingQuota(e),queryFn:()=>(0,uc.getAiWritingQuota)(e),options:{enabled:n}})},xv=()=>{let e=(0,ol.Db)(uc.generateText),n=(0,ol.Db)(uc.editText),t=(0,ol.Db)(uc.sendAIWritingFeedback);return{generateAIWritingMutation:e,sendAIWritingFeedbackMutation:t,editAIWritingMutation:n}},xw=()=>{let{editAIWritingMutation:e}=xv(),{editAIWritingCommand:n}=xT(),t=(0,c.useCallback)(t=>{let{params:r,onSuccess:o,onError:i}=t;window.navigator.onLine?e.mutate(r,{onSuccess:e=>{if(n(e.data.editedText),e.resultCode&&"EXTERNAL_API_FAIL"===e.resultCode){null==i||i();return}null==o||o(e)},onError:()=>{n(r.text),null==i||i()}}):(n(r.text),null==i||i())},[n,e]);return{edit:t}},xb=()=>{let{emit:e}=(0,ne.x)(),n=(0,c.useCallback)(()=>{e("ACTION_CLICK_AI_WRITING_EDIT_TEXT_BUTTON",void 0)},[e]);return{sendClickEventWithAIWritingEditButton:n}},xR=()=>{let{sendAIWritingFeedbackMutation:e}=xv(),n=(0,c.useCallback)(n=>{let{params:t,onSuccess:r,onError:o}=n;e.mutate(t,{onSuccess:()=>{null==r||r()},onError:()=>{null==o||o()}})},[e]);return{sendFeedback:n}},xj=e=>{let{closePopup:n,feedbackParams:t}=e,{sendFeedback:r}=xR(),[o,i]=(0,c.useState)(!1),[l,s]=(0,c.useState)(!1),a=()=>{i(!0),r({params:{...t,evaluation:"good"},onSuccess:()=>{n()}})},u=()=>{s(!0),r({params:{...t,evaluation:"bad"},onSuccess:()=>{n()}})},d=()=>{window.open("https://forms.gle/x7rzruR89YFQ4TR57")};return{isThumbUpSelected:o,isThumbDownSelected:l,onClickThumbUp:a,onClickThumbDown:u,onClickSendForm:d}};function xy(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return xy=function(){return e},e}function xO(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  align-self: stretch;\n"]);return xO=function(){return e},e}function xP(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]);return xP=function(){return e},e}function xk(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n"]);return xk=function(){return e},e}let xD=(0,Q.RW)(xj,e=>{let{isThumbUpSelected:n,isThumbDownSelected:t,onClickThumbUp:r,onClickThumbDown:i,onClickSendForm:l,translate:s}=e;return(0,o.jsxs)(xA,{children:[(0,o.jsx)(xN,{children:s("SHARED.SHARED_220")}),(0,o.jsxs)(xS,{children:[(0,o.jsxs)(xL,{children:[(0,o.jsx)(nL.h,{iconName:n?"thumb_up_filled":"thumb_up",size:"SM",type:"ghost",shape:"square",color:"neutralLight",onClick:r,disabled:t}),(0,o.jsx)(nL.h,{iconName:t?"thumb_down_filled":"thumb_down",size:"SM",type:"ghost",shape:"square",color:"neutralLight",onClick:i,disabled:n})]}),(0,o.jsx)(f.zx,{size:"M",onClick:l,type:"ghost",color:"primary",widthType:"hug",children:s("EDITOR.EDITOR_331")})]})]})}),xA=i.ZP.div.withConfig({componentId:"sc-8602438a-0"})(xy()),xS=i.ZP.div.withConfig({componentId:"sc-8602438a-1"})(xO()),xL=i.ZP.div.withConfig({componentId:"sc-8602438a-2"})(xP()),xN=i.ZP.div.withConfig({componentId:"sc-8602438a-3"})(xk(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),xM=()=>{let{subscribe:e}=(0,on.j)(),{selectedTeamIdx:n,isLogin:t}=(0,$.x)(),{openSignInModal:r}=(0,oc.N)(),{translate:i}=(0,et.$G)(),{designIdx:l}=(0,o1.R)(),{editAIWritingCommand:s}=xT(),{edit:a}=xw(),{sendClickEventWithAIWritingEditButton:u}=xb();(0,c.useEffect)(()=>{let c=e("EVENT_EDIT_TEXT_AIWRITING",e=>{if(u(),!t){r(),s(e.editText);return}a({params:{text:e.editText,editOption:e.editOption,teamIdx:null!=n?n:0},onSuccess:t=>{B.open({id:"AIWRITING_EDIT_FEEDBACK",duration:15e3,animationDuration:0,title:i("EDITOR.EDITOR_606"),content:(0,o.jsx)(xD,{feedbackParams:{userText:e.editText,aiText:t.data.editedText,action:"edit",teamIdx:null!=n?n:0,designIdx:null!=l?l:0,option:e.editOption},closePopup:()=>B.close("AIWRITING_EDIT_FEEDBACK")})})},onError:()=>{B.open({id:"AIWRITING_EDIT_ERROR",type:"error",duration:15e3,animationDuration:0,iconName:"warning_alt_filled",title:i("EDITOR.REMAIN_175"),content:""})}})});return()=>{null==c||c.unsubscribe()}},[l,a,s,t,r,n,u,e,i])},xZ=()=>{let e="START_AI_CHATBOT",[n,t]=(0,c.useState)(!1),{value:r,setValue:o}=(0,Q.kt)(!0),{value:i,setValue:l}=(0,Q.kt)(!1),{isDesignEditableMode:s}=(0,tz.$H)(),{setFocusArea:a}=(0,t6.G)(),{isActiveConfig:u}=(0,p0.I)(),{isLayerVisible:d}=(0,p$.O)(),{isRightPanelVisible:p}=(0,ro.U)(),{isEditorInitialized:h}=(0,on.j)();xM(),xE(t);let{sendClickEventWithAIDesignAssistantButton:f}=xI(),x=()=>{a("none"),l(!0),E(),f()},g=()=>{l(!1)},_=(0,c.useRef)(null),m=(0,Q.XI)(_),{flagOnTooltip:E,isTooltipFlagOn:I}=xm(e),T=I?"DEFAULT":e;return{isButtonVisible:h&&s,closePopover:g,isPopoverOpen:i,openPopover:x,isBottomPanelOpen:n,isRightPanelVisible:p,isLayerPanelVisible:d||u("is_layer_visible"),ref:_,onCloseInitialTooltip:E,tooltipType:T,showTooltip:"DEFAULT"===T?!i&&m:!i,canCloseOnClickOutside:r,setCanCloseOnClickOutside:o}},xU=()=>{let{generateAIWritingMutation:e}=xv(),{generateAIWritingCommand:n}=xT(),t=(0,c.useCallback)(t=>{let{params:r,onSuccess:o,onError:i}=t;window.navigator.onLine?e.mutate(r,{onSuccess:e=>{if(e.resultCode&&"EXTERNAL_API_FAIL"===e.resultCode){null==i||i();return}n(e.data.generatedText),null==o||o(e)},onError:()=>{null==i||i()}}):null==i||i()},[n,e]);return{generate:t}},xB=(0,ec.cn)(""),xF=(0,ec.cn)({unlimited:!0,remainingRequests:10,limitRequests:10}),xG=(0,ec.cn)(!1),xW=()=>{let[e,n]=(0,ea.KO)(xB),[t,r]=(0,ea.KO)(xF),[o,i]=(0,ea.KO)(xG);return{textPrompt:e,setTextPrompt:n,isQuotaInitialized:o,setIsQuotaInitialized:i,quota:t,setQuota:r}},xH=e=>{let{closePopover:n,setCanCloseOnClickOutside:t}=e,{textPrompt:r,quota:i,setQuota:l,isQuotaInitialized:s,setIsQuotaInitialized:a,setTextPrompt:u}=xW(),{openSignInModal:d}=(0,oc.N)(),{translate:p}=(0,et.$G)(),{designIdx:h}=(0,o1.R)(),{openUpgradePopup:f}=(0,o5.B)(),{generate:x}=xU(),[g,_]=(0,c.useState)(!1),{isLogin:m,currentPlan:E,selectedTeamIdx:I}=(0,$.x)(),T=m&&(0,hu.Vz)(E),[C,v]=(0,c.useState)(!1),{data:w,isFetching:b}=xC(null!=I?I:0,m),R=(0,c.useCallback)(()=>{u(""),n()},[n,u]),j=(0,c.useCallback)(()=>{if(!m){d(o8.X.LOGIN);return}T&&!i.remainingRequests&&f({enterPoint:o3.aS.AI_WRITING,detailPath:o2.E.ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP}),_(!0),t(!1),x({params:{sentence:r,teamIdx:null!=I?I:0},onSuccess:e=>{l(e.data.teamQuota),t(!0),_(!1),R(),B.open({id:"AIWRITING_GENERATE_FEEDBACK",duration:15e3,animationDuration:0,title:p("SHARED.SHARED_219"),content:(0,o.jsx)(xD,{feedbackParams:{userText:r,aiText:e.data.generatedText,action:"generate",teamIdx:null!=I?I:0,designIdx:null!=h?h:0},closePopup:()=>B.close("AIWRITING_GENERATE_FEEDBACK")})})},onError:()=>{t(!0),_(!1),v(!0)}})},[m,T,_,t,x,r,I,d,l,R,p,h,f,i.remainingRequests]);return(0,c.useEffect)(()=>{b||void 0===w||s||(a(!0),l(w.data))},[b,w,l,i,s,a]),{quota:i,isGenerating:g,isError:C,disableGenerateButton:!r.length,onClick:j,closePopover:R,showProBanner:T}},xV=e=>{let{isGenerating:n,showProBanner:t,disableGenerateButton:r,onClick:o,quota:i}=e,{translate:l}=(0,et.$G)(),{openUpgradePopup:s}=(0,o5.B)(),c="".concat(l("EDITOR.EDITOR_604")," ").concat(i.unlimited?"":"(".concat(i.remainingRequests,"/").concat(i.limitRequests,")")),a=()=>{s({enterPoint:o3.aS.AI_WRITING,detailPath:o2.E.ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP})};return{buttonText:c,isGenerating:n,showProBanner:t,disableGenerateButton:r,onClick:o,openAIWritingUpgradePopup:a}};function xz(){let e=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  align-items: center;\n  padding-right: 6px;\n"]);return xz=function(){return e},e}function xK(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]);return xK=function(){return e},e}let xX=(0,Q.RW)(xV,e=>{let{isGenerating:n,showProBanner:t,translate:r,disableGenerateButton:i,onClick:l,buttonText:s,openAIWritingUpgradePopup:c}=e;return(0,o.jsx)(xY,{children:(0,o.jsxs)(xJ,{children:[t&&(0,o.jsx)(f.zx,{leftIcon:"icon_crown_gold",color:"neutralLight",type:"ghost",size:"M",onClick:c,shape:"square",disabled:n,children:r("EDITOR.HEADER_BAR.ACTION.USE_PRO_TRIAL")}),(0,o.jsx)(f.zx,{loading:n,onClick:l,disabled:i,children:s})]})})}),xY=i.ZP.div.withConfig({componentId:"sc-9b676508-0"})(xz()),xJ=i.ZP.div.withConfig({componentId:"sc-9b676508-1"})(xK());var xq=t(41978);function xQ(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  align-self: stretch;\n  margin-bottom: 8px;\n"]);return xQ=function(){return e},e}function x$(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  align-self: stretch;\n  gap: 8px;\n  margin-top: 6px;\n"]);return x$=function(){return e},e}function x0(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n"]);return x0=function(){return e},e}let x1=e=>{let{closePopover:n,isGenerating:t}=e,{translate:r}=(0,et.$G)(),{token:l}=(0,i.Fg)();return(0,o.jsxs)(x4,{children:[(0,o.jsxs)(x2,{children:[(0,o.jsx)(a.J,{iconName:"magic_pen",width:"20",height:"20",color:l.s_color_contents_sub}),(0,o.jsx)(x3,{children:r("EDITOR.EDITOR_533")}),(0,o.jsx)(xq.I,{text:"Beta",type:"fillLight",size:"S",color:"primary"})]}),(0,o.jsx)(nL.h,{iconName:"close",type:"ghost",size:"XS",color:"neutralDeep",shape:"square",onClick:n,disabled:t})]})},x4=i.ZP.div.withConfig({componentId:"sc-dc049b9d-0"})(xQ()),x2=i.ZP.div.withConfig({componentId:"sc-dc049b9d-1"})(x$()),x3=i.ZP.div.withConfig({componentId:"sc-dc049b9d-2"})(x0(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_sub});var x5=t(44771),x8=t(8445);let x7=e=>{let{isGenerating:n,isError:t}=e,{setTextPrompt:r,textPrompt:o}=xW(),{translate:i}=(0,et.$G)(),l=(0,Q.cF)(o,500),[s,a]=(0,c.useState)(-1),[u,d]=(0,c.useState)(""),[p,h]=(0,c.useState)(!1),f=Array.from({length:30},(e,n)=>i("EDITOR.EDITOR_".concat(n+573))),x=!l.length||f.includes(l),g=()=>{s<0?a(()=>(0,ek.xT)({min:0,max:29})):a(e=>29===e?0:e+1),h(!0)};return(0,c.useEffect)(()=>{p&&r(f[s]),n?d("LOADING"):t&&d("ERROR"),h(!1)},[n,t,p,r,f,s]),{setTextPrompt:r,state:u,exampleIndex:s,textPrompt:o,showExampleButton:x,onClickUseExample:g}};function x6(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding-right: 6px;\n"]);return x6=function(){return e},e}function x9(){let e=(0,r.Z)(["\n  height: 16px;\n  margin: 8px 0;\n"]);return x9=function(){return e},e}let ge=(0,Q.RW)(x7,e=>{let{setTextPrompt:n,textPrompt:t,state:r,exampleIndex:i,translate:l,showExampleButton:s,onClickUseExample:c}=e;return(0,o.jsxs)(gn,{children:[(0,o.jsx)(x5.z,{onChangeValue:n,value:t,heightType:"fixed",placeholder:l("EDITOR.EDITOR_536"),state:"LOADING"===r?"disabled":"enabled",children:s?(0,o.jsx)(x5.z.Button,{size:"XXS",type:"fillLight",color:"neutralLight",disabled:"LOADING"===r,onClick:c,children:i<0?l("EDITOR.EDITOR_534"):l("EDITOR.EDITOR_535")}):null}),(0,o.jsx)(gt,{children:(0,es.EQ)(r).with("LOADING",()=>(0,o.jsx)(x8.R,{type:"normal",text:l("EDITOR.EDITOR_605"),size:"S"})).with("ERROR",()=>(0,o.jsx)(x8.R,{type:"error",text:l("EDITOR.REMAIN_175"),size:"S"})).otherwise(()=>(0,o.jsx)(o.Fragment,{}))})]})}),gn=i.ZP.div.withConfig({componentId:"sc-63c7a5da-0"})(x6()),gt=i.ZP.div.withConfig({componentId:"sc-63c7a5da-1"})(x9());function gr(){let e=(0,r.Z)(["\n  display: inline-flex;\n  padding: 12px 12px 20px 20px;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 588px;\n  height: 100%;\n  border-radius: 16px;\n  background: ",";\n  box-shadow: ",";\n  margin-bottom: 8px;\n"]);return gr=function(){return e},e}let go=(0,Q.RW)(xH,e=>{let{isGenerating:n,quota:t,onClick:r,closePopover:i,showProBanner:l,isError:s,disableGenerateButton:c}=e;return(0,o.jsxs)(gi,{children:[(0,o.jsx)(x1,{closePopover:i,isGenerating:n}),(0,o.jsx)(ge,{isGenerating:n,isError:s}),(0,o.jsx)(xX,{isGenerating:n,showProBanner:l,onClick:r,quota:t,disableGenerateButton:c})]})}),gi=i.ZP.div.withConfig({componentId:"sc-db798d3b-0"})(gr(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover});var gl=t(86128);let gs=e=>{var n;let{messageList:t,height:r,maxHeight:o,children:i,conversationId:l,isLimitedReset:s=!1,quotaTextWhenUnlimitedReset:a="",onClickReset:u,onSuccessSendUserFeedback:d}=e,p=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e;0!==t.length&&(null==p||null===(e=p.current)||void 0===e||e.scrollToEnd())},[t.length,null===(n=t.at(-1))||void 0===n?void 0:n.isPending]),{children:i,messageList:t,height:r,maxHeight:o,scrollRef:p,conversationId:l,isLimitedReset:s,quotaTextWhenUnlimitedReset:a,onSuccessSendUserFeedback:d,onClickReset:u}},gc=e=>{var n,t;let{conversationId:r,messageList:o}=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:{};if(!r||!o||0===o.length)return;let i=null!==(t=null==o?void 0:o.map(e=>{let{role:n,content:t}=e;return{content:{role:n,content:t}}}))&&void 0!==t?t:[];return{id:r,messageList:i}},ga=e=>[{content:e.message}],gu=(e,n)=>{let t=n.find(n=>n.messageId===e);return t&&(t.isFeedbackSent=!0),[...n]},gd=e=>{let n=[];return e.forEach(e=>{let[t,r]=e.split("page\n");n.push({page:Number(t),content:r})}),n},gp=["AI_WRITING","AI_DRAWING"],gh=e=>{let{messageList:n,onSuccessSendUserFeedback:t,conversationId:r,quotaTextWhenUnlimitedReset:o,isLimitedReset:i,onClickReset:l}=e,s=n.some(e=>e.isPending),c=e=>{var n;return Boolean(e.content.content&&!((null===(n=e.actionList)||void 0===n?void 0:n.length)===1&&gp.includes(e.actionList[0].type)))};return{messageList:n,onSuccessSendUserFeedback:t,conversationId:r,disableResetButton:s,onClickReset:l,quotaTextWhenUnlimitedReset:o,isLimitedReset:i,showMessageContent:c}},gf=e=>{let{children:n,showShadow:t=!1,isUser:r}=e;return{children:n,showShadow:t,isUser:r}};function gx(){let e=(0,r.Z)(["\n  width: 100%;\n  list-style: none;\n\n  display: flex;\n  flex-direction: column;\n  align-items: ",";\n"]);return gx=function(){return e},e}function gg(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n  padding: ",";\n  gap: 8px;\n  justify-content: flex-end;\n\n  background: ",";\n\n  box-shadow: ",";\n\n  border-radius: ",";\n"]);return gg=function(){return e},e}let g_=(0,Q.RW)(gf,e=>{let{isUser:n,children:t,showShadow:r}=e;return(0,o.jsx)(gm,{alignItemsFlexEnd:n,children:(0,o.jsx)(gE,{isUser:n,showShadow:r,children:t})})},!0),gm=i.ZP.li.withConfig({componentId:"sc-76a9bac9-0"})(gx(),e=>{let{alignItemsFlexEnd:n}=e;return n?"flex-end":"flex-start"}),gE=i.ZP.div.withConfig({componentId:"sc-76a9bac9-1"})(gg(),e=>{let{theme:n}=e;return"".concat(n.token.b_size_static_60," ").concat(n.token.b_size_static_70)},e=>{let{theme:n,isUser:t}=e;return t?n.token.s_color_brand_primary_surface:n.token.s_color_surface_lightness},e=>{let{theme:n,showShadow:t}=e;return t?n.token.b_shadow_10:"none"},e=>{let{theme:n}=e;return n.token.b_size_static_40}),gI=e=>{let{content:n,errorCode:t,onClickReset:r,disableResetButton:o,quotaTextWhenUnlimitedReset:i,isLimitedReset:l}=e,s=l&&un(t);return{contentText:s?"EDITOR.EDITOR_700":n,errorCode:t,disableResetButton:o,onClickReset:r,resetButtonLeftIcon:s?"icon_crown_gold":void 0,quotaTextWhenUnlimitedReset:i,isLimitedReset:l}};function gT(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  align-self: stretch;\n"]);return gT=function(){return e},e}function gC(){let e=(0,r.Z)(["\n  width: max-content;\n"]);return gC=function(){return e},e}function gv(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n  word-break: break-all;\n  word-wrap: break-word;\n"]);return gv=function(){return e},e}let gw=(0,Q.RW)(gI,e=>{let{translate:n,contentText:t,theme:r,errorCode:i,disableResetButton:l,onClickReset:s,resetButtonLeftIcon:c,quotaTextWhenUnlimitedReset:u}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(gb,{children:[ue(i)&&(0,o.jsx)(gR,{children:(0,o.jsx)(a.J,{iconName:"information_circle_filled_2px",color:r.token.s_color_visualization_default_red,width:"20px",height:"20px"})}),(0,o.jsx)(gj,{children:n(t)})]}),un(i)&&(0,o.jsx)(f.zx,{disabled:l,onClick:s,widthType:"fill",size:"M",type:"outlineLight",color:"neutralLight",leftIcon:c,children:n("EDITOR.EDITOR_675",{count:u})})]})}),gb=i.ZP.div.withConfig({componentId:"sc-6590c290-0"})(gT()),gR=i.ZP.div.withConfig({componentId:"sc-6590c290-1"})(gC()),gj=i.ZP.p.withConfig({componentId:"sc-6590c290-2"})(gv(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),gy=e=>(0,o.jsx)(f.zx,{...e,width:"284px",widthType:"fixed",children:e.children}),gO=(0,ec.cn)("AI_ASSISTANT_CHAT_BOT"),gP=()=>(0,ea.Dv)(gO),gk=()=>(0,ea.b9)(gO),gD=e=>{let{actionList:n,messageId:t,content:r}=e,o=gk(),i=(0,tV.tl)(),l=()=>{o("AIWRITING")},s=()=>{i("AIDRAWING")},c=e=>!r||gp.includes(e),a=(e,n)=>(0,es.EQ)(e).with("AI_DRAWING",()=>"EDITOR.EDITOR_706").with("AI_WRITING",()=>"EDITOR.EDITOR_705").with("TEMPLATE_RECOMMENDATION",()=>n?"EDITOR.EDITOR_704":"EDITOR.EDITOR_770").otherwise(()=>"");return{actionList:n,onClickAIWriting:l,onClickAIDrawing:s,messageId:t,showActionTextContent:c,getTextContentByActionTypeAndTemplateList:a}};var gA=t(18650),gS=t(14571);let gL=e=>{let{messageId:n}=e,{toAIChatTemplateSearchWithoutMovingTemplatePanel:t}=(0,aE.s)(),r=(0,tV.tl)(),o=(0,tK.FT)(),i=(0,tX.D)(),l=()=>{r("TEMPLATE"),o(void 0),i(!0),t(n)};return{onClickMoreTemplate:l}},gN=(0,Q.RW)(gL,e=>{let{onClickMoreTemplate:n,translate:t}=e;return(0,o.jsx)(gy,{size:"M",type:"fillLight",color:"neutralLight",onClick:n,children:t("EDITOR.EDITOR_667")})});var gM=t(62810),gZ=t(32649),gU=t(34873);let gB=e=>{var n;let{templateList:t,messageId:r}=e,[o,i]=(0,c.useState)(!0),l=(0,c.useRef)(null),s=(0,Q.XI)(l),a=(0,tV.tl)(),u=(0,tK.FT)(),d=(0,tX.D)(),{isDarkMode:p}=(0,gZ.v)(),h=(0,c.useMemo)(()=>{var e;return null!==(e=null==t?void 0:t.map(e=>({imageProps:{idx:e.idx,thumbnailUrl:e.thumbUrl,width:e.width,height:e.height,alt:e.title,objectFit:"cover"},thumbnailProps:(0,ad.Cc)("TEMPLATE",e)})).slice(0,8))&&void 0!==e?e:[]},[t]),f=(0,c.useMemo)(()=>{var e;return{rowDefaultHeight:gM.tr.masonry.TEMPLATE.rowDefaultHeight,rowMaxHeight:gM.tr.masonry.TEMPLATE.rowMaxHeight,rowMaxWidth:null!==(n=null===(e=l.current)||void 0===e?void 0:e.clientWidth)&&void 0!==n?n:284,rowGap:8,columnGap:8,contentMaxWidth:gM.tr.masonry.TEMPLATE.contentMaxWidth}},[]),x=(0,c.useMemo)(()=>(0,gU.LR)({rawDataList:(0,a_.x)(h),...f,getRatioFromRowData:e=>(0,gU.dO)(e.imageProps.width,e.imageProps.height)}),[h,f]),g=(0,c.useMemo)(()=>x.reduce((e,n)=>e+n.rowHeight+f.rowGap,0)>408,[f.rowGap,x]),_=()=>{i(!1)},{sendActionAIChatbotClickEventWith:m}=uC(),{toTemplateDetailWithoutMovingTemplatePanel:E}=(0,aE.s)(),I=e=>{E(e),a("TEMPLATE"),u(void 0),d(!0)},{onClickTemplateItem:T}=(0,at.c)({setSelectedTemplateData:I,sendTemplateClickEvent:e=>m({templateKey:e.templateIdx,templatePageType:"single"})});return{listOption:f,rows:x,onClickTemplateItem:T,shouldHide:o&&g,onClickMoreFloating:_,messageId:r,containerRef:l,isHover:s,isDarkMode:p}};function gF(){let e=(0,r.Z)(["\n      height: 400px;\n      overflow: hidden;\n    "]);return gF=function(){return e},e}function gG(){let e=(0,r.Z)(["\n  position: relative;\n  ","\n"]);return gG=function(){return e},e}function gW(){let e=(0,r.Z)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 16px;\n\n  background: ",";\n\n  pointer-events: none;\n"]);return gW=function(){return e},e}function gH(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return gH=function(){return e},e}function gV(){let e=(0,r.Z)(["\n  position: absolute;\n  bottom: 8px;\n  left: 50%;\n  transform: translate(-50%, 0);\n\n  font-weight: 500;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return gV=function(){return e},e}let gz=(0,Q.RW)(gB,e=>{let{translate:n,listOption:t,rows:r,onClickTemplateItem:i,shouldHide:l,onClickMoreFloating:s,messageId:c,containerRef:a,isHover:u,isDarkMode:d}=e;return(0,o.jsxs)(gY,{children:[(0,o.jsxs)(gK,{shouldHide:l,ref:a,children:[(0,o.jsx)(gA.S,{rowGap:t.rowGap,columnGap:t.columnGap,rowMaxHeight:t.rowMaxHeight,rows:r,renderRow:e=>e.contents.map(n=>{let{item:t}=n;return(0,o.jsx)(gS.J,{draggable:!1,imageProps:t.imageProps,thumbnailProps:t.thumbnailProps,rowHeight:e.rowHeight,onClickItem:()=>i({key:t.thumbnailProps.key,resourceType:t.thumbnailProps.resourceType,thumbnailType:t.thumbnailProps.thumbnailType,displayType:t.thumbnailProps.resourceInfo.displayType,isPremium:t.thumbnailProps.isPremium,upgradePopupThumbnail:{imageUrl:t.imageProps.thumbnailUrl,videoUrl:t.thumbnailProps.videoUrl},showOnlySearchType:uB._.CHATBOT})},t.thumbnailProps.key)})}),l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(gX,{isDarkMode:d}),u&&(0,o.jsx)(gJ,{children:(0,o.jsx)(f.zx,{color:"primary",size:"S",leftIcon:"chevron_down",onClick:s,type:"outlineLightBackground",widthType:"fill",shape:"round",children:n("EDITOR.EDITOR_115")})})]})]}),Boolean(r.length)&&(0,o.jsx)(gN,{messageId:c})]})}),gK=i.ZP.div.withConfig({componentId:"sc-ae8e0950-0"})(gG(),e=>{let{shouldHide:n}=e;if(n)return(0,i.iv)(gF())}),gX=i.ZP.div.withConfig({componentId:"sc-ae8e0950-1"})(gW(),e=>{let{isDarkMode:n}=e;return"linear-gradient(180deg, ".concat(n?"#3E434B00":"#F0F1F300"," 0%, ").concat(n?"#3E434B":"#F0F1F3"," 100%)")}),gY=i.ZP.div.withConfig({componentId:"sc-ae8e0950-2"})(gH()),gJ=i.ZP.div.withConfig({componentId:"sc-ae8e0950-3"})(gV());function gq(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return gq=function(){return e},e}function gQ(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n  word-break: break-all;\n  word-wrap: break-word;\n"]);return gQ=function(){return e},e}let g$=(0,Q.RW)(gD,e=>{let{translate:n,actionList:t,showActionTextContent:r,messageId:i,onClickAIWriting:l,onClickAIDrawing:s,getTextContentByActionTypeAndTemplateList:a}=e;return(0,o.jsx)(g0,{children:t.map((e,t)=>{let{type:u,templateList:d}=e;return(0,o.jsxs)(c.Fragment,{children:[r(u)&&(0,o.jsx)(g1,{children:n(a(u,!!(null==d?void 0:d.length)))}),(0,es.EQ)(u).with("TEMPLATE_RECOMMENDATION",()=>(0,o.jsx)(gz,{templateList:null!=d?d:[],messageId:i})).with("AI_DRAWING",()=>(0,o.jsx)(gy,{size:"M",type:"outlineLight",color:"neutralLight",onClick:s,children:n("EDITOR.EDITOR_740")})).with("AI_WRITING",()=>(0,o.jsx)(gy,{size:"M",type:"outlineLight",color:"neutralLight",onClick:l,children:n("SHARED.SHARED_230")})).otherwise(()=>(0,o.jsx)(o.Fragment,{}))]},t)})})}),g0=i.ZP.div.withConfig({componentId:"sc-665cb4c8-0"})(gq()),g1=i.ZP.p.withConfig({componentId:"sc-665cb4c8-1"})(gQ(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),g4={HARDER_TO_FIND:"EDITOR.EDITOR_685",TEMPLATE_NOT_FOUND:"EDITOR.EDITOR_686",LIMITED_RECOMMENDATIONS:"EDITOR.EDITOR_687",EASIER_TO_FIND:"EDITOR.EDITOR_688",DESIRED_TEMPLATE:"EDITOR.EDITOR_689",DIVERSE_RECOMMENDATIONS:"EDITOR.EDITOR_690"},g2={GOOD:{title:"EDITOR.EDITOR_672",checkboxType:["DESIRED_TEMPLATE","EASIER_TO_FIND","DIVERSE_RECOMMENDATIONS"]},BAD:{title:"EDITOR.EDITOR_671",checkboxType:["HARDER_TO_FIND","TEMPLATE_NOT_FOUND","LIMITED_RECOMMENDATIONS"]}},g3=e=>{let{textList:n,onClose:t,sendFeedback:r}=e,{checkboxType:o,title:i}=n,[l,s]=(0,c.useState)(""),[a,u]=(0,c.useState)(o.reduce((e,n)=>({...e,[n]:!1}),{})),d=e=>{u(n=>({...n,[e]:!n[e]}))},p=e=>{s(e)},h=l.length>0||Object.values(a).some(e=>e),f=()=>{r({selectedCheckbox:Object.entries(a).filter(e=>{let[,n]=e;return n}).map(e=>{let[n]=e;return n}),message:l})};return{checkboxType:o,title:i,message:l,selectedCheckbox:a,canSendFeedback:h,onClose:t,sendFeedback:r,toggleCheckbox:d,onChangeMessage:p,onClickSendFeedback:f}};function g5(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return g5=function(){return e},e}function g8(){let e=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  height: fit-content;\n  flex-direction: column;\n  align-items: flex-start;\n\n  border-radius: 16px;\n  background: ",";\n  box-shadow: ",";\n"]);return g8=function(){return e},e}function g7(){let e=(0,r.Z)(["\n  display: flex;\n  height: 56px;\n  padding: 12px 12px 12px 20px;\n  align-items: center;\n  gap: 8px;\n  align-self: stretch;\n\n  border-bottom: 1px solid ",";\n"]);return g7=function(){return e},e}function g6(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  flex: 1 0 0;\n\n  overflow: hidden;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  font: ",";\n"]);return g6=function(){return e},e}function g9(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  align-self: stretch;\n  gap: 16px;\n  padding: 20px;\n"]);return g9=function(){return e},e}let _e=(0,Q.RW)(g3,e=>{let{translate:n,title:t,selectedCheckbox:r,message:i,checkboxType:l,canSendFeedback:s,toggleCheckbox:c,onClose:a,onChangeMessage:u,onClickSendFeedback:d}=e;return(0,o.jsxs)(_t,{children:[(0,o.jsxs)(_r,{children:[(0,o.jsx)(_o,{children:n(t)}),(0,o.jsx)(nL.h,{iconName:"close",size:"S",color:"neutralLight",type:"ghost",onClick:a})]}),(0,o.jsxs)(_i,{children:[(0,o.jsx)(_n,{children:l.map(e=>(0,o.jsx)(fn.J,{onChange:()=>c(e),canLabelClick:!0,text:n(g4[e]),state:r[e]?"selected":"unselected"},e))}),(0,o.jsx)(x5.z,{heightType:"fixed",value:i,onChangeValue:u,placeholder:n("EDITOR.EDITOR_673"),height:"80px"}),(0,o.jsx)(f.zx,{size:"M",type:"fill",color:"primary",shape:"square",widthType:"fill",disabled:!s,onClick:d,children:n("EDITOR.EDITOR_691")})]})]})}),_n=i.ZP.div.withConfig({componentId:"sc-42caad39-0"})(g5()),_t=i.ZP.div.withConfig({componentId:"sc-42caad39-1"})(g8(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),_r=i.ZP.div.withConfig({componentId:"sc-42caad39-2"})(g7(),e=>{let{theme:n}=e;return n.token.s_color_divider_default}),_o=i.ZP.div.withConfig({componentId:"sc-42caad39-3"})(g6(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S}),_i=i.ZP.div.withConfig({componentId:"sc-42caad39-4"})(g9()),_l=()=>{let e=(0,ol.Db)(uc.postAIChatFeedback);return{sendAIChatFeedbackMutation:e}},_s=()=>{let{sendAIChatFeedbackMutation:e}=_l(),n=n=>{let{params:t,onSuccess:r,onError:o}=n;e.mutate(t,{onSuccess:e=>{null==r||r(e)},onError:()=>{null==o||o()}})};return{sendAIChatFeedback:n}},_c=()=>{let{sendAIChatFeedback:e}=_s(),n=n=>{let{message:t,evaluation:r,selectedCheckbox:o,conversationId:i,messageId:l,onSuccess:s}=n;e({params:{conversationId:i,evaluation:r,reason:t,responses:o},onSuccess:()=>null==s?void 0:s(l)})};return{sendUserFeedback:n}},_a=e=>{let{messageId:n,conversationId:t,disabled:r,onSuccessSendUserFeedback:o}=e,{value:i,setFalse:l,setTrue:s}=(0,Q.kt)(!1),[a,u]=(0,c.useState)(),d=()=>{u("GOOD"),s()},p=()=>{u("BAD"),s()},h=()=>{u(void 0),l()},{sendUserFeedback:f}=_c(),{openSnackbar:x}=(0,er.D)(),{translate:g}=(0,et.$G)(),_=e=>{let{message:r,selectedCheckbox:i}=e;a&&n&&t&&(null==f||f({messageId:n,conversationId:t,evaluation:a,message:r,selectedCheckbox:i,onSuccess:e=>{null==o||o(e),h(),x({text:g("EDITOR.EDITOR_692"),showIcon:!0,showClose:!1,semantic:"success"})}}))};return{showFeedbackPopover:i,sendUserFeedback:_,selectedThumb:a,closeFeedbackPopover:h,onClickThumbUp:d,onClickThumbDown:p,disabled:r}};function _u(){let e=(0,r.Z)(["\n  position: absolute;\n  bottom: 30px;\n  left: -12px;\n  width: calc(100% + 24px);\n"]);return _u=function(){return e},e}function _d(){let e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  align-self: stretch;\n"]);return _d=function(){return e},e}function _p(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return _p=function(){return e},e}function _h(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  gap: 4px;\n"]);return _h=function(){return e},e}let _f=(0,Q.RW)(_a,e=>{let{selectedThumb:n,showFeedbackPopover:t,disabled:r,translate:i,closeFeedbackPopover:l,onClickThumbUp:s,onClickThumbDown:c,sendUserFeedback:a}=e;return(0,o.jsxs)(_g,{children:[(0,o.jsx)(__,{children:i("EDITOR.EDITOR_695")}),(0,o.jsxs)(_m,{children:[(0,o.jsx)(nL.h,{iconName:"thumb_up",size:"XXS",color:"neutralLight",type:"ghost",selected:"GOOD"===n,onClick:s,disabled:r}),(0,o.jsx)(nL.h,{iconName:"thumb_down",size:"XXS",type:"ghost",color:"neutralLight",selected:"BAD"===n,onClick:c,disabled:r})]}),(0,o.jsx)(_x,{children:t&&n&&(0,o.jsx)(_e,{sendFeedback:a,onClose:l,textList:g2[n]})})]})}),_x=i.ZP.div.withConfig({componentId:"sc-88e94b54-0"})(_u()),_g=i.ZP.div.withConfig({componentId:"sc-88e94b54-1"})(_d()),__=i.ZP.span.withConfig({componentId:"sc-88e94b54-2"})(_p(),e=>{let{theme:n}=e;return n.token.s_color_contents_additional},e=>{let{theme:n}=e;return n.token.s_typography_body_S}),_m=i.ZP.div.withConfig({componentId:"sc-88e94b54-3"})(_h());function _E(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  gap: 4px;\n  padding: 4.5px 0;\n"]);return _E=function(){return e},e}function _I(){let e=(0,r.Z)(["\n  width: 4px;\n  height: 4px;\n  border-radius: 100%;\n  background-color: ",";\n\n  @keyframes pending_bounce {\n    0%,\n    75%,\n    100% {\n      -webkit-transform: translateY(0px);\n      transform: translateY(0px);\n      opacity: 0.5;\n    }\n    25% {\n      -webkit-transform: translateY(-4px);\n      transform: translateY(-4px);\n      opacity: 1;\n    }\n  }\n\n  &:nth-child(1) {\n    -webkit-animation: pending_bounce 1s ease-in-out infinite;\n    animation: pending_bounce 1s ease-in-out infinite;\n  }\n\n  &:nth-child(2) {\n    -webkit-animation: pending_bounce 1s ease-in-out 0.2s infinite;\n    animation: pending_bounce 1s ease-in-out 0.2s infinite;\n  }\n\n  &:nth-child(3) {\n    -webkit-animation: pending_bounce 1s ease-in-out 0.4s infinite;\n    animation: pending_bounce 1s ease-in-out 0.4s infinite;\n  }\n"]);return _I=function(){return e},e}let _T=()=>(0,o.jsxs)(_C,{role:"alert","aria-busy":!0,children:[(0,o.jsx)(_v,{}),(0,o.jsx)(_v,{}),(0,o.jsx)(_v,{})]}),_C=i.ZP.div.withConfig({componentId:"sc-d40fd42f-0"})(_E()),_v=i.ZP.span.withConfig({componentId:"sc-d40fd42f-1"})(_I(),e=>{let{theme:n}=e;return n.token.s_color_surface_dark});function _w(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n  word-break: break-all;\n  word-wrap: break-word;\n"]);return _w=function(){return e},e}function _b(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  align-self: stretch;\n"]);return _b=function(){return e},e}let _R=(0,Q.RW)(gh,e=>{let{messageList:n,onSuccessSendUserFeedback:t,onClickReset:r,translate:i,showMessageContent:l,theme:s,conversationId:c,disableResetButton:u,quotaTextWhenUnlimitedReset:d,isLimitedReset:p}=e;return(0,o.jsx)(o.Fragment,{children:n.map((e,h)=>{var f;return(0,o.jsx)(g_,{isUser:a5(e.content.role),children:e.isPending?(0,o.jsx)(_T,{}):e.error?(0,o.jsx)(gw,{onClickReset:r,disableResetButton:u,quotaTextWhenUnlimitedReset:d,isLimitedReset:p,content:e.content.content,errorCode:e.error.code}):uo(e)?(0,o.jsxs)(_y,{children:[(0,o.jsx)(a.J,{iconName:"warning_circle_filled",color:s.token.s_color_contents_weak,width:"20px",height:"20px"}),(0,o.jsx)(_j,{children:i("EDITOR.EDITOR_703")})]}):(0,o.jsxs)(o.Fragment,{children:[l(e)&&(0,o.jsx)(_j,{children:e.content.content}),!!(null==e?void 0:null===(f=e.actionList)||void 0===f?void 0:f.length)&&e.messageId&&(0,o.jsx)(g$,{content:e.content.content,actionList:null==e?void 0:e.actionList,messageId:e.messageId}),a7(e.content.role,null==e?void 0:e.actionList)&&(0,o.jsx)(_f,{messageId:e.messageId,disabled:e.isFeedbackSent||!a6({targetKey:"TEMPLATE_RECOMMENDATION",messageList:n,targetIndex:h}),conversationId:c,onSuccessSendUserFeedback:t})]})},h)})})}),_j=i.ZP.p.withConfig({componentId:"sc-480e627-0"})(_w(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),_y=i.ZP.div.withConfig({componentId:"sc-480e627-1"})(_b());function _O(){let e=(0,r.Z)([""]);return _O=function(){return e},e}function _P(){let e=(0,r.Z)(["\n  height: ",";\n"]);return _P=function(){return e},e}function _k(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n\n  padding: 20px 20px 20px 0;\n"]);return _k=function(){return e},e}let _D=(0,Q.RW)(gs,e=>{let{maxHeight:n,height:t,messageList:r,scrollRef:i,children:l,conversationId:s,isLimitedReset:c,quotaTextWhenUnlimitedReset:a,onSuccessSendUserFeedback:u,onClickReset:d}=e;return(0,o.jsx)(_A,{children:(0,o.jsx)(gl.p,{ref:i,style:{maxHeight:n},children:(0,o.jsx)(_S,{height:t,children:(0,o.jsxs)(_L,{children:[l,(0,o.jsx)(_R,{messageList:r,onSuccessSendUserFeedback:u,conversationId:s,onClickReset:d,isLimitedReset:c,quotaTextWhenUnlimitedReset:a})]})})})})},!0),_A=i.ZP.div.withConfig({componentId:"sc-1c0cf3a6-0"})(_O()),_S=i.ZP.div.withConfig({componentId:"sc-1c0cf3a6-1"})(_P(),e=>{let{height:n}=e;return n}),_L=i.ZP.ul.withConfig({componentId:"sc-1c0cf3a6-2"})(_k()),_N=e=>{let{remainingQuestionCount:n,limitQuestionCount:t}=e;return{remainingQuestionCount:n,limitQuestionCount:t}};function _M(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: end;\n  align-items: center;\n"]);return _M=function(){return e},e}let _Z=(0,Q.RW)(_N,e=>{let{translate:n,remainingQuestionCount:t,limitQuestionCount:r}=e;return(0,o.jsx)(_U,{children:(0,o.jsx)(rl._,{hierarchy:"lightThick",size:"M",textOverflow:"newLine",text:"".concat(n("EDITOR.EDITOR_694",{count:"".concat(t,"/").concat(r)}))})})}),_U=i.ZP.div.withConfig({componentId:"sc-f5ab8656-0"})(_M()),_B=e=>{let{leftIcon:n,children:t,onClickCloseIcon:r}=e;return{leftIcon:n,children:t,onClickCloseIcon:r}};function _F(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n  padding: 12px;\n  border-bottom: 1px solid ",";\n"]);return _F=function(){return e},e}let _G=(0,Q.RW)(_B,e=>{let{leftIcon:n,onClickCloseIcon:t,children:r}=e;return(0,o.jsxs)(_W,{children:[n,r,(0,o.jsx)(xq.I,{text:"Beta",type:"fillLight"}),(0,o.jsx)(nL.h,{iconName:"close",size:"S",onMouseDown:t,type:"ghost",color:"neutralDeep"})]})},!0),_W=i.ZP.header.withConfig({componentId:"sc-53ed7b42-0"})(_F(),e=>{let{theme:n}=e;return n.token.s_color_divider_default});var _H=t(14174);let _V=e=>{let{inputValue:n,disableResetButton:t,canSendMessage:r,placeholder:o,maxCount:i,inputDisabled:l=!1,onChangeInputValue:s,onClickReset:a,onClickSendMessage:u,inputRef:d,widthType:p,width:h,heightType:f,height:x,buttonStyle:g,characterCount:_,onChangeHeight:m}=e,E=(0,c.useRef)(null),I=(0,Q.XI)(E),T=(0,c.useMemo)(()=>!r,[r]),C=()=>{n&&(u(n),s(""))},v=e=>{!e.shiftKey&&"Enter"===e.key&&n&&(e.preventDefault(),C())};return{inputValue:n,resetDisabled:t,sendButtonDisabled:T,placeholder:o,maxCount:i,inputDisabled:l,onChangeInputValue:s,onClickReset:a,onClickSendMessage:C,onKeyDown:v,widthType:p,width:h,heightType:f,height:x,buttonStyle:g,characterCount:_,inputRef:d,resetWrapperRef:E,showTooltip:I&&!t,onChangeHeight:m}};function _z(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 8px;\n  align-items: end;\n"]);return _z=function(){return e},e}function _K(){let e=(0,r.Z)(["\n  position: relative;\n"]);return _K=function(){return e},e}function _X(){let e=(0,r.Z)(["\n  position: absolute;\n  bottom: 48px;\n  z-index: ",";\n\n  span {\n    &::after {\n      left: 15px;\n    }\n  }\n"]);return _X=function(){return e},e}let _Y=(0,Q.RW)(_V,e=>{let{inputValue:n,resetDisabled:t,sendButtonDisabled:r,placeholder:i,maxCount:l,inputDisabled:s,onChangeInputValue:c,onClickReset:a,onClickSendMessage:u,onKeyDown:d,translate:p,inputRef:h,resetWrapperRef:f,showTooltip:x,widthType:g,width:_,heightType:m,height:E,buttonStyle:I,characterCount:T,onChangeHeight:C}=e;return(0,o.jsxs)(_J,{children:[(0,o.jsxs)(_q,{ref:f,children:[x&&(0,o.jsx)(_Q,{children:(0,o.jsx)(xs._,{type:"oneLine",position:"topStart",color:"neutral",size:"M",textAlign:"left",isShow:!0,subText:p("EDITOR.EDITOR_702"),widthType:"auto"})}),(0,o.jsx)(nL.h,{iconName:"comment_new",size:"M",type:"fillLight",color:"neutralLight",disabled:t,onClick:a})]}),(0,o.jsx)(_H.z,{onHeightChange:C,value:n,onChangeValue:c,placeholder:i,onKeyDown:d,characterCount:T,widthType:g,ref:h,width:_,heightType:m,height:E,state:s?"disabled":"enabled",maxCount:l,button:(0,o.jsx)(_H.z.Button,{style:I,width:"24px",widthType:"fixed",size:"XXS","aria-label":"send",type:"ghost",color:"primary",rightIcon:"send_filled",onClick:u,disabled:r})})]})},!0),_J=i.ZP.div.withConfig({componentId:"sc-9c155640-0"})(_z()),_q=i.ZP.div.withConfig({componentId:"sc-9c155640-1"})(_K()),_Q=i.ZP.div.withConfig({componentId:"sc-9c155640-2"})(_X(),e=>{let{theme:n}=e;return n.zIndex.TOOLTIP_CONTAINER}),_$=e=>{let{children:n}=e;return(0,o.jsx)(o.Fragment,{children:n})};_$.Header=_G,_$.Body=_D,_$.Input=_Y,_$.QuestionLimitationInfo=_Z;let _0=(e,n)=>e-20-n,_1=e=>{let{closePopover:n,onClickAIWriting:t,onClickStartChat:r,anchorPointY:o}=e,i=tq(),l=_0(i,o)-57;return{closePopover:n,onClickAIWriting:t,onClickStartChat:r,bodyMaxHeight:l}};var _4=t(37882);let _2=e=>{let{onClickStartChat:n,onClickAIWriting:t,closePopover:r}=e,{userName:o,isLogin:i}=(0,$.x)(),{sendClickEventWithAIDesignAssistantPopupAIDrawingButton:l}=xI(),s=(0,tV.tl)(),{currentTemplateType:c}=(0,_4.L)(),{designIdx:a}=(0,o1.R)(),{currentLanguage:u}=(0,e6.U)(),d=()=>{s("AIDRAWING"),l(),r()},p=e=>{(0,es.EQ)(e).with("AI_DRAWING",d).with("AI_WRITING",t)},h=e=>(0,es.EQ)(e).with("TEMPLATE_RECOMMENDATION_CHAT_BOT",()=>!0).with("CONTENT_FEEDBACK_CHAT_BOT",()=>(null==c?void 0:c.id)==="presentation"&&a&&("ko"===u||"en"===u||"ja"===u)).otherwise(()=>!0);return{isLogin:i,userName:o,onClickButton:p,onClickStartChat:n,canShowAIChatButton:h}};function _3(){let e=(0,r.Z)(["\n  width: fit-content;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n"]);return _3=function(){return e},e}function _5(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return _5=function(){return e},e}function _8(){let e=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 8px;\n"]);return _8=function(){return e},e}let _7=[{feature:"AI_WRITING",icon:"magic_pen",title:"EDITOR.EDITOR_663"},{feature:"AI_DRAWING",icon:"brush",title:"EDITOR.EDITOR_662"}],_6=[{feature:"TEMPLATE_RECOMMENDATION_CHAT_BOT",title:"EDITOR.EDITOR_659"},{feature:"CONTENT_FEEDBACK_CHAT_BOT",title:"EDITOR.EDITOR_749"}],_9=(0,Q.RW)(_2,e=>{let{translate:n,userName:t,isLogin:r,onClickButton:i,onClickStartChat:l,canShowAIChatButton:s}=e;return(0,o.jsxs)(me,{children:[(0,o.jsxs)(g_,{isUser:!1,children:[(0,o.jsx)(mn,{children:n(r?"EDITOR.EDITOR_658":"EDITOR.EDITOR_657",{username:t})}),_7.map(e=>{let{feature:t,icon:r,title:l}=e;return(0,o.jsx)(gy,{leftIcon:r,size:"M",type:"outlineLightBackground",color:"neutralDeep",onClick:()=>i(t),children:n(l)},l)})]}),(0,o.jsx)(mt,{children:_6.map(e=>{let{feature:t,title:r}=e;return s(t)?(0,o.jsx)(f.zx,{size:"M",type:"outlineLight",color:"neutralDeep",shape:"round",onClick:()=>l(t),children:n(r)},r):(0,o.jsx)(o.Fragment,{})})})]})}),me=i.ZP.div.withConfig({componentId:"sc-cb35b8f9-0"})(_3()),mn=i.ZP.p.withConfig({componentId:"sc-cb35b8f9-1"})(_5(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),mt=i.ZP.div.withConfig({componentId:"sc-cb35b8f9-2"})(_8());function mr(){let e=(0,r.Z)(["\n  width: ","px;\n  border-radius: 16px;\n\n  background: ",";\n  box-shadow: ",";\n  position: relative;\n"]);return mr=function(){return e},e}function mo(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding-left: 20px;\n  position: relative;\n"]);return mo=function(){return e},e}function mi(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n  margin-right: auto;\n"]);return mi=function(){return e},e}let ml=(0,Q.RW)(_1,e=>{let{theme:n,closePopover:t,onClickAIWriting:r,onClickStartChat:i,translate:l,bodyMaxHeight:s}=e;return(0,o.jsxs)(ms,{children:[(0,o.jsx)(_$.Header,{leftIcon:(0,o.jsx)(a.J,{iconName:"ai_tools",width:"24px",height:"24px",color:n.token.s_color_contents_default}),onClickCloseIcon:t,children:(0,o.jsx)(ma,{children:l("EDITOR.EDITOR_635")})}),(0,o.jsx)(mc,{children:(0,o.jsx)(_$.Body,{maxHeight:"".concat(s,"px"),height:"433px",messageList:[],children:(0,o.jsx)(_9,{onClickStartChat:i,closePopover:t,onClickAIWriting:r})})})]})}),ms=i.ZP.div.withConfig({componentId:"sc-e966e54f-0"})(mr(),360,e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),mc=i.ZP.div.withConfig({componentId:"sc-e966e54f-1"})(mo()),ma=i.ZP.h2.withConfig({componentId:"sc-e966e54f-2"})(mi(),e=>{let{theme:n}=e;return n.token.s_typography_title_S},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),mu=e=>{var n;let{maxHeight:t,height:r,messageList:o,onClickSend:i,onSuccessSendUserFeedback:l,onClickReset:s}=e,a=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e;0!==o.length&&(null==a||null===(e=a.current)||void 0===e||e.scrollToEnd())},[o.length,null===(n=o.at(-1))||void 0===n?void 0:n.isPending]),{maxHeight:t,height:r,messageList:o,scrollRef:a,onClickSend:i,onSuccessSendUserFeedback:l,onClickReset:s}},md=e=>{let{messageList:n,onClickSend:t,onSuccessSendUserFeedback:r,onClickReset:o}=e;return{messageList:n,onClickSend:t,onSuccessSendUserFeedback:r,onClickReset:o}};function mp(){let e=(0,r.Z)(["\n  width: 100%;\n  list-style: none;\n\n  display: flex;\n  flex-direction: column;\n  align-items: ",";\n"]);return mp=function(){return e},e}function mh(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n  padding: ",";\n  gap: 8px;\n  justify-content: flex-end;\n\n  background: ",";\n\n  border-radius: ",";\n"]);return mh=function(){return e},e}let mf=e=>{let{isUser:n,children:t}=e;return(0,o.jsx)(mx,{alignItemsFlexEnd:n,children:(0,o.jsx)(mg,{isUser:n,children:t})})},mx=i.ZP.li.withConfig({componentId:"sc-9f8132ea-0"})(mp(),e=>{let{alignItemsFlexEnd:n}=e;return n?"flex-end":"flex-start"}),mg=i.ZP.div.withConfig({componentId:"sc-9f8132ea-1"})(mh(),e=>{let{theme:n,isUser:t}=e;return t?0:"".concat(n.token.b_size_static_60," ").concat(n.token.b_size_static_70)},e=>{let{theme:n,isUser:t}=e;return t?n.token.s_color_background_default:n.token.s_color_surface_lightness},e=>{let{theme:n}=e;return n.token.b_size_static_40}),m_=()=>{let e=(0,ol.Db)(uc.postAIFeedbackPresentationEvaluation);return{sendAIFeedbackPresentationEvaluationMutation:e}},mm=()=>{let{sendAIFeedbackPresentationEvaluationMutation:e}=m_(),n=n=>{let{params:t,onSuccess:r,onError:o}=n;e.mutate(t,{onSuccess:e=>{null==r||r(e)},onError:()=>{null==o||o()}})};return{sendAIFeedbackPresentationEvaluation:n}},mE=()=>{let{sendAIFeedbackPresentationEvaluation:e}=mm(),n=n=>{let{messageId:t,evaluation:r,onSuccess:o}=n;e({params:{feedbackId:t,evaluation:r},onSuccess:()=>null==o?void 0:o(t)})};return{sendUserEvaluation:n}},mI=e=>{let{messageId:n,disabled:t,onSuccessSendUserEvaluation:r}=e,[o,i]=(0,c.useState)(),{sendUserEvaluation:l}=mE(),{openSnackbar:s}=(0,er.D)(),{translate:a}=(0,et.$G)(),u=(0,c.useCallback)(e=>{o!==e&&n&&(i(e),null==l||l({messageId:n,evaluation:e,onSuccess:e=>{null==r||r(e),s({text:a("EDITOR.EDITOR_692"),showIcon:!0,showClose:!1,semantic:"success"})}}))},[o,n,l,r,s,a]),d=(0,c.useCallback)(()=>{t||u("GOOD")},[t,u]),p=(0,c.useCallback)(()=>{t||u("BAD")},[t,u]);return{selectedThumb:o,onClickThumbUp:d,onClickThumbDown:p,disabled:t}};function mT(){let e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  align-self: stretch;\n"]);return mT=function(){return e},e}function mC(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return mC=function(){return e},e}function mv(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  gap: 4px;\n"]);return mv=function(){return e},e}let mw=(0,Q.RW)(mI,e=>{let{selectedThumb:n,disabled:t,translate:r,onClickThumbUp:i,onClickThumbDown:l}=e;return(0,o.jsxs)(mb,{children:[(0,o.jsx)(mR,{children:r("EDITOR.EDITOR_695")}),(0,o.jsxs)(mj,{children:[(0,o.jsx)(nL.h,{iconName:"GOOD"===n?"thumb_up_filled":"thumb_up",size:"XXS",color:"neutralLight",type:"ghost",selected:"GOOD"===n,onClick:i,disabled:t}),(0,o.jsx)(nL.h,{iconName:"BAD"===n?"thumb_down_filled":"thumb_down",size:"XXS",type:"ghost",color:"neutralLight",selected:"BAD"===n,onClick:l,disabled:t})]})]})}),mb=i.ZP.div.withConfig({componentId:"sc-67bb3739-0"})(mT()),mR=i.ZP.span.withConfig({componentId:"sc-67bb3739-1"})(mC(),e=>{let{theme:n}=e;return n.token.s_color_contents_additional},e=>{let{theme:n}=e;return n.token.s_typography_body_S}),mj=i.ZP.div.withConfig({componentId:"sc-67bb3739-2"})(mv());function my(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n"]);return my=function(){return e},e}function mO(){let e=(0,r.Z)(["\n  padding: 10px 16px;\n  border-radius: ",";\n  background: ",";\n  color: ",";\n  font: ",";\n  word-break: break-all;\n  word-wrap: break-word;\n"]);return mO=function(){return e},e}function mP(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  align-self: stretch;\n"]);return mP=function(){return e},e}let mk=(0,Q.RW)(md,e=>{var n,t;let{messageList:r,onClickSend:i,onSuccessSendUserFeedback:l,onClickReset:s,translate:c,theme:u}=e;return(0,o.jsxs)(o.Fragment,{children:[r.map((e,n)=>(0,o.jsx)(mf,{isUser:a5(e.content.role),children:e.isPending?(0,o.jsx)(_T,{}):e.error?(0,o.jsx)(gw,{onClickReset:s,disableResetButton:!1,quotaTextWhenUnlimitedReset:"",isLimitedReset:!1,content:e.content.content,errorCode:e.error.code}):uo(e)?(0,o.jsxs)(mS,{children:[(0,o.jsx)(a.J,{iconName:"warning_circle_filled",color:u.token.s_color_contents_weak,width:"20px",height:"20px"}),(0,o.jsx)(mD,{children:c("EDITOR.EDITOR_703")})]}):(0,o.jsxs)(o.Fragment,{children:[e.content.content&&a5(e.content.role)?(0,o.jsx)(mA,{children:e.content.content}):(0,o.jsx)(mD,{children:e.content.content}),a8(e.content.role)&&(0,o.jsx)(mw,{messageId:e.messageId,disabled:Boolean(e.isFeedbackSent),onSuccessSendUserEvaluation:l})]})},n)),a8(null===(n=r[r.length-1])||void 0===n?void 0:n.content.role)&&!(null===(t=r[r.length-1])||void 0===t?void 0:t.isPending)&&(0,o.jsx)(mf,{isUser:!0,children:(0,o.jsx)(f.zx,{size:"M",type:"outlineLightBackground",color:"neutralLight",shape:"square",onClick:()=>i(c("EDITOR.EDITOR_751")),children:c("EDITOR.EDITOR_751")})})]})}),mD=i.ZP.p.withConfig({componentId:"sc-1199d56b-0"})(my(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),mA=i.ZP.div.withConfig({componentId:"sc-1199d56b-1"})(mO(),e=>{let{theme:n}=e;return n.token.b_size_static_40},e=>{let{theme:n}=e;return n.token.s_color_brand_primary_surface},e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),mS=i.ZP.div.withConfig({componentId:"sc-1199d56b-2"})(mP());function mL(){let e=(0,r.Z)([""]);return mL=function(){return e},e}function mN(){let e=(0,r.Z)(["\n  height: ",";\n"]);return mN=function(){return e},e}function mM(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n\n  padding: 20px 20px 20px 0;\n"]);return mM=function(){return e},e}let mZ=(0,Q.RW)(mu,e=>{let{maxHeight:n,height:t,messageList:r,scrollRef:i,onClickSend:l,onSuccessSendUserFeedback:s,onClickReset:c}=e;return(0,o.jsx)(mU,{children:(0,o.jsx)(gl.p,{ref:i,style:{maxHeight:n},children:(0,o.jsx)(mB,{height:t,children:(0,o.jsx)(mF,{children:(0,o.jsx)(mk,{messageList:r,onClickSend:l,onSuccessSendUserFeedback:s,onClickReset:c})})})})})},!0),mU=i.ZP.div.withConfig({componentId:"sc-d2addee6-0"})(mL()),mB=i.ZP.div.withConfig({componentId:"sc-d2addee6-1"})(mN(),e=>{let{height:n}=e;return n}),mF=i.ZP.ul.withConfig({componentId:"sc-d2addee6-2"})(mM());var mG=t(14033);let mW=()=>{let e=(0,ol.Db)(uc.postAIFeedbackPresentation);return{sendAIFeedbackPresentationMutation:e}},mH=()=>{let{sendAIFeedbackPresentationMutation:e}=mW(),n=n=>{let{params:t,onStart:r,onSuccess:o,onError:i,onSettled:l}=n;e.isLoading||(null==r||r(),e.mutate(t,{onSuccess:e=>{null==o||o(e)},onError:e=>{null==i||i(e)},onSettled:l}))};return{sendAIFeedbackMutation:n,isLoading:e.isLoading}},mV=(0,ec.cn)([]),mz=(0,ec.cn)(void 0),mK=()=>{let[e,n]=(0,ea.KO)(mV),[t,r]=(0,ea.KO)(mz);return{contentFeedbackMessageList:e,setContentFeedbackMessageList:n,contentFeedbackConversationId:t,setContentFeedbackConversationId:r}},mX=()=>{let e=(0,ea.b9)(mV),n=(0,ea.b9)(mz);return{setContentFeedbackMessageList:e,setContentFeedbackConversationId:n}},mY=()=>{let{publish:e}=(0,on.j)(),{currentLanguage:n}=(0,e6.U)(),{designIdx:t}=(0,o1.R)(),{contentFeedbackMessageList:r,setContentFeedbackMessageList:o}=mK(),{sendAIFeedbackMutation:i,isLoading:l}=mH(),s=e=>{let n=[{content:{role:"USER",content:e}}],t=(0,cO.yD)(r)?void 0:r[r.length-1].content;((0,cO.yD)(r)||(null==t?void 0:t.role)!==n[0].content.role||(null==t?void 0:t.content)!==n[0].content.content)&&o(e=>[...e,...n])},c=e=>{let n=[{content:{role:"ASSISTANT",content:e.data.content},messageId:e.data.feedbackId}];o(e=>[...e,...n])},a=()=>{o(e=>[...e,ul("UNKNOWN_ERROR")])},u=async r=>{e("COMMAND_GET_TEXT_FROM_PAGES",{pageNumberList:[],separator:"|",except:["\n"],responseFormat:"split"},{onComplete:e=>{let{textList:o}=e;i({params:{prompt:gd(o),language:n,designId:Number(t)},onStart:()=>s(r),onSuccess:c,onError:a})},onError:()=>{o(e=>[...e,ul("UNKNOWN_ERROR")])}})};return{appendMessage:u,pendingMessage:l?{content:{role:"ASSISTANT",content:""},isPending:!0}:void 0}},mJ=()=>{let{setContentFeedbackMessageList:e,setContentFeedbackConversationId:n}=mX(),t=()=>{n(void 0),e([])};return{resetContentFeedbackConversation:t}};var mq=t(38017);let mQ=e=>{let{closePopover:n,onClickPrev:t,anchorPointY:r}=e,{translate:o}=(0,et.$G)(),{resetContentFeedbackConversation:i}=mJ(),{contentFeedbackMessageList:l,setContentFeedbackMessageList:s}=mK(),{withLoginAction:c}=(0,mG.O)(),{appendMessage:a,pendingMessage:u}=mY(),d=c(e=>{u||a(e)}),p=e=>{s(n=>gu(e,n))},h=tq(),f=_0(h,r)-57,x=()=>{i(),a(o("EDITOR.EDITOR_749"))};return(0,mq.q)(()=>{let e=(0,cO.yD)(l),n=e?void 0:l[l.length-1].content;if(e||(null==n?void 0:n.role)==="USER"){let t=e?o("EDITOR.EDITOR_749"):(null==n?void 0:n.content)||"";a(t)}}),{onClickPrev:t,onClickSend:d,onClickReset:x,closePopover:n,bodyMaxHeight:f,messageList:[...l,u].filter(e=>!!e),updateMessageListFeedbackState:p}};function m$(){let e=(0,r.Z)(["\n  width: ","px;\n  border-radius: 16px;\n\n  border-radius: 16px;\n  background: ",";\n  box-shadow: ",";\n"]);return m$=function(){return e},e}function m0(){let e=(0,r.Z)(["\n  height: ","px;\n"]);return m0=function(){return e},e}function m1(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 4px 0 20px;\n  position: relative;\n"]);return m1=function(){return e},e}function m4(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n  margin-right: auto;\n"]);return m4=function(){return e},e}let m2=(0,Q.RW)(mQ,e=>{let{translate:n,onClickPrev:t,onClickSend:r,onClickReset:i,closePopover:l,bodyMaxHeight:s,messageList:c,updateMessageListFeedbackState:a}=e;return(0,o.jsx)(m3,{children:(0,o.jsxs)(_$,{children:[(0,o.jsx)(m5,{children:(0,o.jsx)(_$.Header,{leftIcon:(0,o.jsx)(nL.h,{iconName:"chevron_left",size:"S",shape:"square",type:"ghost",color:"neutralDeep",onMouseDown:t}),onClickCloseIcon:l,children:(0,o.jsx)(m7,{children:n("EDITOR.EDITOR_750")})})}),(0,o.jsx)(m8,{children:(0,o.jsx)(mZ,{maxHeight:"".concat(s,"px"),height:"fit-content",messageList:c,onClickSend:r,onSuccessSendUserFeedback:a,onClickReset:i})})]})})}),m3=i.ZP.div.withConfig({componentId:"sc-ad55f7ee-0"})(m$(),360,e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),m5=i.ZP.div.withConfig({componentId:"sc-ad55f7ee-1"})(m0(),57),m8=i.ZP.div.withConfig({componentId:"sc-ad55f7ee-2"})(m1()),m7=i.ZP.h2.withConfig({componentId:"sc-ad55f7ee-3"})(m4(),e=>{let{theme:n}=e;return n.token.s_typography_title_S},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),m6={BEIGE_TEMPLATE:"EDITOR.EDITOR_681",CHERRY_BLOSSOM:"EDITOR.EDITOR_682",SIMPLE_BUSINESS_CARD:"EDITOR.EDITOR_683",COLORFUL_POSTERS:"EDITOR.EDITOR_758",CAFE_JAZZ_YOUTUBE_THUMBNAILS:"EDITOR.EDITOR_759"},m9={BEIGE_TEMPLATE:{ko:[453314,450628,473216,121557,474053,381536,63568,57985,162427,76872,72744,473865,64056,25542,201897,121659,42832,42821,503190,475451,476234,64876,28954,60617,474439,122273,41256,153502,452903,451250,474635,474676,123019,471333,347853,121563,450083,43010,70392,76378,473215,450225,471433,475389,475816,54843,473135,474785,54197,503560,472978,475007,450122,474052,55069,475895,42346,250109,474584,41262,471449,63544,59077,443807,62417,474406,42970,73516,473821,471667,69532,153707,378503,408108,123920,42725,75118,43195,504265,74238,30142,208587,450745,452562,42347,57838,53222,161462,376618,122462,473302,472130,472194,184809,150855,476097,472880,28953,63383,400879],en:[109569,504748,69257,470962,504741,118799,112343,108133,66993,442097,473635,505377,504493,461241,469970,109513],ja:[485597,427695,489611,121695,487350,439552,171099,499404,168831,488893,162555,125460,443888,428041,140860,488231,140856,497227,501273,74043,74018,74248,491580,431350,122324,492754,492889,446359,476449,121986,123732,170849,485595,476703,497039,499235,74246,485040,493609,154297,484137,494606,478906,473318,489609,121774,499587,122053,445424,492379,74020,476711,72876,158244,449053,140987,169208,491392,488704,477634,74313,437843,446611,448125,75158,170188,434533,123752,129824,73032,157281,150410,438873,487349,485862,446491,432399,479842,480154,442261,436661,500918,473323,483533,73779,161993,447444,493240,438489,171777,74643,169221,140992,122321,493822,123707,162907,446183,166262,489075],fr:[354385,504748,373248,470816,504741,413229,370243,345951,372409,442078,509722,505377,527703,461167,469855,354112],es:[354344,504748,373228,470786,504741,413174,370210,345911,372391,442074,487399,505377,527938,461152,469833,354066],it:[354426,504748,373271,470848,504741,413288,370263,345997,372426,442081,487600,505377,527844,461182,469876,354152],de:[354467,504748,373293,470871,504741,413347,370286,346036,372444,442086,487495,505377,527750,461196,469899,354188],nl:[354508,504748,373316,470909,504741,413407,370312,346077,372463,442090,487549,505377,527797,461211,469925,354242],pt:[354549,504748,373337,470943,504741,413465,370336,346123,372481,442094,487449,505377,527891,461226,469945,354296]},CHERRY_BLOSSOM:{ko:[59544,59555,69284,59649,26536,474706,503588,503816,503121,123020,122826,503757,503817,69033,122802,473184,60669,504290,65149,153632,62601,452593,69285,504241,474957,122938,475823,475909,473458,475113,474959,503608,149258,503602,473266,123642,62363,503811,475096,475901,504902,473301,64978,472702,475198,503741,53692,475826,474732,474810,450269,60729,39233,38119,60211,504379,451844,450041,472703,122800,123839,57287,190467,60796,475790,476036,447652,473007,154133,475902,473207,123333,63924,473919,475628,475721,472903,44782,504360,452945,450052,475898,161800,210741,475852,474705,473907,210142,71080,50775,504228,474520,59189,474466,473397,123320,122116,473303,504628,472213],en:[],ja:[158658,158666,126427,493035,165949,485337,159637,437593,161312,166085,494199,499231,499755,486773,494201,436290,161107,495112,499588,163249,495688,153967,499234,493226,493801,159684,137791,137429,482926,442639,159748,500520,449448,438176,499746,489248,498206,498712,142667,439057,444680,499399,493029,489076,167522,492101,158349,491768,486448,430780,480447,163061,488880,495110,166195,479219,161471,436937,165077,139995,449354,483521,485037,495482,129486,486447,448266,492570,495480,435023,171402,160259,501090,155678,159314,499952,490507,158432,148303,501814,137281,123067,428596,482629,495308,159394,160682,158521,477302,490844,494003,159211,163066,498557,443356,163060,171381,493807,157415,477304],fr:[],es:[],it:[],de:[],nl:[],pt:[]},SIMPLE_BUSINESS_CARD:{ko:[72263,72262,43323,50326,55226,45098,72320,53589,122332,72270,72268,55146,50324,45235,72315,55218,41964,72318,49510,58960,44426,41595,55313,49633,50040,45473,49608,52852,55319,72293,49406,52123,52124,72322,43133,44625,53771,53430,55311,72267,51988,50039,53768,52533,41773,41516,122333,122330,44427,45089,71897,49213,41521,55220,55310,55214,53434,57577,55312,122331,53432,66826,55309,53611,25221,43442,53128,31194],en:[],ja:[168480,168479,141295,147821,155104,73268,168525,150786,431817,168487,168485,73249,147819,143104,168520,155101,140054,168523,147104,158137,73269,139724,155183,147210,147565,147186,150084,155186,168507,147021,149400,149401,168527,141127,142522,154039,150611,155182,168484,149271,147564,154035,149791,139885,139654,431829,431844,142342,142956,168170,146868,139658,73209,155181,73304,150616,157081,73319,431798,150613,164785,155180,141397,150325,130827],fr:[],es:[],it:[],de:[],nl:[],pt:[]},COLORFUL_POSTERS:{ko:[],en:[504549,504545,507026,507034,507035,506741,505369,113087,71834,447748,505368,473887,113508,473783,119446,151229,81740,473687,451584,506734],ja:[],fr:[528009,528007,507026,507034,507035,506741,505369,374806,388012,447605,505368,509937,377299,509855,417180,426124,196947,509762,507872,506734],es:[504549,504545,507026,507034,507035,506741,505369,374787,387997,447574,505368,488921,377279,488398,417107,426056,196931,487969,516058,506734],it:[528146,528148,507026,507034,507035,506741,505369,374835,388031,447629,505368,489033,377325,488490,417240,426210,196963,488138,516020,506734],de:[528055,528054,507026,507034,507035,506741,505369,374872,388051,447668,505368,488977,377345,488443,417304,426288,196979,488063,515985,506734],nl:[528100,528103,507026,507034,507035,506741,505369,374892,388062,447693,505368,489006,377363,488466,417386,426364,196995,488103,515999,506734],pt:[504549,504545,507026,507034,507035,506741,505369,374914,388078,447724,505368,488948,377385,488422,417437,426449,197011,488012,516037,506734]},CAFE_JAZZ_YOUTUBE_THUMBNAILS:{ko:[],en:[74514,78277,74684,73507,67935,65930,466626,74530,66916,65950,65809,65800,107036,75360,65937],ja:[],fr:[382353,177213,383412,381435,67935,334249,466548,382350,309464,327782,373864,373863,338694,383979,327530],es:[382339,177182,383394,381413,67935,334234,466532,382334,309442,327748,373845,373847,338625,383954,327511],it:[382372,177244,383443,381453,67935,334322,466564,382367,309485,327804,373878,373875,338736,383992,327549],de:[382383,177275,383469,381472,67935,334335,466579,382384,309492,327831,373895,373894,338772,384017,327570],nl:[382402,177306,383494,381492,67935,334378,466595,382400,309505,327856,373907,373908,338824,384035,327587],pt:[382417,177337,383524,381512,67935,334425,466612,382416,309525,327878,373924,373921,338854,384063,327605]}};var Ee=t(70395);let En=()=>{let{currentLanguage:e}=(0,e6.U)(),{fetchResourceList:n}=(0,Ee.o)(),t=(0,c.useCallback)(async t=>{var r;let o=m9[t],i=null!==(r=null==o?void 0:o[e])&&void 0!==r?r:[];return n({resourceList:[{idxList:i,type:"TEMPLATE"}]})},[e,n]);return{fetchExampleMessageResources:t}},Et=()=>{let e=(0,ol.Db)(uc.postAIChatConversations);return{sendAIChatConversationsMutation:e}},Er=()=>{let{sendAIChatConversationsMutation:e}=Et(),n=n=>{let{params:t,onStart:r,onSuccess:o,onError:i,onSettled:l}=n;e.isLoading||(null==r||r(t),e.mutate(t,{onSuccess:e=>{null==o||o(e)},onError:e=>{null==i||i(e)},onSettled:l}))};return{sendAIChatMutation:n,isLoading:e.isLoading}},Eo=e=>({displayType:e.displayType,idx:e.idx,height:e.pageList[0].height,pageCount:e.pageCount,width:e.pageList[0].width,pageIdx:e.pageList[0].idx,status:e.status,thumbUrl:e.pageList[0].thumb300Url,title:e.title,type:e.type,tier:e.tier,videoThumbnailPlayTime:e.videoThumbnailPlayTime,videoThumbnailUrl:e.videoThumbnailUrl}),Ei=(e,n)=>({content:{role:"ASSISTANT",content:""},actionList:[{type:"TEMPLATE_RECOMMENDATION",templateList:e.data.list.map(e=>Eo(e))}],messageId:n}),El=e=>["ko","ja"].includes(e)?["BEIGE_TEMPLATE","CHERRY_BLOSSOM","SIMPLE_BUSINESS_CARD"]:["BEIGE_TEMPLATE","COLORFUL_POSTERS","CAFE_JAZZ_YOUTUBE_THUMBNAILS"],Es=()=>{let{getAIChatbotGACommonPayloadSnapshotValue:e}=uT(),{emit:n}=(0,ne.x)(),t=t=>{let{templateKeyList:r,conversationId:o}=t,{conversation_id:i,...l}=e();n("ACTION_VIEW_RECOMMENDED_TEMPLATE_IN_CHATBOT",{...l,conversation_id:i||o||"",viewedTemplateKeyList:r})};return{sendRecommendedTemplateInChatBotView:t}},Ec=()=>{let{getAIChatbotGACommonPayloadSnapshotValue:e}=uT(),{emit:n}=(0,ne.x)(),t=t=>{let{conversationId:r,callId:o}=t,{conversation_id:i,...l}=e();n("ACTION_SEARCH_TEMPLATE_RECOMMEND_CHATBOT",{...l,call_id:o,conversation_id:i||r||""})};return{sendAITemplateRecommendSearchEvent:t}},Ea=e=>{let{openExistsChatInfoModal:n}=e,{setAIConversationId:t,setMessageList:r}=ug(),{sendAIChatMutation:o,isLoading:i}=Er(),{fetchExampleMessageResources:l}=En(),s=e=>{let n=ga(e);r(e=>[...e,...n])},{sendAITemplateRecommendSearchEvent:c}=Ec(),{sendRecommendedTemplateInChatBotView:a}=Es(),u=(e,n)=>{var t,r,o;(null===(t=e.actionList)||void 0===t?void 0:t.some(e=>"TEMPLATE_RECOMMENDATION"===e.type))&&(c({conversationId:n}),a({conversationId:n,templateKeyList:null!==(o=e.actionList.flatMap(e=>{var n;return null!==(r=null===(n=e.templateList)||void 0===n?void 0:n.map(e=>e.idx.toString()))&&void 0!==r?r:[]}))&&void 0!==o?o:[]}))},d=async e=>{let{successData:o,exampleMessageType:i}=e;if(!o)return;let s=null==o?void 0:o.resultCode;if(ur(s)&&(null==n||n()),a9(s)){r(e=>[...e,ul(s)]);return}let c=i?Ei(await l(i),new Date().toString()):us(o);u(c,null==o?void 0:o.data.conversationId),r(e=>[...e,c]),t(null==o?void 0:o.data.conversationId)},p=e=>{r(n=>{var t;return[...n,ul((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===400?"CAN_RETRY_ERROR":"UNKNOWN_ERROR")]})},h=async e=>{let{conversationId:n,sentence:t,teamIdx:r,onSettled:i,exampleMessageType:c}=e;c&&await l(c),o({params:{conversationId:n,message:{role:"USER",content:t},teamIdx:r},onStart:s,onSuccess:e=>d({successData:e,exampleMessageType:c}),onError:p,onSettled:i})};return{appendMessage:h,pendingMessage:i?{content:{role:"ASSISTANT",content:""},isPending:!0}:void 0}},Eu=e=>{let{messageList:n}=ux(),{data:t,isLoading:r}=uu(e),o=(0,c.useMemo)(()=>{var e,r;return[...null!==(r=null===(e=gc(t))||void 0===e?void 0:e.messageList)&&void 0!==r?r:[],...n]},[n,t]);return{messageList:o,isLoading:r}},Ed=()=>{let{setAIConversationId:e,setMessageList:n}=ug(),t=(0,ol.NL)(),r=()=>{t.setQueryData(ua.a.getAIChatConversationsLatest(),e=>e?{...e,data:{messageList:[]}}:void 0)},o=o=>{e(void 0),n([]),r(),t.invalidateQueries(ua.a.getAiChatTeamQuota(o))};return{resetMessage:o}},Ep=e=>{let{onClickClose:n}=e;return{onClickClose:n}};function Eh(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  padding: 20px 32px 40px 20px;\n"]);return Eh=function(){return e},e}function Ef(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0 40px 20px;\n  text-align: center;\n  gap: 12px;\n  h1 {\n    color: ",";\n    font: ",";\n    text-align: center;\n    font-weight: 600;\n  }\n  h3 {\n    color: ",";\n    font: ",";\n  }\n"]);return Ef=function(){return e},e}let Ex=(0,Q.RW)(Ep,e=>{let{translate:n,onClickClose:t}=e;return(0,o.jsxs)(nZ.u,{show:!0,closeOnClickBackground:!0,width:"480px",children:[(0,o.jsx)(nZ.u.Header,{onClickClose:t}),(0,o.jsxs)(E_,{children:[(0,o.jsx)("h1",{children:n("EDITOR.EDITOR_676")}),(0,o.jsx)("h3",{children:n("EDITOR.EDITOR_677")})]}),(0,o.jsx)(Eg,{children:(0,o.jsx)(f.zx,{width:"160px",widthType:"fixed",size:"M",type:"fill",color:"primary",onClick:t,children:n("SHARED.POPUP.POPUP.CONFIRM")})})]})}),Eg=i.ZP.div.withConfig({componentId:"sc-396f3c45-0"})(Eh()),E_=i.ZP.div.withConfig({componentId:"sc-396f3c45-1"})(Ef(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_L},e=>{let{theme:n}=e;return n.token.s_color_contents_sub},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),Em=()=>{let{openPopup:e,closePopup:n}=(0,nM.B)(),t=()=>{e({component:Ex,props:{onClickClose:n}})};return{openExistsAnotherChatInfoModal:t}},EE=(0,ec.cn)(""),EI=()=>(0,ea.Dv)(EE),ET=()=>(0,ea.b9)(EE);var EC=t(75105);let Ev=e=>(0,ol.aM)({queryKey:EC.c.getAiChatTeamQuota(e),queryFn:()=>(0,uc.getAiChatQuota)(e),options:{enabled:!!e}}),Ew=()=>{let{selectedTeamIdx:e}=(0,$.x)(),{data:n,...t}=Ev(e),r=null==n?void 0:n.data;return{aiChatSelectedTeamQuota:r,...t}},Eb=()=>{let{selectedTeam:e}=(0,$.x)(),{pendingMessage:n}=Ea({}),{aiChatSelectedTeamQuota:t}=Ew(),r=(null==t?void 0:t.remainingRequests)===0&&!(null==t?void 0:t.unlimited),o=(r||(0,hu.hS)(null==e?void 0:e.plan))&&t?" (".concat(t.remainingRequests,"/").concat(t.limitRequests,")"):"";return{canResetMessage:Boolean(!n&&!r),teamQuota:t,isLimited:r,quotaTextWhenUnlimitedReset:o}},ER=e=>{let{messageList:n}=Eu(e),t=(0,c.useMemo)(()=>15-n.filter(e=>a5(e.content.role)).length,[n]),r=(0,c.useMemo)(()=>15,[]);return{remainingQuestionCount:t,limitQuestionCount:r}},Ej=e=>{let{onClickClose:n,onClickStartNewChat:t}=e,{canResetMessage:r,isLimited:o,quotaTextWhenUnlimitedReset:i}=Eb(),{openUpgradePopup:l}=(0,o5.B)(),{translate:s}=(0,et.$G)(),a=(0,ol.NL)(),{selectedTeamIdx:u}=(0,$.x)(),d=(0,c.useCallback)(()=>{u&&a.invalidateQueries(ua.a.getAiChatTeamQuota(u))},[a,u]),p="".concat(s("SHARED.POPUP.POPUP.WELCOME_TO_WORKSPACE.ACTION.START")).concat(i),h=()=>{if(n(),!r){l({detailPath:o2.E.ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP,onSuccessSubscribe:d});return}t()};return{isLimited:o,description:o?"EDITOR.EDITOR_700":"EDITOR.EDITOR_679",startNewChatText:p,onClickClose:n,onClickStartNewChat:h}};function Ey(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0 40px 20px;\n  text-align: center;\n\n  gap: 12px;\n\n  h1 {\n    color: ",";\n    font: ",";\n    text-align: center;\n    font-weight: 600;\n  }\n\n  h3 {\n    color: ",";\n    font: ",";\n  }\n"]);return Ey=function(){return e},e}function EO(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n\n  padding: 20px 32px 40px;\n  gap: 8px;\n"]);return EO=function(){return e},e}let EP=(0,Q.RW)(Ej,e=>{let{translate:n,isLimited:t,description:r,startNewChatText:i,onClickClose:l,onClickStartNewChat:s}=e;return(0,o.jsxs)(nZ.u,{show:!0,closeOnClickBackground:!0,width:"480px",maxHeight:"236px",children:[(0,o.jsx)(nZ.u.Header,{onClickClose:l}),(0,o.jsxs)(Ek,{children:[(0,o.jsx)("h1",{children:n("EDITOR.EDITOR_678")}),(0,o.jsx)("h3",{children:n(r)})]}),(0,o.jsxs)(ED,{children:[(0,o.jsx)(f.zx,{width:"160px",widthType:"fixed",size:"M",type:"fillLight",color:"neutralDeep",onClick:l,children:n("EDITOR.REMAIN_148")}),(0,o.jsx)(f.zx,{width:"160px",widthType:"fixed",size:"M",type:"fill",color:"primary",leftIcon:t?"icon_crown_gold":void 0,onClick:s,children:t?n("EDITOR.HEADER_BAR.ACTION.USE_PRO_TRIAL"):i})]})]})}),Ek=i.ZP.div.withConfig({componentId:"sc-2c6589ef-0"})(Ey(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_L},e=>{let{theme:n}=e;return n.token.s_color_contents_sub},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),ED=i.ZP.div.withConfig({componentId:"sc-2c6589ef-1"})(EO()),EA=()=>{let{openPopup:e,closePopup:n}=(0,nM.B)(),t=()=>n(),r=n=>{let{resetMessage:r}=n;e({component:EP,props:{onClickClose:t,onClickStartNewChat:r}})};return{openTemplateAIChatResetModal:r}},ES=()=>{let e=(0,c.useRef)(null),[n,t]=(0,c.useState)(0),r=()=>{e.current&&t(e.current.clientHeight)};return{footerRef:e,footerHeight:n,onChangeFooterHeight:r}},EL=e=>{var n;let{closePopover:t,onClickPrev:r,anchorPointY:o}=e,i=(0,c.useRef)(null),[l,s]=(0,c.useState)(!1),{selectedTeamIdx:a}=(0,$.x)(),{messageList:u}=Eu(a),{resetMessage:d}=Ed(),{setMessageList:p}=ux(),h=EI(),f=ET(),{conversationId:x}=uE(a),{remainingQuestionCount:g,limitQuestionCount:_}=ER(a),{openExistsAnotherChatInfoModal:m}=Em(),{openTemplateAIChatResetModal:E}=EA(),{withLoginAction:I}=(0,mG.O)(),{appendMessage:T,pendingMessage:C}=Ea({openExistsChatInfoModal:()=>{m(),t()}}),{isLimited:v,quotaTextWhenUnlimitedReset:w}=Eb(),b=u.at(-1),R=(0,c.useMemo)(()=>{var e;return Boolean(!C&&h&&ut(null==b?void 0:null===(e=b.error)||void 0===e?void 0:e.code))},[h,null==b?void 0:null===(n=b.error)||void 0===n?void 0:n.code,C]),j=(0,c.useCallback)(()=>{s(!0)},[]),{translate:y}=(0,et.$G)(),O=I(e=>{var n;a&&!C&&ut(null==b?void 0:null===(n=b.error)||void 0===n?void 0:n.code)&&0!==g&&T({conversationId:x,sentence:y(m6[e]),exampleMessageType:e,teamIdx:a,onSettled:j})}),P=I(()=>E({resetMessage:()=>a&&d(a)})),k=I(e=>{R&&a&&0!==g&&T({conversationId:x,sentence:e,teamIdx:a,onSettled:j})}),D=e=>f((0,h_.S7)(e)),A=e=>{p(n=>gu(e,n))};(0,c.useEffect)(()=>{var e;g>0||a5(null==b?void 0:b.content.role)||null!=b&&b.isPending||(null==b?void 0:null===(e=b.error)||void 0===e?void 0:e.code)==="LIMITATION_OVERFLOW"||p(e=>[...e,ul("LIMITATION_OVERFLOW")])},[b,g,p]),(0,c.useEffect)(()=>{var e;l&&(null===(e=i.current)||void 0===e||e.focus()),s(!1)},[l]);let S=tq(),{footerHeight:L,footerRef:N,onChangeFooterHeight:M}=ES(),Z=_0(S,o)-57-L;return{closePopover:t,onClickExampleMessage:O,onClickReset:P,onClickSend:k,messageList:[...u,C].filter(e=>!!e),inputValue:h,canSendMessage:R,onChangeInputValue:D,onClickPrev:r,updateMessageListFeedbackState:A,conversationId:x,disableResetButton:!!C||!b,isLimitedReset:v,quotaTextWhenUnlimitedReset:w,remainingQuestionCount:g,limitQuestionCount:_,inputDisabled:0===g||!!C,canvasHeight:S,bodyMaxHeight:Z,footerRef:N,inputRef:i,onChangeFooterHeight:M}},EN=e=>{let{onClickExampleMessage:n}=e,{userName:t}=(0,$.x)(),{currentLanguage:r}=(0,e6.U)(),o=El(r);return{onClickExampleMessage:n,userName:t,exampleMessageTypes:o}};function EM(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return EM=function(){return e},e}function EZ(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return EZ=function(){return e},e}function EU(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return EU=function(){return e},e}function EB(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n"]);return EB=function(){return e},e}function EF(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return EF=function(){return e},e}function EG(){let e=(0,r.Z)(["\n  color: ",";\n  font: ",";\n  display: flex;\n  height: 64px;\n  padding: ",";\n\n  justify-content: center;\n  align-items: center;\n  gap: ",";\n  align-self: stretch;\n\n  border-radius: ",";\n  border: 1px solid ",";\n\n  &:hover {\n    border: 1px solid ",";\n  }\n"]);return EG=function(){return e},e}let EW=[{role:"ASSISTANT",content:"EDITOR.EDITOR_669"},{role:"ASSISTANT",content:"EDITOR.EDITOR_670"}],EH=(0,Q.RW)(EN,e=>{let{translate:n,onClickExampleMessage:t,userName:r,exampleMessageTypes:i}=e;return(0,o.jsxs)(EV,{children:[(0,o.jsx)(Ez,{children:EW.map((e,t)=>{let{role:i,content:l}=e;return(0,o.jsx)(g_,{isUser:a5(i),children:(0,o.jsx)(EK,{children:n(l,{username:r})})},t)})}),(0,o.jsxs)(Ez,{children:[(0,o.jsxs)(EX,{children:[(0,o.jsx)(a.J,{iconName:"comment_more_filled",width:"22px",height:"22px",color:"#8D94A5"}),(0,o.jsx)(EY,{children:n("EDITOR.EDITOR_665")})]}),i.map(e=>(0,o.jsx)(EJ,{onClick:()=>t(e),children:n(m6[e])},e))]})]})}),EV=i.ZP.div.withConfig({componentId:"sc-2003d59a-0"})(EM()),Ez=i.ZP.div.withConfig({componentId:"sc-2003d59a-1"})(EZ()),EK=i.ZP.p.withConfig({componentId:"sc-2003d59a-2"})(EU(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),EX=i.ZP.div.withConfig({componentId:"sc-2003d59a-3"})(EB()),EY=i.ZP.span.withConfig({componentId:"sc-2003d59a-4"})(EF(),e=>{let{theme:n}=e;return n.token.c_label_color_contents_text_light},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),EJ=i.ZP.button.withConfig({componentId:"sc-2003d59a-5"})(EG(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return"".concat(n.token.b_size_static_60," ").concat(n.token.b_size_static_70)},e=>{let{theme:n}=e;return n.token.b_size_static_40},e=>{let{theme:n}=e;return n.token.b_size_static_40},e=>{let{theme:n}=e;return n.token.s_color_divider_default},e=>{let{theme:n}=e;return n.token.s_color_divider_deep});function Eq(){let e=(0,r.Z)(["\n  width: ","px;\n  border-radius: 16px;\n\n  border-radius: 16px;\n  background: ",";\n  box-shadow: ",";\n"]);return Eq=function(){return e},e}function EQ(){let e=(0,r.Z)(["\n  height: ","px;\n"]);return EQ=function(){return e},e}function E$(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 4px 0 20px;\n  position: relative;\n"]);return E$=function(){return e},e}function E0(){let e=(0,r.Z)(["\n  position: relative;\n  padding: 0 20px 20px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  height: fit-content;\n"]);return E0=function(){return e},e}function E1(){let e=(0,r.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 20px;\n\n  background: ",";\n\n  pointer-events: none;\n"]);return E1=function(){return e},e}function E4(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n  margin-right: auto;\n"]);return E4=function(){return e},e}let E2=(0,Q.RW)(EL,e=>{let{translate:n,onClickPrev:t,onClickExampleMessage:r,onClickSend:i,onClickReset:l,canSendMessage:s,messageList:c,closePopover:u,inputValue:d,disableResetButton:p,onChangeInputValue:h,updateMessageListFeedbackState:f,conversationId:x,theme:g,isLimitedReset:_,quotaTextWhenUnlimitedReset:m,remainingQuestionCount:E,limitQuestionCount:I,inputDisabled:T,bodyMaxHeight:C,inputRef:v,footerRef:w,onChangeFooterHeight:b}=e;return(0,o.jsx)(E3,{children:(0,o.jsxs)(_$,{children:[(0,o.jsx)(E5,{children:(0,o.jsxs)(_$.Header,{leftIcon:(0,o.jsx)(nL.h,{iconName:"chevron_left",size:"S",shape:"square",type:"ghost",color:"neutralDeep",onMouseDown:t}),onClickCloseIcon:u,children:[(0,o.jsx)(a.J,{iconName:"ai_robot",width:"24px",height:"24px",color:g.token.s_color_contents_default}),(0,o.jsx)(E9,{children:n("EDITOR.EDITOR_664")})]})}),(0,o.jsxs)(E8,{children:[(0,o.jsx)(_$.Body,{maxHeight:"".concat(C,"px"),height:"fit-content",conversationId:x,messageList:c,onClickReset:l,onSuccessSendUserFeedback:f,isLimitedReset:_,quotaTextWhenUnlimitedReset:m,children:(0,o.jsx)(EH,{onClickExampleMessage:r})}),(0,o.jsx)(E6,{})]}),(0,o.jsxs)(E7,{ref:w,children:[(0,o.jsx)(_$.Input,{onChangeHeight:b,inputValue:d,onChangeInputValue:h,disableResetButton:p,canSendMessage:s,onClickReset:l,placeholder:n("EDITOR.EDITOR_666"),maxCount:200,inputDisabled:T,onClickSendMessage:i,characterCount:!1,widthType:"fixed",heightType:"hug",width:"272px",buttonStyle:{padding:0},inputRef:v}),(0,o.jsx)(_$.QuestionLimitationInfo,{limitQuestionCount:I,remainingQuestionCount:E})]})]})})}),E3=i.ZP.div.withConfig({componentId:"sc-a8509ae3-0"})(Eq(),360,e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),E5=i.ZP.div.withConfig({componentId:"sc-a8509ae3-1"})(EQ(),57),E8=i.ZP.div.withConfig({componentId:"sc-a8509ae3-2"})(E$()),E7=i.ZP.div.withConfig({componentId:"sc-a8509ae3-3"})(E0()),E6=i.ZP.div.withConfig({componentId:"sc-a8509ae3-4"})(E1(),e=>{let{theme:n}=e;return"linear-gradient(0deg, ".concat(n.token.s_color_background_elevation01,", transparent) 100%")}),E9=i.ZP.h2.withConfig({componentId:"sc-a8509ae3-5"})(E4(),e=>{let{theme:n}=e;return n.token.s_typography_title_S},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),Ie=e=>{let{setCanCloseOnClickOutside:n,closePopover:t,anchorPointY:r}=e,{isLogin:o}=(0,$.x)(),{openSignInModal:i}=(0,oc.N)(),l=gk(),s=gP(),{sendClickEventWithAIDesignAssistantPopupAIWritingButton:c,sendClickEventWithAIDesignAssistantPopupAIChatbotButton:a}=xI(),u=()=>{l("AIWRITING"),c()},d=e=>{if("TEMPLATE_RECOMMENDATION_CHAT_BOT"===e&&a(),!o){i(o8.X.LOGIN,()=>l(e));return}l(e)},p=()=>l("AI_ASSISTANT_CHAT_BOT"),h=()=>{t(),l("AI_ASSISTANT_CHAT_BOT")};return{closePopover:t,onCloseAIWrtiing:h,selectedAIDesignAssistantContent:s,onClickAIWriting:u,onClickStartChat:d,setCanCloseOnClickOutside:n,onClickPrev:p,anchorPointY:r}},In=(0,Q.RW)(Ie,e=>{let{closePopover:n,onCloseAIWrtiing:t,selectedAIDesignAssistantContent:r,onClickAIWriting:i,onClickStartChat:l,setCanCloseOnClickOutside:s,onClickPrev:c,anchorPointY:a}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(eq.H,{value:r,caseBy:{AI_ASSISTANT_CHAT_BOT:(0,o.jsx)(ml,{anchorPointY:a,closePopover:n,onClickAIWriting:i,onClickStartChat:l}),AIWRITING:(0,o.jsx)(go,{setCanCloseOnClickOutside:s,closePopover:t}),TEMPLATE_RECOMMENDATION_CHAT_BOT:(0,o.jsx)(E2,{onClickPrev:c,closePopover:n,anchorPointY:a}),CONTENT_FEEDBACK_CHAT_BOT:(0,o.jsx)(m2,{onClickPrev:c,closePopover:n,anchorPointY:a})},defaultComponent:(0,o.jsx)(ml,{anchorPointY:a,closePopover:n,onClickAIWriting:i,onClickStartChat:l})})})});function It(){let e=(0,r.Z)(["\n  visibility: ",";\n"]);return It=function(){return e},e}function Ir(){let e=(0,r.Z)([""]);return Ir=function(){return e},e}function Io(){let e=(0,r.Z)(["\n  position: absolute;\n  right: ",";\n  bottom: ","px;\n"]);return Io=function(){return e},e}let Ii=(0,Q.RW)(xZ,e=>{let{openPopover:n,closePopover:t,isPopoverOpen:r,isButtonVisible:i,isBottomPanelOpen:l,isRightPanelVisible:s,isLayerPanelVisible:c,ref:a,showTooltip:u,onCloseInitialTooltip:d,tooltipType:p,canCloseOnClickOutside:h,setCanCloseOnClickOutside:f}=e;return(0,o.jsxs)(Ic,{isBottomPanelOpen:l,isRightPanelVisible:s,isLayerPanelVisible:c,children:[i&&u&&(0,o.jsx)(xd,{tooltipType:p,onCloseInitialTooltip:d}),(0,o.jsx)(Is,{ref:a,children:(0,o.jsx)(rK.J,{groupId:rJ.o4,style:{bottom:"".concat(12,"px"),top:"auto"},placement:"bottom-end",anchorElement:i&&(0,o.jsx)(Il,{visible:!r,children:(0,o.jsx)(xt,{openPopover:n,ref:a,showBorder:"DEFAULT"!==p})}),preventEventId:[f5.w,f3.FL,f3.q3],show:r,closeOnClickOutside:h,closePopOver:t,children:(0,o.jsx)(In,{anchorPointY:(l?168:62)+20,setCanCloseOnClickOutside:f,closePopover:t})})})]})}),Il=i.ZP.div.withConfig({componentId:"sc-59c436cf-0"})(It(),e=>{let{visible:n}=e;return n?"visible":"hidden"}),Is=i.ZP.div.withConfig({componentId:"sc-59c436cf-1"})(Ir()),Ic=i.ZP.div.withConfig({componentId:"sc-59c436cf-2"})(Io(),e=>{let{isRightPanelVisible:n,isLayerPanelVisible:t}=e;return t?"358px":n?"380px":"20px"},e=>{let{isBottomPanelOpen:n}=e;return n?176:70});function Ia(){let e=(0,r.Z)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return Ia=function(){return e},e}function Iu(){let e=(0,r.Z)(["\n  flex: 1;\n  height: 0;\n  display: flex;\n  isolation: isolate;\n  z-index: ",";\n"]);return Iu=function(){return e},e}function Id(){let e=(0,r.Z)(["\n  flex: none;\n  height: 100%;\n  isolation: isolate;\n  z-index: ",";\n"]);return Id=function(){return e},e}function Ip(){let e=(0,r.Z)(["\n  flex: 1;\n  width: 0;\n  height: 100%;\n  isolation: isolate;\n  z-index: ",";\n"]);return Ip=function(){return e},e}function Ih(){let e=(0,r.Z)(["\n  flex: none;\n  height: 100%;\n  isolation: isolate;\n  z-index: ",";\n"]);return Ih=function(){return e},e}let If=(0,Q.RW)(t0,e=>{let{mainPanelRef:n,onDragLeaveFromWebArea:t,onDragOverInWebArea:r,onDragStartInWebAreaButNotFiles:i,onFileDropInEditor:s,onFileDropInLeftPanel:c,onDragEndFromWebArea:a}=e;return(0,o.jsxs)(Ix,{children:[(0,o.jsx)(ca,{}),(0,o.jsxs)(Ig,{onDragLeave:t,onDragOver:r,onDragEnd:a,onDragStart:i,children:[(0,o.jsx)(I_,{onDrop:c,children:(0,o.jsx)(po,{})}),(0,o.jsx)(Im,{ref:n,onDrop:s,children:(0,o.jsx)(tW.C,{},"MainPanelView")}),(0,o.jsx)(IE,{children:(0,o.jsx)(ph,{})})]}),(0,o.jsx)(f2,{}),(0,o.jsx)(Ii,{}),(0,o.jsx)(V,{style:{top:ry.sX+16,right:16}}),(0,o.jsx)(tG,{}),(0,o.jsx)(l.U,{})]})}),Ix=i.ZP.div.withConfig({componentId:"sc-f2aa3e2e-0"})(Ia()),Ig=i.ZP.div.withConfig({componentId:"sc-f2aa3e2e-1"})(Iu(),e=>{let{theme:n}=e;return n.zIndex.ROOT__BODY}),I_=i.ZP.div.withConfig({componentId:"sc-f2aa3e2e-2"})(Id(),e=>{let{theme:n}=e;return n.zIndex.ROOT__BODY__LEFT_PANEL}),Im=i.ZP.div.withConfig({componentId:"sc-f2aa3e2e-3"})(Ip(),e=>{let{theme:n}=e;return n.zIndex.ROOT__BODY__MAIN}),IE=i.ZP.div.withConfig({componentId:"sc-f2aa3e2e-4"})(Ih(),e=>{let{theme:n}=e;return n.zIndex.ROOT__BODY__RIGHT_PANEL})},68093:function(e,n,t){t.d(n,{I:function(){return s}});var r=t(85893),o=t(72975),i=t(1123),l=t(95135);let s=e=>{let{translate:n}=(0,l.$G)();return(0,r.jsx)(o.u,{iconName:"warning_alt",size:"M",title:n("EDITOR.EDITOR_149"),subtitle:n("EDITOR.REMAIN_313"),bottomButton:(0,r.jsx)(i.Jr,{text:n("EDITOR.REMAIN_376"),widthType:"hug",type:"fillLight",color:"primary",shape:"square",size:"M",onClick:e.onClickReset,...e.buttonStyleProps})})}},60265:function(e,n,t){t.d(n,{I:function(){return p}});var r=t(7297),o=t(85893),i=t(88095);function l(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  padding: ",";\n  border: 1px solid\n    ",";\n  border-radius: ",";\n  align-items: center;\n  background-color: ",";\n  opacity: ",";\n  min-width: 152px;\n  max-width: 320px;\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  &.useHoverEffect:not([disabled]) {\n    &:hover {\n      background: ",";\n      border: 1px solid ",";\n    }\n\n    > * {\n      pointer-events: none;\n    }\n  }\n"]);return l=function(){return e},e}function s(){let e=(0,r.Z)(["\n  width: 100%;\n  text-align: left;\n"]);return s=function(){return e},e}function c(){let e=(0,r.Z)(["\n  margin-right: 12px;\n  width: 40px;\n  height: 40px;\n"]);return c=function(){return e},e}function a(){let e=(0,r.Z)(["\n  padding-left: 12px;\n"]);return a=function(){return e},e}function u(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n"]);return u=function(){return e},e}function d(){let e=(0,r.Z)(["\n  font: ",";\n  color: ",";\n"]);return d=function(){return e},e}let p=e=>{let{onClick:n,mainText:t,subText:r,GraphicIcon:i,rightItems:l,state:s="enable",padding:c="L",...a}=e,u=Boolean(n);return(0,o.jsxs)(h,{$state:s,$padding:c,...u&&{as:"button",onClick:n,className:"useHoverEffect",disabled:"disable"===s},...a,children:[i&&(0,o.jsx)(x,{children:i}),(0,o.jsxs)(f,{children:[(0,o.jsx)(_,{children:t}),(0,o.jsx)(m,{children:r})]}),l&&(0,o.jsx)(g,{children:l})]})},h=i.ZP.div.withConfig({componentId:"sc-f9d53a07-0"})(l(),e=>{let{$padding:n}=e;return"S"===n?"8px":"12px"},e=>{let{theme:n,$state:t}=e;return"selected"===t?n.token.s_color_brand_primary_light:n.token.s_color_border_default},e=>{let{theme:n}=e;return n.token.b_size_static_40},e=>{let{theme:n,$state:t}=e;return"selected"===t?n.token.s_color_brand_primary_surface:n.token.s_color_background_default},e=>{let{$state:n}=e;return"disable"===n?.5:1},e=>{let{theme:n}=e;return n.token.s_color_surface_lightness},e=>{let{theme:n}=e;return n.token.s_color_border_default}),f=i.ZP.div.withConfig({componentId:"sc-f9d53a07-1"})(s()),x=i.ZP.div.withConfig({componentId:"sc-f9d53a07-2"})(c()),g=i.ZP.div.withConfig({componentId:"sc-f9d53a07-3"})(a()),_=i.ZP.div.withConfig({componentId:"sc-f9d53a07-4"})(u(),e=>{let{theme:n}=e;return n.token.s_typography_body_M},e=>{let{theme:n}=e;return n.token.s_color_contents_sub}),m=i.ZP.div.withConfig({componentId:"sc-f9d53a07-5"})(d(),e=>{let{theme:n}=e;return n.token.s_typography_body_S},e=>{let{theme:n}=e;return n.token.s_color_contents_additional})},1678:function(e,n,t){t.d(n,{P:function(){return u}});var r=t(85893),o=t(92338),i=t(59885),l=t(13821),s=t(87406),c=t(71618);let a=e=>{let{closePopOver:n,popOverGroupId:t}=e,{onClickTemplateType:r}=(0,s.h)(),{toTemplateDetailWithoutMovingTemplatePanel:o}=(0,c.s)(),i=e=>{r(e),o(null),n()};return{closePopOver:n,onClickTemplateType:i,popOverGroupId:t}},u=(0,l.RW)(a,e=>{let{closePopOver:n,onClickTemplateType:t,popOverGroupId:l}=e;return(0,r.jsx)(i.k,{pendingFallback:(0,r.jsx)(r.Fragment,{}),rejectedFallback:()=>(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(o.y,{closePopOver:n,showDirectInput:!0,enterPoint:"RESIZE",onClickTemplateType:t,popOverGroupId:l})})})},93047:function(e,n,t){t.d(n,{F:function(){return R}});var r=t(7297),o=t(85893),i=t(88095),l=t(82274),s=t(25265),c=t(44152),a=t(8445),u=t(1123),d=t(72147);let p=e=>{let n=(0,d.F)(e);return{...n,dropdownGroupId:e.dropdownGroupId}};var h=t(54692);function f(){let e=(0,r.Z)(["\n  position: relative;\n  padding: 8px;\n  width: 92px;\n\n  border-radius: 8px;\n  background: ",";\n  box-shadow: ",";\n"]);return f=function(){return e},e}function x(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 0px 12px;\n  width: 76px;\n  height: 40px;\n\n  cursor: pointer;\n"]);return x=function(){return e},e}function g(){let e=(0,r.Z)(["\n  margin-right: 8px;\n  width: 26px;\n\n  color: ",";\n  font: ",";\n  text-transform: lowercase;\n"]);return g=function(){return e},e}let _=e=>{let{unitOptions:n,unit:t,onChangeUnit:r}=e;return(0,o.jsx)(m,{children:n.map(e=>(0,o.jsxs)(E,{onClick:()=>r(e),children:[(0,o.jsx)(I,{children:e}),e===t&&(0,o.jsx)(h.J,{iconName:"check",width:"18",height:"18",color:"#21AFBF"})]},e))})},m=i.ZP.ul.withConfig({componentId:"sc-9efe04f0-0"})(f(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),E=i.ZP.li.withConfig({componentId:"sc-9efe04f0-1"})(x()),I=i.ZP.span.withConfig({componentId:"sc-9efe04f0-2"})(g(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.c_dropdownField_typography_selectValue_M});var T=t(13821);function C(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n"]);return C=function(){return e},e}function v(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]);return v=function(){return e},e}function w(){let e=(0,r.Z)(["\n  flex: 1;\n  width: 100%;\n"]);return w=function(){return e},e}function b(){let e=(0,r.Z)(["\n  width: 80px;\n"]);return b=function(){return e},e}let R=(0,T.RW)(p,e=>{let{width:n,onBlurWidth:t,onBlurHeight:r,height:i,onChangeHeight:d,onChangeWidth:p,unit:h,onChangeUnit:f,unitOptions:x,isLocked:g,onClickLock:m,warningText:E,openDropdown:I,onClickDropdown:T,onCloseDropdown:C,isApplyDisabled:v,onApply:w,applyButtonLabel:b,widthInputRef:R,dropdownGroupId:k,showWarning:D}=e;return(0,o.jsxs)(j,{children:[(0,o.jsxs)(y,{children:[(0,o.jsx)(O,{children:(0,o.jsx)(l.c,{type:"number",value:n,unit:"none",onChange:p,ref:R,onBlurValue:t})}),(0,o.jsx)(s.h,{size:"XXS",iconName:g?"lock_filled":"lock_open",type:"fillLight",color:"neutralDeep",shape:"square",onClick:m}),(0,o.jsx)(O,{children:(0,o.jsx)(l.c,{type:"number",value:i,unit:"none",onChange:d,onBlurValue:r})}),(0,o.jsx)(P,{children:(0,o.jsx)(c.L,{groupId:k,open:I,onClick:T,onClose:C,value:h.toLowerCase(),background:"ghost",widthType:"fill",children:(0,o.jsx)(_,{unitOptions:x,unit:h,onChangeUnit:f})})})]}),D&&(0,o.jsx)(a.R,{type:"error",size:"S",showIcon:!1,text:E}),(0,o.jsx)(u.Jr,{text:b,onClick:w,disabled:v})]})}),j=i.ZP.div.withConfig({componentId:"sc-15556404-0"})(C()),y=i.ZP.div.withConfig({componentId:"sc-15556404-1"})(v()),O=i.ZP.div.withConfig({componentId:"sc-15556404-2"})(w()),P=i.ZP.div.withConfig({componentId:"sc-15556404-3"})(b())},45946:function(e,n,t){t.d(n,{Mb:function(){return i},cE:function(){return l},cZ:function(){return r},cr:function(){return a},hM:function(){return s},nq:function(){return u},sX:function(){return o},ww:function(){return c}});let r=60,o=56,i=64,l=4,s=40,c=20,a=40,u=24},93374:function(e,n,t){t.d(n,{Y:function(){return c}});var r=t(7297),o=t(85893),i=t(88095),l=t(68093);function s(){let e=(0,r.Z)(["\n  height: 85vh;\n  display: flex;\n  padding: 24px;\n  align-items: center;\n  justify-content: center;\n"]);return s=function(){return e},e}let c=e=>(0,o.jsx)(a,{children:(0,o.jsx)(l.I,{onClickReset:e.onReset,buttonStyleProps:{widthType:"fill"}})}),a=i.ZP.div.withConfig({componentId:"sc-828013e6-0"})(s())},44420:function(e,n,t){t.d(n,{z:function(){return s}});var r=t(45102),o=t(77397),i=t(83237),l=t(13821);let s=()=>{let{leftPanelExpandedWidth:e}=(0,r.Y)(),n=(0,i.j)(),{width:t}=(0,l.iP)(),s=c(t);return{leftPanelWidth:n?e:o.wt,maxPanelWidth:s}},c=e=>Math.max(Math.min(.6*e,1320,e-440),o.wt)},18061:function(e,n,t){t.d(n,{k:function(){return E}});var r=t(67294),o=t(57141),i=t(51207),l=t(86492),s=t(78250),c=t(55629);let a=()=>{let{mutate:e}=(0,s.X)(),n=(0,c.NL)(),t=(0,r.useCallback)(t=>{let{params:r,onSuccess:o,onError:i}=t;e(r,{onSuccess:()=>{n.invalidateQueries(["getRecentTemplateList"]),null==o||o()},onError:()=>{null==i||i()}})},[e,n]);return{updateRecentTemplate:t}};var u=t(14861),d=t(94460),p=t(44074),h=t(59093),f=t(49471),x=t(89080),g=t(97169),_=t(28312),m=t(82129);let E=(e,n,t)=>{let{subscribe:s}=(0,d.j)(),{openUpgradePopup:c}=(0,f.B)(),{isLogin:E}=(0,u.x)(),{openSignInModal:I}=(0,g.N)(),{updateExternalRecentResource:T,updateInternalRecentResource:C}=(0,l.M)(n),{updateRecentTemplate:v}=a(),{dragResource:w,setDragResource:b}=(0,m.W)();(0,r.useEffect)(()=>{let n=s("EVENT_FIRED_DROP_EVENT",n=>{var r,l;let{isUserFile:s,designResourceType:a,canUseResource:u,thumbUrl:d}=n;if(!s){if(!E&&!u){I(_.X.LOGIN);return}if(E&&!u){let e="TEMPLATE"===a?h.aS.PREMIUM_TEMPLATE:h.aS.PREMIUM_ELEMENT,n=d?{videoUrl:(null==d?void 0:d.includes(".mp4"))?d:void 0,imageUrl:d}:void 0;c({enterPoint:e,upgradePopupThumbnail:n,detailPath:p.E.ACTION_USE_PREMIUM_CONTENTS_UPGRADE_POPUP,templateInfo:e===h.aS.PREMIUM_TEMPLATE?{templateKey:null==w?void 0:w.resourceKey,templatePurpose:null==w?void 0:w.displayTypes}:void 0});return}a&&"TEMPLATE"===a&&(null==w?void 0:w.displayTypes)&&(0,x.hj)(Number(null==w?void 0:w.resourceKey))?v({params:{queryParams:{resourceGroup:e},updateRecentBodyItems:[{idx:Number(w.resourceKey),searchWord:t,types:null!==(l=w.displayTypes)&&void 0!==l?l:[]}]}}):(null==w?void 0:null===(r=w.externalResource)||void 0===r?void 0:r.providerId)&&a&&(0,i.T)(a)&&(0,x.hj)(Number(w.externalResource.resourceId))?T({resourceId:Number(w.externalResource.resourceId),designresourceType:a,provider:w.externalResource.providerId,tier:w.externalResource.tier,resourceGroup:e,searchWord:t}):a&&!o.k6.includes(a)&&(null==w?void 0:w.idx)&&C({idx:w.idx,type:a,resourceGroup:e,searchWord:t}),b(null)}});return()=>{null==n||n.unsubscribe()}},[s,E,w])}},82129:function(e,n,t){t.d(n,{W:function(){return l}});var r=t(15103),o=t(48583);let i=(0,r.cn)(null),l=()=>{let[e,n]=(0,o.KO)(i);return{dragResource:e,setDragResource:n}}},66965:function(e,n,t){t.d(n,{D:function(){return s},F:function(){return l}});var r=t(15103),o=t(48583);let i=(0,r.cn)(!0),l=()=>{let[e,n]=(0,o.KO)(i);return{isLeftPanelVisible:e,setLeftPanelVisible:n}},s=()=>(0,o.b9)(i)},67484:function(e,n,t){t.d(n,{v:function(){return i}});var r=t(85893),o=t(88095);let i=e=>{let{isHover:n,isOutlined:t=!0}=e,i=(0,o.Fg)(),l=n?i.token.s_color_graphic_medium:i.token.s_color_graphic_medium_light;return(0,r.jsxs)("svg",{width:"15",height:"82",viewBox:"0 0 15 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M0.5 1.3999L6.9585 7.3371C11.0784 11.1245 13.4231 16.4647 13.4231 22.061V59.9387C13.4231 65.5349 11.0784 70.8752 6.9585 74.6626L0.5 80.5998V1.3999Z",fill:i.token.s_color_background_default}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 82L7.87611 75.2193C12.1173 71.3204 14.5 66.0324 14.5 60.5185V21.4815C14.5 15.9676 12.1173 10.6796 7.8761 6.78073L0.5 0V1.40007L7.1146 7.48077C11.1538 11.194 13.4231 16.2302 13.4231 21.4815V60.5185C13.4231 65.7698 11.1539 70.806 7.11461 74.5192L0.5 80.5999V82Z",fill:i.token.s_color_border_light})]}),(0,r.jsx)("rect",{x:"0.5",y:"36",width:"1.8",height:"10",fill:l,fillOpacity:"0.34"}),(0,r.jsx)("rect",{x:"4.5",y:"36",width:"1.8",height:"10",fill:l,fillOpacity:"0.34"})]})}},83237:function(e,n,t){t.d(n,{j:function(){return d}});var r=t(67294),o=t(51883),i=t(29814),l=t(19795),s=t(14158),c=t(66965),a=t(77397),u=t(13821);let d=()=>{let{selectedDesignResourceMenu:e}=(0,l.jq)(),{isLeftPanelVisible:n}=(0,c.F)(),{type:t}=(0,s.WS)(),{width:d}=(0,u.iP)(),[p,h]=(0,r.useState)(!1);return(0,o.F)(h),"desktop"===(0,i.l7)()&&a.Fo.includes(e)&&!Boolean(t)&&d>a.R6&&n&&!p}},67977:function(e,n,t){t.d(n,{x:function(){return p}});var r=t(7297),o=t(85893),i=t(88095),l=t(55392),s=t(37683),c=t(71839),a=t(14571),u=t(95303);function d(){let e=(0,r.Z)(["\n  display: flex;\n  ",";\n"]);return d=function(){return e},e}let p=e=>{var n;let{resourceList:t,onClickItem:r,thumbnailWrapperMaxWidth:i,thumbnailWrapperMinWidth:d,isFixedSize:p=!1,verticalViewSequence:f=0}=e,{targetRef:x}=(0,u.S)(()=>{var e;(0,s.I)({key:f.toString(),value:null!==(e=null==t?void 0:t.map(e=>({idx:e.thumbnailProps.key.toString(),type:e.thumbnailProps.resourceType})))&&void 0!==e?e:[]})});return(0,o.jsx)(h,{ref:x,children:null==t?void 0:t.map((e,t)=>(0,o.jsx)(c.o,{resourceInfo:null!==(n=e.thumbnailProps.resourceInfo)&&void 0!==n?n:l.E,widthType:"hug",flexGrow:!p,children:(0,o.jsx)(a.J,{imageProps:e.imageProps,thumbnailProps:e.thumbnailProps,onClickItem:()=>r({key:e.thumbnailProps.key,idx:e.thumbnailProps.idx,resourceType:e.thumbnailProps.resourceType,thumbnailType:e.thumbnailProps.thumbnailType,displayType:e.thumbnailProps.resourceInfo.displayType,isPremium:e.thumbnailProps.isPremium,upgradePopupThumbnail:{imageUrl:e.imageProps.thumbnailUrl,videoUrl:e.thumbnailProps.videoUrl},externalResource:e.thumbnailProps.externalResource,verticalViewSequence:f,horizontalViewSequence:t}),canOverflowContainer:!p,wrapperMinWidth:d,wrapperMaxWidth:i})},e.imageProps.thumbnailUrl+e.thumbnailProps.key+t))})},h=i.ZP.div.withConfig({componentId:"sc-c1fd82cc-0"})(d(),e=>{let{theme:n}=e;return n.mixin.flexColGap("8px")})},94251:function(e,n,t){t.d(n,{J:function(){return h}});var r=t(7297),o=t(85893),i=t(88095),l=t(55392),s=t(37683),c=t(14571),a=t(90376),u=t(95303),d=t(67923);function p(){let e=(0,r.Z)(["\n  display: flex;\n  ",";\n"]);return p=function(){return e},e}let h=e=>{var n;let{resourceList:t,onClickItem:r,thumbnailWrapperMaxWidth:i,thumbnailWrapperMinWidth:p,isFixedSize:h=!1,carouselTitle:x,verticalViewSequence:g}=e,{overwriteTemplate:_}=(0,a.L)(),{targetRef:m}=(0,u.S)(()=>{var e;(0,s.I)({key:g.toString(),value:null!==(e=null==t?void 0:t.map(e=>({idx:e.thumbnailProps.key.toString(),type:e.thumbnailProps.resourceType})))&&void 0!==e?e:[]})});return(0,o.jsx)(f,{ref:m,children:null==t?void 0:t.map((e,t)=>(0,o.jsx)(d.t,{resourceInfo:null!==(n=e.thumbnailProps.resourceInfo)&&void 0!==n?n:l.E,widthType:"hug",flexGrow:!h,overwriteTemplate:e=>{_({...e,keywordCategoryName:x,verticalViewSequence:g,horizontalViewSequence:t})},children:(0,o.jsx)(c.J,{imageProps:e.imageProps,thumbnailProps:e.thumbnailProps,onClickItem:()=>r({key:e.thumbnailProps.key,idx:e.thumbnailProps.idx,resourceType:e.thumbnailProps.resourceType,thumbnailType:e.thumbnailProps.thumbnailType,displayType:e.thumbnailProps.resourceInfo.displayType,isPremium:e.thumbnailProps.isPremium,upgradePopupThumbnail:{imageUrl:e.imageProps.thumbnailUrl,videoUrl:e.thumbnailProps.videoUrl},externalResource:e.thumbnailProps.externalResource,keywordCategoryName:x,horizontalViewSequence:g,verticalViewSequence:t}),canOverflowContainer:!h,wrapperMinWidth:p,wrapperMaxWidth:i})},e.imageProps.thumbnailUrl+e.thumbnailProps.key+t))})},f=i.ZP.div.withConfig({componentId:"sc-6eb3a0f7-0"})(p(),e=>{let{theme:n}=e;return n.mixin.flexColGap("8px")})},28264:function(e,n,t){t.d(n,{m:function(){return p}});var r=t(7297),o=t(85893),i=t(88095),l=t(72975),s=t(94771),c=t(13821),a=t(10989);let u=e=>{let{subTitle:n,inquiryUrl:t}=e,r=()=>{window.open(null!=t?t:(0,a.l)("DESIGN_RESOURCE_INQUIRY"))};return{onClickButton:r,subTitle:n}};function d(){let e=(0,r.Z)(["\n  /**\n  TODO: 임시처리한 부분입니다. 자세한 내용은 \n  discussion: https://github.com/miridih/miricanvas-web-2/discussions/300\n  backlog: https://jira.miridih.com/browse/UNICORN-27974\n */\n  height: 65vh;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return d=function(){return e},e}let p=(0,c.RW)(u,e=>{let{translate:n,onClickButton:t,subTitle:r}=e;return(0,o.jsx)(h,{children:(0,o.jsx)(l.u,{graphicType:"custom",customImage:"",maxWidth:"S",title:n("SHARED.TEMPLATES.EMPTY_LIST.TITLE"),subtitle:null!=r?r:n("EDITOR.LEFT_PANEL.TAB.LABEL.SEND_OPINION"),onClickButton:t,bottomButton:(0,o.jsx)(s.zx,{widthType:"fill",type:"fillLight",onClick:t,children:n("SHARED.TEMPLATES.EMPTY_LIST.ACTION.SURVEY")})})})}),h=i.ZP.div.withConfig({componentId:"sc-b61292f7-0"})(d())},69756:function(e,n,t){t.d(n,{J:function(){return I}});var r=t(85893),o=t(733),i=t(37134),l=t(59885),s=t(13821),c=t(67977),a=t(94251),u=t(67294),d=t(56815),p=t(89080),h=t(49146);let f=()=>{let e=(0,h.tR)(),n=(0,h.TQ)(),t=(0,u.useCallback)((t,r)=>(!e||t.includes(e))&&(!(null==n?void 0:n.id)||r.includes(null==n?void 0:n.id)),[e,n]);return{creatorTemplateFilterByTypeAndPurpose:t}};var x=t(29082),g=t(13763);let _=e=>{let{data:n,designResourceTypeList:t,keywordCategoryTypeGroup:r,carouselHeight:o}=e,{templateFilterByTypeAndPurpose:i}=(0,x.G)(),{creatorTemplateFilterByTypeAndPurpose:l}=f(),s=(0,u.useCallback)(e=>"CREATOR_TEMPLATE"===e?l:i,[i,l]),c=(0,u.useCallback)(e=>{if("TEMPLATE"!==t[0])return e;let n=s(r);return e.filter(e=>{let{displayType:t,templateTypeIdList:r}=e;return n(t,r)})},[s,t,r]),a=(0,u.useMemo)(()=>{let e=null==n?void 0:n.data.list;return e?c(e).map(e=>(0,g.o)(e,o)):[]},[null==n?void 0:n.data.list,o,c]);return{resourceList:a}},m=e=>{let{queryOption:n,keywordCategoryTypeGroup:t,designResourceTypeList:r,title:o,keyword:i=o,onClickItem:l,isFixedSize:s,setShowCategoryListView:c,carouselHeight:a,thumbnailWrapperMaxWidth:h,thumbnailWrapperMinWidth:f,verticalViewSequence:x}=e,{data:g}=(0,d.$)(n,i),{resourceList:m}=_({data:g,designResourceTypeList:r,keywordCategoryTypeGroup:t,carouselHeight:a});return(0,u.useEffect)(()=>{(0,p.o8)(g)||c(!!m.length)},[g,m,c]),{designResourceTypeList:r,title:o,resourceList:m,onClickItem:e=>l({...e,keywordCategoryName:o}),thumbnailWrapperMaxWidth:h,thumbnailWrapperMinWidth:f,isFixedSize:s,setShowCategoryListView:c,verticalViewSequence:x}},E=e=>(0,s.RW)(m,e=>{let{title:n,resourceList:t,onClickItem:i,thumbnailWrapperMaxWidth:l,thumbnailWrapperMinWidth:s,isFixedSize:u,designResourceTypeList:d,verticalViewSequence:p}=e;return(0,r.jsx)(r.Fragment,{children:t&&t.length>0&&(d.includes(o.DesignResourceType.TEMPLATE)?(0,r.jsx)(a.J,{carouselTitle:n,resourceList:t,onClickItem:i,thumbnailWrapperMaxWidth:l,thumbnailWrapperMinWidth:s,isFixedSize:u,verticalViewSequence:null!=p?p:0}):(0,r.jsx)(c.x,{resourceList:t,onClickItem:i,thumbnailWrapperMaxWidth:l,thumbnailWrapperMinWidth:s,isFixedSize:u,verticalViewSequence:p}))})})(e),I=e=>(0,r.jsx)(l.k,{pendingFallback:(0,r.jsx)(i.c,{width:"100%",height:"100%"}),rejectedFallback:()=>(0,r.jsx)(r.Fragment,{}),ignoreError:()=>!1,children:(0,r.jsx)(E,{...e})})},82650:function(e,n,t){t.d(n,{B:function(){return u}});var r=t(82181),o=t(22093),i=t(44420),l=t(77397),s=t(36771),c=t(76744);let a=e=>{let n=1+(e-l.wt)/(2*e),t=Math.max(o.C*n,o.C),i=o.T*n,s=Math.max(r.gT*n,r.gT);return{thumbnailWrapperMinWidth:t,thumbnailWrapperMaxWidth:i,carouselHeight:s}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{leftPanelWidth:n}=(0,i.z)(),t=(0,s.Z)(c.L),o=.9*t.rowHeight;return e?{carouselHeight:o,thumbnailWrapperMinWidth:o,thumbnailWrapperMaxWidth:o,scrollPercentage:r.hL}:{...a(n),scrollPercentage:r.hL}}},70569:function(e,n,t){t.d(n,{D:function(){return h},K:function(){return p}});var r=t(82181),o=t(55110),i=t(83826),l=t(44420),s=t(77397),c=t(34873),a=t(67596);let u=e=>"columnCount"in e,d=e=>{let{rowWidth:n,columnCount:t,columnGap:r}=e;return Math.floor((n-(t-1)*r)/t)},p=e=>{let{templateType:n}=e;return{listType:(0,i.l)(n),ratio:(0,c.dO)(null==n?void 0:n.width,null==n?void 0:n.height)}},h=e=>{let{listType:n,ratio:t}=e,{leftPanelWidth:i}=(0,l.z)(),c=(0,a.W)(),p=(0,o.H)({listType:n,ratio:t,rowTotalWidth:c}),h=1+(i-s.wt)/(2*i);return u(p)?{carouselHeight:Math.max(48,p.rowHeight*r.hL/100),thumbnailWrapperMinWidth:48,thumbnailWrapperMaxWidth:280*h,scrollPercentage:(d(p)*p.columnCount*r.hL/100+p.columnGap*(p.columnCount-1))/p.rowWidth*100}:{carouselHeight:120*h,thumbnailWrapperMinWidth:48,thumbnailWrapperMaxWidth:280*h,scrollPercentage:r.hL}}},85776:function(e,n,t){t.d(n,{T:function(){return s}});var r=t(7297),o=t(85893),i=t(88095);function l(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  height: 100%;\n"]);return l=function(){return e},e}let s=e=>{let{children:n}=e;return(0,o.jsx)(c,{children:n})},c=i.ZP.div.withConfig({componentId:"sc-df97901f-0"})(l())},36771:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(70630),o=t(44420),i=t(77397);let l=e=>{let{leftPanelWidth:n}=(0,o.z)(),t=n-2*i.b;return(0,r.P)(e,t)}},50547:function(e,n,t){t.d(n,{P:function(){return i}});var r=t(44420),o=t(77397);let i=()=>{let{leftPanelWidth:e}=(0,r.z)();return Math.max(e,o.wt)-2*o.b}},58910:function(e,n,t){t.d(n,{Y:function(){return p}});var r=t(7297),o=t(85893),i=t(88095),l=t(7645),s=t(13821),c=t(49471);let a=e=>{let{resourceInfo:n,canAddToFolder:t,closeMoreInfoView:r,isSelectedItem:o=!1}=e,{value:i,setTrue:l}=(0,s.kt)(),{openUpgradePopup:a}=(0,c.B)();return{resourceInfo:n,closeMoreInfoView:r,isAddingToFolder:i,isSelectedItem:o,canAddToFolder:t,openUpgradePopup:a,onStartAddToFolder:l}};var u=t(287);function d(){let e=(0,r.Z)(["\n  display: flex;\n  width: 312px;\n  flex-direction: column;\n  background-color: ",";\n  box-shadow: ",";\n  padding: 8px;\n  border-radius: 16px;\n"]);return d=function(){return e},e}let p=(0,s.RW)(a,e=>{let{resourceInfo:n,closeMoreInfoView:t,isAddingToFolder:r,isSelectedItem:i,canAddToFolder:s,openUpgradePopup:c,onStartAddToFolder:a}=e;return r?(0,o.jsx)(u.y,{resourceInfo:n,isSelectedItem:i,closeMoreInfoView:t}):(0,o.jsx)(h,{children:(0,o.jsx)(l.u,{resourceInfo:n,closeMoreInfoView:t,onStartAddToFolder:a,openUpgradePopup:c,isSelectedItem:i,canAddToFolder:s})})}),h=i.ZP.div.withConfig({componentId:"sc-d4851862-0"})(d(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover})},71839:function(e,n,t){t.d(n,{o:function(){return g}});var r=t(7297),o=t(85893),i=t(67294),l=t(88095),s=t(40328),c=t(30115),a=t(58910),u=t(5782),d=t(13821),p=t(14861),h=t(47232);let f=e=>{let{resourceInfo:n,children:t,widthType:r,flexGrow:o}=e,{value:i,setFalse:l,toggle:s}=(0,d.kt)(!1),{sendActionClickMoreInfoButtonEvent:c}=(0,h.i)(),{user:a}=(0,p.x)(),u=()=>{s(),c({thumbnail_type:n.designResourceType,account_id:null==a?void 0:a.accountId})};return{resourceInfo:n,children:t,isOpenPopover:i,onClickMoreInfoButton:u,closePopover:l,widthType:r,flexGrow:o}};function x(){let e=(0,r.Z)(["\n  background-color: ",";\n  box-shadow: ",";\n  padding: 8px;\n  border-radius: 16px;\n"]);return x=function(){return e},e}let g=(0,d.RW)(f,e=>{let{resourceInfo:n,children:t,isOpenPopover:r,onClickMoreInfoButton:l,closePopover:d,widthType:p,flexGrow:h}=e;return(0,o.jsx)(s.J,{scrollLock:!0,show:r,closePopOver:d,placement:"right-start",triggerWrapperStyle:m(p,h),anchorElement:i.Children.map(t,e=>i.cloneElement(e,{onClickMore:l})),children:(0,o.jsx)(u.X,{fallback:(0,o.jsx)(_,{children:(0,o.jsx)(c.$,{})}),children:(0,o.jsx)(a.Y,{resourceInfo:n,closeMoreInfoView:d})})})}),_=l.ZP.div.withConfig({componentId:"sc-e1c8af6a-0"})(x(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fill",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{height:"100%",width:"fill"===e?"100%":"auto",...n&&{flexShrink:0}}}},67923:function(e,n,t){t.d(n,{t:function(){return C}});var r=t(7297),o=t(85893),i=t(67294),l=t(88095),s=t(40328),c=t(30115),a=t(5782),u=t(13821),d=t(78324),p=t(49471);let h=e=>{let{showTooltip:n=!0,resourceInfo:t,closeMoreInfoView:r,overwriteTemplate:o}=e,{value:i,setTrue:l}=(0,u.kt)(),{openUpgradePopup:s}=(0,p.B)();return{resourceInfo:t,isAddingToFolder:i,openUpgradePopup:s,overwriteTemplate:o,closeMoreInfoView:r,onStartAddToFolder:l,showTooltip:n}};var f=t(287);function x(){let e=(0,r.Z)(["\n  width: 312px;\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n  box-shadow: ",";\n  padding: 8px;\n  border-radius: 16px;\n"]);return x=function(){return e},e}let g=(0,u.RW)(h,e=>{let{resourceInfo:n,isAddingToFolder:t,openUpgradePopup:r,overwriteTemplate:i,closeMoreInfoView:l,onStartAddToFolder:s,showTooltip:c}=e;return t?(0,o.jsx)(f.y,{resourceInfo:n,isSelectedItem:!1,closeMoreInfoView:l}):(0,o.jsx)(_,{children:(0,o.jsx)(d.i,{resourceInfo:n,closeMoreInfoView:l,overwriteTemplate:i,openUpgradePopup:r,onStartAddToFolder:s,showTooltip:c})})}),_=l.ZP.div.withConfig({componentId:"sc-301158ae-0"})(x(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover});var m=t(14861),E=t(47232);let I=e=>{let{resourceInfo:n,children:t,widthType:r,flexGrow:o,overwriteTemplate:i}=e,{value:l,setFalse:s,toggle:c}=(0,u.kt)(!1),{sendActionClickMoreInfoButtonEvent:a}=(0,E.i)(),{user:d}=(0,m.x)(),p=()=>{c(),a({thumbnail_type:n.designResourceType,account_id:null==d?void 0:d.accountId})};return{resourceInfo:n,children:t,isOpenPopover:l,onClickMoreInfoButton:p,closePopover:s,widthType:r,flexGrow:o,overwriteTemplate:i}};function T(){let e=(0,r.Z)(["\n  background-color: ",";\n  box-shadow: ",";\n  padding: 8px;\n  border-radius: 16px;\n"]);return T=function(){return e},e}let C=(0,u.RW)(I,e=>{let{resourceInfo:n,children:t,isOpenPopover:r,onClickMoreInfoButton:l,closePopover:u,widthType:d,flexGrow:p,overwriteTemplate:h}=e;return(0,o.jsx)(s.J,{scrollLock:!0,show:r,closePopOver:u,placement:"right-start",triggerWrapperStyle:w(d,p),anchorElement:i.Children.map(t,e=>i.cloneElement(e,{onClickMore:l})),children:(0,o.jsx)(a.X,{fallback:(0,o.jsx)(v,{children:(0,o.jsx)(c.$,{})}),children:(0,o.jsx)(g,{resourceInfo:n,closeMoreInfoView:u,overwriteTemplate:h,showTooltip:!0})})})}),v=l.ZP.div.withConfig({componentId:"sc-978c2456-0"})(T(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fill",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{height:"100%",width:"fill"===e?"100%":"auto",...n&&{flexShrink:0}}}},287:function(e,n,t){t.d(n,{y:function(){return c}});var r=t(85893),o=t(70779),i=t(13821),l=t(91647);let s=e=>{let{resourceInfo:n,isSelectedItem:t,isTextLocked:r,closeMoreInfoView:o}=e,i=(0,l.O)({resourceInfo:n,isSelectedItem:t,isTextLocked:r});return{addToFolderProps:i,closeMoreInfoView:o}},c=(0,i.RW)(s,e=>{let{addToFolderProps:n,closeMoreInfoView:t}=e;return(0,r.jsx)(o.L,{...n,closePopup:t,width:312,showOnCenter:!1})})},35790:function(e,n,t){t.d(n,{q:function(){return Y}});var r=t(7297),o=t(85893),i=t(88095),l=t(40328),s=t(49161),c=t(44204),a=t(93628),u=t(77397),d=t(87396),p=t(6605),h=t(6562),f=t(2150),x=t(67294),g=t(56656);let _={template:"ACTION_CLICK_TEMPLATE_SEARCH_FILTER_BANNER_UPGRADE_POPUP",video:"ACTION_CLICK_VIDEO_SEARCH_FILTER_BANNER_UPGRADE_POPUP",audio:"ACTION_CLICK_AUDIO_SEARCH_FILTER_BANNER_UPGRADE_POPUP",text:"ACTION_CLICK_TEXT_SEARCH_FILTER_BANNER_UPGRADE_POPUP",background:"ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP",element:"ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP",picture:"ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP",creator:"ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP",data:"ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP",theme:"ACTION_OPEN_UNKNOWN_FLOW_UPGRADE_POPUP"},m=e=>_[e];var E=t(52098),I=t(49471),T=t(19795),C=t(80439),v=t(684);let w=e=>{let{searchCategoryType:n,onSelectKeyword:t,sendSearchEvent:r}=e,{recommendationKeywordList:o}=(0,g.T)(n),{selectedDesignResourceMenu:i}=(0,T.jq)(),{recentKeywordList:l,resetRecentKeyword:s}=(0,v.V)(i),{openUpgradePopup:c}=(0,I.B)(),a=(0,x.useCallback)(()=>{c({detailPath:m(n)})},[c,n]),u=e=>{t(e),null==r||r(E._.RECOMMENDED)},d=e=>{t(e),null==r||r(E._.RECENT)},p=Boolean((null==o?void 0:o.length)||l.length),h=Boolean((null==o?void 0:o.length)&&l.length),f=Boolean(null==o?void 0:o.length),_=l.length>0,w=(0,C.c)(n);return{searchCategoryType:n,onSelectRecommendationKeyword:u,onSelectRecentKeyword:d,recommendationKeywordList:o,recentKeywordList:l,onClickResetRecentKeyword:s,onClickProChangeButton:a,showProUpgradePopover:w,showKeywordWrapper:p,showDividerWrapper:h,showRecommendKeywordView:f,showRecentSearchKeywordListView:_}};var b=t(13821);function R(){let e=(0,r.Z)(["\n  width: 100%;\n"]);return R=function(){return e},e}function j(){let e=(0,r.Z)(["\n  width: 100%;\n"]);return j=function(){return e},e}function y(){let e=(0,r.Z)(["\n  padding: 16px;\n\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return y=function(){return e},e}let O=(0,b.RW)(w,e=>{let{searchCategoryType:n,recommendationKeywordList:t,recentKeywordList:r,onSelectRecommendationKeyword:i,onSelectRecentKeyword:l,onClickResetRecentKeyword:s,onClickProChangeButton:c,showProUpgradePopover:a,showKeywordWrapper:u,showDividerWrapper:x,showRecommendKeywordView:g,showRecentSearchKeywordListView:_}=e;return(0,o.jsxs)(P,{children:[u&&(0,o.jsxs)(D,{children:[g&&(0,o.jsx)(f.Q,{onClickChip:i,recommendationKeywordList:t}),x&&(0,o.jsx)(k,{children:(0,o.jsx)(d.i,{paddingPosition:"all",paddingSize:"M",borderWidth:"thinest"})}),_&&(0,o.jsx)(h.h,{keywordList:r,onClickChip:l,onClickReset:s})]}),a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.i,{paddingPosition:"all",paddingSize:"M",borderWidth:"thinest"}),(0,o.jsx)(p.y,{searchCategoryType:n,onClickProChangeButton:c})]})]})}),P=i.ZP.div.withConfig({componentId:"sc-3e70876d-0"})(R()),k=i.ZP.div.withConfig({componentId:"sc-3e70876d-1"})(j()),D=i.ZP.div.withConfig({componentId:"sc-3e70876d-2"})(y());var A=t(59885),S=t(5782),L=t(99950),N=t(31454),M=t(85192),Z=t(86872);let U=e=>{var n;let{_value:t,filter:r,disabled:o,state:i,renderFilterContent:l,placeholder:s,filterBadgeCountText:c,searchCategoryType:a,onChangeSearchValue:u,isSearchingRecent:d,setIsSearchingRecent:p,sendSearchEvent:h,renderCustomSearchContent:f,...g}=e,_=(0,x.useRef)(null),[m,I]=(0,x.useState)(!1),[T,C]=(0,x.useState)(!1),{value:v,onChangeValue:w,onClear:b,onSelectKeyword:R,onFocus:j,searchByKeyword:y}=(0,M.i)({value:null!=t?t:"",isSearchingRecent:d,onChangeSearchValue:u,setSearchViewVisibility:C,setIsSearchingRecent:p,sendSearchEvent:h}),{targetAutoCompleteKeywordList:O,autoCompleteKeywordIdx:P,setAutoCompleteKeywordIdx:k,getSelectedAutoCompleteKeyword:D}=(0,Z.L)(null!=v?v:""),{sendTemplateSearchFilterButtonEvent:A}=(0,N.YY)(),S=()=>{var e;let n=D(),r=null!==(e=n||v)&&void 0!==e?e:"";y(r,!!r),k(null),r!==t&&(null==h||h(n?E._.RELATED:E._.MANUAL))},L=e=>{R(e),null==h||h(E._.RELATED)},U=()=>{T||A(),I(!0),C(!0)},B=()=>{C(!1),I(!1)},F=null===(n=_.current)||void 0===n?void 0:n.offsetWidth;return{anchorRef:_,openPopover:T,value:v,filter:r,disabled:o,state:i,renderFilterContent:l,showFilter:m,placeholder:s,searchCategoryType:a,filterBadgeCountText:c,onChangeValue:w,onFocus:j,onEnter:S,onClear:b,onClick:j,setOpenPopover:C,onClickFilter:U,onApplyFilter:B,onSelectKeyword:R,onSelectAutoCompleteKeyword:L,setAutoCompleteKeywordIdx:k,targetAutoCompleteKeywordList:O,autoCompleteKeywordIdx:P,anchorWidth:F,sendSearchEvent:h,renderCustomSearchContent:f,inputProps:g}};function B(){let e=(0,r.Z)(["\n  width: 100%;\n"]);return B=function(){return e},e}function F(){let e=(0,r.Z)(["\n  position: relative;\n  width: 100%;\n"]);return F=function(){return e},e}function G(){let e=(0,r.Z)(["\n  width: 100%;\n  padding: 16px;\n"]);return G=function(){return e},e}function W(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  width: ","px;\n  height: 100%;\n\n  background: ",";\n  box-shadow: ",";\n  border-radius: 16px;\n"]);return W=function(){return e},e}let H=(0,L.R)(U,e=>{let{anchorRef:n,value:t,filter:r,renderFilterContent:i,showFilter:s,placeholder:d,openPopover:p,searchCategoryType:h,disabled:f,state:x,filterBadgeCountText:g,onChangeValue:_,onFocus:m,onEnter:E,onClear:I,onClick:T,setOpenPopover:C,onClickFilter:v,onApplyFilter:w,onSelectKeyword:b,setAutoCompleteKeywordIdx:R,onSelectAutoCompleteKeyword:j,targetAutoCompleteKeywordList:y,autoCompleteKeywordIdx:P,anchorWidth:k,sendSearchEvent:D,renderCustomSearchContent:A,inputProps:L}=e;return(0,o.jsx)(V,{children:(0,o.jsx)(l.J,{show:p,closePopOver:()=>C(!1),placement:"bottom-end",offset:4,regardAnchorAsPopoverContents:!0,anchorElement:(0,o.jsx)(z,{ref:n,children:(0,o.jsx)(c.c,{value:t,placeholder:d,filterBadgeText:g,onChangeValue:_,onFocus:m,onClear:I,onEnter:E,onClick:T,onClickFilter:v,useFilter:r,disabled:f,state:x,shouldBlurInputOnClear:!0,...L})}),children:(0,o.jsx)(X,{width:s?u.CO:null!=k?k:0,children:(0,o.jsx)(S.X,{children:s?null==i?void 0:i(w):Boolean(A)?null==A?void 0:A(b):Boolean(t)?Boolean(y.length)&&(0,o.jsx)(K,{children:(0,o.jsx)(a.B,{highlightKeyword:null!=t?t:"",targetAutoCompleteKeywordList:y,onSelectKeyword:j,setAutoCompleteKeywordIdx:R,autoCompleteKeywordIdx:P})}):(0,o.jsx)(O,{searchCategoryType:h,onSelectKeyword:b,sendSearchEvent:D})})})})})}),V=i.ZP.div.withConfig({componentId:"sc-68cf92f9-0"})(B()),z=i.ZP.div.withConfig({componentId:"sc-68cf92f9-1"})(F()),K=i.ZP.div.withConfig({componentId:"sc-68cf92f9-2"})(G()),X=i.ZP.div.withConfig({componentId:"sc-68cf92f9-3"})(W(),e=>{let{width:n}=e;return n},e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),Y=e=>(0,o.jsx)(A.k,{pendingFallback:(0,o.jsx)(s.e,{}),rejectedFallback:()=>(0,o.jsx)(o.Fragment,{}),ignoreError:()=>!1,children:(0,o.jsx)(H,{...e})})},19460:function(e,n,t){t.d(n,{S:function(){return s}});var r=t(7297),o=t(88095),i=t(197);function l(){let e=(0,r.Z)(["\n  ",";\n  background-color: ",";\n"]);return l=function(){return e},e}let s=o.ZP.div.withConfig({componentId:"sc-1efafd88-0"})(l(),i.O,e=>{let{theme:n}=e;return n.token.s_color_background_default})},82577:function(e,n,t){t.d(n,{g:function(){return P}});var r=t(85893),o=t(14753),i=t(94864),l=t(3790),s=t(50270),c=t(19460),a=t(18650),u=t(59114),d=t(60629),p=t(76033),h=t(34873),f=t(67294),x=t(10249),g=t(77397),_=t(50547);let m=()=>{let e=(0,_.P)();return(0,f.useCallback)(n=>{let t=Math.floor(Math.max(e-g.wt,0)/160),r=(0,x.v)(n,e);return{...r,columnCount:r.columnCount+t}},[e])},E=e=>{var n,t,r,o;let{template:i,onSelectTemplate:l,sendTemplateClickEvent:s}=e,c=(0,u.I)(i.idx),a=(0,h.dO)(null==c?void 0:null===(n=c.pageList)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.width,null==c?void 0:null===(r=c.pageList)||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:o.height),f=m(),x=f(null!=a?a:1),{rows:g}=(0,d.W)({template:i,gridListOption:x}),{onClickTemplateItem:_}=(0,p.c)({setSelectedTemplateData:l,searchType:i.showOnlySearchType,sendTemplateClickEvent:s});return{rows:g,gridListOption:x,onClickTemplateItem:_,isFetching:!Boolean(c)}};var I=t(14571),T=t(13821);let C=(0,T.RW)(E,e=>{let{rows:n,gridListOption:t,onClickTemplateItem:o,isFetching:i}=e;return(0,r.jsx)(a.S,{rows:n,isFetching:i,renderRow:e=>{let{contents:n}=e;return n.map(e=>{let{item:n}=e;return(0,r.jsx)(I.J,{thumbnailProps:n.thumbnailProps,imageProps:n.imageProps,onClickItem:()=>o({key:n.thumbnailProps.key,pageIdx:n.thumbnailProps.pageIdx,resourceType:"TEMPLATE",thumbnailType:n.thumbnailProps.thumbnailType,displayType:n.thumbnailProps.resourceInfo.displayType,isPremium:n.thumbnailProps.isPremium,upgradePopupThumbnail:{imageUrl:n.imageProps.thumbnailUrl,videoUrl:n.thumbnailProps.videoUrl},horizontalViewSequence:0,verticalViewSequence:0})},n.thumbnailProps.pageIdx)})},columnGap:t.columnGap,rowGap:t.rowGap})});var v=t(49668),w=t(59885),b=t(34455),R=t(2478),j=t(90376);let y=e=>{let{template:n,onSelectTemplate:t,onClickClose:r,sendTemplateClickEvent:o}=e,i=(0,f.useRef)(null);(0,f.useEffect)(()=>{i.current&&i.current.scrollTo(0,0)},[i,n.idx]);let{overwriteTemplate:l}=(0,j.L)(),s=e=>{l({...e,sendTemplateClickEvent:o})},{targetRef:c,displayText:a,showFloatingButton:u,similarTemplateProps:d,showSimilarTemplateList:p,onClickFloatingButton:h,onClickOverwrite:x,overwriteButtonText:g}=(0,R.o)({scrollRef:i,template:n,overwriteTemplate:s});return{scrollRef:i,targetRef:c,template:n,displayText:a,onClickClose:r,onClickOverwrite:x,onSelectTemplate:t,similarTemplateProps:d,showSimilarTemplateList:p,showFloatingButton:u,onClickFloatingButton:h,overwriteButtonText:g,sendTemplateClickEvent:o}},O=(0,T.RW)(y,e=>{let{scrollRef:n,targetRef:t,displayText:i,template:a,similarTemplateProps:u,showFloatingButton:d,showSimilarTemplateList:p,onClickOverwrite:h,onClickClose:f,onClickFloatingButton:x,onSelectTemplate:g,overwriteButtonText:_,sendTemplateClickEvent:m}=e;return(0,r.jsxs)(c.S,{children:[(0,r.jsx)(b.i,{children:(0,r.jsx)(s.L,{displayText:null!=i?i:"",onClickClose:f,onClickOverwrite:h,overwriteButtonText:_})}),(0,r.jsx)(o.p,{scrollRef:n,children:(0,r.jsxs)(b.i,{children:[(0,r.jsx)(C,{template:a,onSelectTemplate:g,sendTemplateClickEvent:m}),(0,r.jsx)("div",{ref:t,children:p&&(0,r.jsx)(v.$,{targetTemplateIdx:a.idx,scrollRef:n,showCloseButton:!0,setSelectedTemplate:g,similarListProps:u,showOnlySearchType:a.showOnlySearchType})})]})}),d&&(0,r.jsx)(l.m,{onClick:x})]})}),P=e=>(0,r.jsx)(w.k,{pendingFallback:(0,r.jsx)(i.O,{}),rejectedFallback:()=>(0,r.jsx)(r.Fragment,{}),ignoreError:()=>!1,children:(0,r.jsx)(O,{...e})})},14571:function(e,n,t){t.d(n,{J:function(){return _}});var r=t(7297),o=t(85893),i=t(88095),l=t(49604),s=t(67294),c=t(68250),a=t(17195),u=t(29814),d=t(48462),p=t(13821),h=t(82129);let f=e=>{let{...n}=e,t=(0,s.useRef)(null),r=(0,p.XI)(t),[o,i]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i("tablet"===(0,u.l7)())},[]);let l=(0,a.N)(),{setDragResource:f}=(0,h.W)(),{canNotUsePremiumContents:x}=(0,c.j)(),g=(0,s.useCallback)(e=>{var t;let{thumbnailProps:r,imageProps:o}=n,{resourceType:i,key:s,idx:c,externalResource:a,isPremium:u,videoUrl:d}=r,{thumbnailUrl:p}=o;null===(t=e.dataTransfer)||void 0===t||t.clearData(),(async()=>{try{var e;let t={idx:c,resourceKey:String(s),thumbUrl:d||p,thumbRatio:o.width&&o.height?o.width/o.height:1,designResourceType:i,externalResource:a,canUseResource:!await x(u,i),colorDtoList:o.colorDtoList,displayTypes:r.resourceInfo.displayType,repositoryType:"UNICORN",...r.pageIdx&&{templatePageIdx:r.pageIdx,data:{isTemplatePage:!0}}};f(t),l(t),null===(e=n.onDragStart)||void 0===e||e.call(n)}catch(e){console.error(e)}})()},[x,l,n,f]),_=(r||o)&&Boolean(n.onClickMore),m=(0,d.T)(n.thumbnailProps,n.imageProps),E=e=>{var t;e.preventDefault(),null===(t=n.onClickMore)||void 0===t||t.call(n)};return{...n,hoverContainerRef:t,isHover:r,isTablet:o,showMoreButton:_,showPlayStateIcon:r||o,imageProps:{...n.imageProps,thumbnailUrl:m},onDragStart:g,onContextMenu:E}};function x(){let e=(0,r.Z)(["\n      flex-shrink: 0;\n      flex-grow: 1;\n      width: auto;\n    "]);return x=function(){return e},e}function g(){let e=(0,r.Z)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n  ","\n  flex-direction: column;\n  -webkit-touch-callout: none;\n"]);return g=function(){return e},e}let _=(0,p.RW)(f,e=>{let{rowHeight:n,thumbnailProps:t,onClickItem:r,imageProps:i,onClickMore:s,hoverContainerRef:c,showMoreButton:a,showPlayStateIcon:u,isHover:d,isTablet:p,canOverflowContainer:h=!1,wrapperMinWidth:f,wrapperMaxWidth:x,onDragStart:g,onContextMenu:_,draggable:E=!0}=e;return(0,o.jsx)(m,{ref:c,isMasonry:h,draggable:E,onContextMenu:_,onDragStart:g,style:{minWidth:f,maxWidth:x,height:n},children:(0,o.jsx)(l.F,{draggable:E,thumbnailProps:t,imageProps:i,showMoreButton:a,showPlayStateIcon:u,isHover:d,isTablet:p,onClickItem:r,onClickMore:s})})}),m=i.ZP.div.withConfig({componentId:"sc-a0cff454-0"})(g(),e=>{let{isMasonry:n}=e;return n&&(0,i.iv)(x())})},76744:function(e,n,t){t.d(n,{L:function(){return l},p:function(){return s}});var r=t(62838),o=t(35982),i=t(93371);let l={rowHeight:93,rowWidth:296,columnGap:8,rowGap:8,columnCount:3},s=e=>{let{scrollRef:n,selectedTab:t,onClickItem:l,verticalViewSequence:s}=e,c=(0,o.JQ)(),a=(0,i.x)(),u=c.typeList,{elementList:d,loadMore:p,isFetching:h}=(0,r.S)(c,u);return{showTitle:!a&&"CHART"!==t,selectedTab:t,scrollRef:n,list:d,onIntersectBottom:p,onClickItem:l,isFetching:h,verticalViewSequence:s}}},34455:function(e,n,t){t.d(n,{i:function(){return d}});var r=t(7297),o=t(85893),i=t(88095),l=t(13821),s=t(44420);let c=e=>{let{children:n,padding:t}=e,{leftPanelWidth:r}=(0,s.z)();return{leftPanelWidth:r,children:n,padding:t}};var a=t(75883);function u(){let e=(0,r.Z)(["\n  padding: ",";\n  display: flex;\n  flex-direction: column;\n  ",";\n  width: ","px;\n"]);return u=function(){return e},e}let d=(0,l.RW)(c,e=>{let{leftPanelWidth:n,children:t,padding:r}=e;return(0,o.jsx)(p,{width:n,padding:r,children:t})}),p=i.ZP.div.withConfig({componentId:"sc-35f0a534-0"})(u(),e=>{let{padding:n}=e;return null!=n?n:"0 0 24px 24px"},e=>{let{theme:n}=e;return n.mixin.flexRowGap("".concat(a.c,"px"))},e=>{let{width:n}=e;return n-24})},75883:function(e,n,t){t.d(n,{c:function(){return r}});let r=20},47414:function(e,n,t){t.d(n,{n:function(){return x}});var r=t(67294),o=t(4606),i=t(90868),l=t(44074),s=t(59093),c=t(49471),a=t(97169),u=t(19795),d=t(9077),p=t(71618),h=t(75673),f=t(81665);let x=()=>{let{openLoadTemplateModal:e,onCompleteLoadTemplate:n}=(0,f.F)(),{openUpgradePopup:t}=(0,c.B)(),{openSignInModal:x}=(0,a.N)(),{openFreeSubscriptionPopup:g}=(0,h.o)(),{selectedDesignResourceMenu:_}=(0,u.jq)(),{isGuideApplied:m}=(0,i.f)(),{toSimilarTemplateWithoutMovingTemplatePanel:E}=(0,p.s)(),{sendTemplateClickEvent:I}=(0,d.X)(),T=(0,o.S)(),C=(0,r.useCallback)(r=>{var o,i;let{moveSimilarTemplateOnChangeTemplatePage:c,upgradePopupThumbnail:a,templateIdx:u,keywordCategoryName:d,horizontalViewSequence:p}=r,h=()=>{n(),"TEMPLATE"===_&&c&&!m&&E({idx:u,keywordCategoryName:d,horizontalViewSequence:p})};T({...r,displayTypes:null!==(o=r.displayType)&&void 0!==o?o:[],onStartTemplateLoading:e,onEndTemplateLoading:h,openLoginPopup:x,openUpgradePopup:()=>t({enterPoint:s.aS.PREMIUM_TEMPLATE,upgradePopupThumbnail:a,detailPath:l.E.ACTION_USE_PREMIUM_CONTENTS_UPGRADE_POPUP,templateInfo:{templateKey:r.templateIdx.toString(),templatePurpose:r.displayType}}),openFreeSubscriptionPopup:g,sendTemplateClickEvent:null!==(i=r.sendTemplateClickEvent)&&void 0!==i?i:I})},[T,e,x,g,I,n,_,m,E,t]);return{changeTemplatePage:C}}},81665:function(e,n,t){t.d(n,{F:function(){return b}});var r=t(67294),o=t(77098),i=t(8639),l=t(51055),s=t(7297),c=t(85893),a=t(88095),u=t(63657),d=t(30115),p=t(1123),h=t(13821),f=t(91154);let x=e=>{let{onClose:n}=e;return{onClose:n}};function g(){let e=(0,s.Z)(["\n  display: flex;\n  padding: 0px 40px 20px 40px;\n  flex-direction: column;\n  align-items: center;\n  ",";\n  flex: 1 0 0;\n"]);return g=function(){return e},e}function _(){let e=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  align-self: stretch;\n"]);return _=function(){return e},e}function m(){let e=(0,s.Z)(["\n  color: ",";\n  font: ",";\n  text-align: center;\n  white-space: pre-line;\n"]);return m=function(){return e},e}function E(){let e=(0,s.Z)(["\n  display: flex;\n  padding: 20px 32px 40px 32px;\n  justify-content: center;\n  align-items: center;\n  align-self: stretch;\n"]);return E=function(){return e},e}let I=(0,h.RW)(x,e=>{let{translate:n,onClose:t}=e;return(0,c.jsxs)(f.u,{width:"360px",show:!0,closeOnClickBackground:!1,children:[(0,c.jsx)(u.x,{onClickClose:t}),(0,c.jsxs)(f.u.Body,{children:[(0,c.jsxs)(T,{children:[(0,c.jsx)(d.$,{}),(0,c.jsx)(C,{children:(0,c.jsx)(v,{children:"".concat(n("EDITOR.REMAIN_109").split("<br/>").join("\n"))})})]}),(0,c.jsx)(w,{children:(0,c.jsx)(p.Jr,{size:"M",type:"fill",shape:"square",color:"primary",text:n("EDITOR.REMAIN_211"),widthType:"fixed",width:"160px",onClick:t})})]})]})}),T=a.ZP.div.withConfig({componentId:"sc-d4f0ba0f-0"})(g(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("24px")}),C=a.ZP.div.withConfig({componentId:"sc-d4f0ba0f-1"})(_()),v=a.ZP.div.withConfig({componentId:"sc-d4f0ba0f-2"})(m(),e=>{let{theme:n}=e;return n.token.s_color_contents_sub},e=>{let{theme:n}=e;return n.token.s_typography_body_M}),w=a.ZP.div.withConfig({componentId:"sc-d4f0ba0f-3"})(E()),b=()=>{let{openPopup:e,closePopup:n}=(0,l.B)(),t=(0,o.C)(),s=(0,r.useCallback)(()=>{e({component:I,props:{onClose:()=>{n(i.U.LOAD_TEMPLATE),t()}},id:i.U.LOAD_TEMPLATE})},[e,n,t]);return{openLoadTemplateModal:s,onCompleteLoadTemplate:()=>n(i.U.LOAD_TEMPLATE)}}},90376:function(e,n,t){t.d(n,{L:function(){return f}});var r=t(67294),o=t(3086),i=t(70444),l=t(44074),s=t(59093),c=t(49471),a=t(97169),u=t(9077),d=t(75673),p=t(53771),h=t(81665);let f=()=>{let e=(0,i._L)(),{openLoadTemplateModal:n,onCompleteLoadTemplate:t}=(0,h.F)(),{openSignInModal:f}=(0,a.N)(),{openUpgradePopup:x}=(0,c.B)(),{openFreeSubscriptionPopup:g}=(0,d.o)(),_=(0,p.k)(),{sendTemplateClickEvent:m}=(0,u.X)(),E=(0,o.S)(),I=(0,r.useCallback)(r=>{var o,i;let c=()=>{t(),_(e,{triggerType:"APPLY_TEMPLATE",displayType:"DESKTOP",isProductChanged:!1})};E({...r,displayTypes:null!==(o=r.displayType)&&void 0!==o?o:[],onStartTemplateLoading:n,onEndTemplateLoading:c,openLoginPopup:f,openUpgradePopup:()=>x({enterPoint:s.aS.PREMIUM_TEMPLATE,upgradePopupThumbnail:r.upgradePopupThumbnail,detailPath:l.E.ACTION_USE_PREMIUM_CONTENTS_UPGRADE_POPUP,templateInfo:{templateKey:r.templateIdx.toString(),templatePurpose:r.displayType}}),openFreeSubscriptionPopup:g,sendTemplateClickEvent:null!==(i=r.sendTemplateClickEvent)&&void 0!==i?i:m})},[e,t,g,n,_,f,x,E,m]);return{overwriteTemplate:I}}},76033:function(e,n,t){t.d(n,{c:function(){return l}});var r=t(67294),o=t(25948),i=t(47414);let l=e=>{let{setSelectedTemplateData:n,searchType:t,sendTemplateClickEvent:l}=e,{changeTemplatePage:s}=(0,i.n)(),c=(0,r.useCallback)(e=>{(0,o.A)({...e,searchType:t},n,e=>s({...e,sendTemplateClickEvent:l}))},[t,n,s,l]);return{onClickTemplateItem:c}}},83532:function(e,n,t){t.d(n,{JJ:function(){return d},Wy:function(){return c},YK:function(){return u},kp:function(){return s}});var r=t(15103),o=t(48583),i=t(98544);let l=(0,r.cn)(0),s=()=>(0,o.b9)(l),c=()=>(0,i.k)().get(l),a=(0,r.cn)(0),u=()=>(0,o.b9)(a),d=()=>(0,i.k)().get(a)},16700:function(e,n,t){t.d(n,{Q:function(){return f}});var r=t(85893),o=t(71266),i=t(83532),l=t(13821),s=t(69756),c=t(67294),a=t(95200),u=t(33457),d=t(76033),p=t(70569);let h=e=>{let{onClickMore:n,setSelectedTemplateData:t,keywordCategoryType:r,keywordCategoryTypeGroup:o,language:l,templateTypeId:s,templatePurpose:h,carouselHeightOption:f}=e,{onClickTemplateItem:x}=(0,d.c)({setSelectedTemplateData:t}),{carouselHeight:g,thumbnailWrapperMinWidth:_,thumbnailWrapperMaxWidth:m,scrollPercentage:E}=(0,p.D)(f),[I,T]=(0,c.useState)(!0),{keywordCategoryList:C}=(0,a.W)({categoryType:r,entityTypeGroup:o,language:l}),v=(0,c.useMemo)(()=>C.map(e=>e.keywordCategoryTitle),[C]),w=(0,u.B)({keywordCategoryType:r,templateTypeId:s,language:l,keywordCategoryTypeGroup:o,templatePurpose:h}),b=(0,i.YK)();return(0,c.useEffect)(()=>{if(v)return b(v.length),()=>{b(0)}},[v,b]),{queryOption:w,keywordCategoryType:r,keywordCategoryTypeGroup:o,titleList:v,onClickMore:n,onClickItem:x,carouselHeight:g,thumbnailWrapperMinWidth:_,thumbnailWrapperMaxWidth:m,scrollPercentage:E,showCategoryListView:I,setShowCategoryListView:T}},f=(0,l.RW)(h,e=>{let{titleList:n,queryOption:t,keywordCategoryTypeGroup:l,onClickItem:c,onClickMore:a,carouselHeight:u,thumbnailWrapperMinWidth:d,thumbnailWrapperMaxWidth:p,scrollPercentage:h,showCategoryListView:f,setShowCategoryListView:x}=e;return(0,r.jsx)(r.Fragment,{children:f&&(0,r.jsx)(r.Fragment,{children:n.map((e,n)=>(0,r.jsx)(o.y,{title:e,carouselHeight:u,scrollPercentage:h,handleClickMore:()=>null==a?void 0:a(e),children:(0,r.jsx)(s.J,{title:e,queryOption:t,keywordCategoryTypeGroup:l,designResourceTypeList:["TEMPLATE"],onClickItem:c,setShowCategoryListView:x,carouselHeight:u,thumbnailWrapperMinWidth:d,thumbnailWrapperMaxWidth:p,verticalViewSequence:(0,i.Wy)()+n})},e))})})})},87968:function(e,n,t){t.d(n,{q:function(){return x}});var r=t(7297),o=t(85893),i=t(88095),l=t(13821),s=t(67923),c=t(14571),a=t(1068),u=t(37683),d=t(83532),p=t(95303);let h=e=>{let{data:n,isMasonry:t,onClickTemplateItem:r,overwriteTemplate:o}=e,i=(0,d.JJ)()+(0,d.Wy)(),{add:l}=(0,a.x)(),{targetRef:s}=(0,p.S)(()=>{n.contents.forEach(e=>{l(e.item.thumbnailProps.key.toString())}),(0,u.I)({key:i.toString(),value:n.contents.map(e=>({idx:e.item.thumbnailProps.key.toString(),type:"TEMPLATE"}))})});return{data:n,targetRef:s,verticalViewSequence:i,isMasonry:t,onClickTemplateItem:r,overwriteTemplate:o}};function f(){let e=(0,r.Z)(["\n  display: flex;\n  gap: 8px;\n  width: 100%;\n"]);return f=function(){return e},e}let x=(0,l.RW)(h,e=>{let{data:n,targetRef:t,verticalViewSequence:r,onClickTemplateItem:i,overwriteTemplate:l}=e;return(0,o.jsx)(g,{ref:t,children:n.contents.map((e,n)=>{let{item:t,maxWidth:a}=e;return(0,o.jsx)(s.t,{resourceInfo:t.thumbnailProps.resourceInfo,overwriteTemplate:e=>l({...e,verticalViewSequence:r,horizontalViewSequence:t.viewSequence}),children:(0,o.jsx)(c.J,{imageProps:t.imageProps,thumbnailProps:t.thumbnailProps,wrapperMaxWidth:a,onClickItem:()=>i({key:t.thumbnailProps.key,resourceType:"TEMPLATE",thumbnailType:t.thumbnailProps.thumbnailType,displayType:t.thumbnailProps.resourceInfo.displayType,isPremium:t.thumbnailProps.isPremium,upgradePopupThumbnail:{imageUrl:t.imageProps.thumbnailUrl,videoUrl:t.thumbnailProps.videoUrl},horizontalViewSequence:r,verticalViewSequence:t.viewSequence})},t.thumbnailProps.key)},n)})})}),g=i.ZP.div.withConfig({componentId:"sc-1ca0832-0"})(f())},67596:function(e,n,t){t.d(n,{W:function(){return i}});var r=t(44420),o=t(77397);let i=()=>{let{leftPanelWidth:e}=(0,r.z)(),n=Math.max(e,o.wt)-2*o.b;return n}},49668:function(e,n,t){t.d(n,{$:function(){return b}});var r=t(7297),o=t(85893),i=t(88095),l=t(1068),s=t(67294),c=t(27223);let a=e=>{let{scrollRef:n}=e,{send:t}=(0,l.x)();return(0,c.Q)(n,t),(0,o.jsx)(o.Fragment,{})},u=()=>{let{send:e}=(0,l.x)();return(0,s.useEffect)(()=>e,[e]),(0,o.jsx)(o.Fragment,{})},d={ScrollEnd:a,UnMounted:u};var p=t(44950),h=t(35453),f=t(13821),x=t(31454),g=t(71367),_=t(52098),m=t(44618),E=t(28863),I=t(70162),T=t(16648);let C=()=>{let e=(0,g.K)(),{emit:n}=(0,E.x)(),t=(n,t)=>{var r,o,i,l,s,c,a,u;let d=(0,I.To)(),{search_language:p}=(0,T.B)(),h={...e(),...d,search_language:p};return{...h,search_type:h.searchType.toString(),search_status:(0,m.M)(h.keyword),design_page_idx:null===(r=h.design_page_idx)||void 0===r?void 0:r.toString(),design_history_idx:null===(o=h.design_history_idx)||void 0===o?void 0:o.toString(),search_shape:null===(i=h.aspectRatio)||void 0===i?void 0:i.join(", "),search_language:null!==(a=null===(l=h.search_language)||void 0===l?void 0:l.toString())&&void 0!==a?a:"ko",search_template_type:null!==(u=null===(s=h.templateType)||void 0===s?void 0:s.id)&&void 0!==u?u:h.purpose,search_free:null===(c=h.tier)||void 0===c?void 0:c.join(","),view_item_key:n,view_item_type:n.map(()=>"TEMPLATE"),view_load_num:t.toString()}},r=(e,r)=>{n("ACTION_VIEW_TEMPLATE_ITEM",{...t(e,r)})},o=(e,r,o)=>{n("ACTION_VIEW_TEMPLATE_ITEM",{...t(e,r),beginning_template:o.toString(),search_status:_.n.SEARCH,searchType:_._.SIMILAR_TEMPLATE})};return{sendViewTemplateListItemEvent:r,sendViewSimilarTemplateListItemEvent:o}},v=e=>{let{targetTemplateIdx:n,onClose:t,scrollRef:r,showCloseButton:o=!1,setSelectedTemplate:i,similarListProps:l,showOnlySearchType:c}=e,{sendTemplateSearchEventWithoutSetSearchType:a}=(0,x.Lm)(),{sendViewSimilarTemplateListItemEvent:u}=C(),d=(0,s.useCallback)((e,t)=>{u(e,t,n)},[u,n]),p=()=>{null==t||t()};return(0,s.useEffect)(()=>{c===_._.SIMILAR_TEMPLATE&&a({searchType:_._.SIMILAR_TEMPLATE,searchStatus:_.n.SEARCH,targetIdxOfSimilarTemplate:n})},[n]),{scrollRef:r,showCloseButton:o,setSelectedTemplate:i,onClickClose:p,similarListProps:l,sendViewSimilarTemplateListItemEvent:d}};function w(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  gap: 8px;\n"]);return w=function(){return e},e}let b=(0,f.RW)(v,e=>{let{showCloseButton:n,onClickClose:t,scrollRef:r,setSelectedTemplate:i,similarListProps:s,sendViewSimilarTemplateListItemEvent:c}=e;return(0,o.jsx)(R,{children:(0,o.jsxs)(l.C,{callback:c,children:[(0,o.jsx)(d.ScrollEnd,{scrollRef:r}),(0,o.jsx)(d.UnMounted,{}),(0,o.jsx)(p.H,{title:"EDITOR.EDITOR_561",showCloseButton:n,onClickClose:t}),(0,o.jsx)(h.o,{scrollRef:r,setSelectedTemplate:i,recommendListProps:s})]})})}),R=i.ZP.div.withConfig({componentId:"sc-8e2f2a96-0"})(w())},35453:function(e,n,t){t.d(n,{o:function(){return x}});var r=t(85893),o=t(58453),i=t(66346),l=t(28264),s=t(87968),c=t(52098),a=t(31419),u=t(50547),d=t(90376),p=t(76033);let h=e=>{let{scrollRef:n,setSelectedTemplate:t,recommendListProps:r}=e,o=(0,u.P)(),i=e=>{t((null==e?void 0:e.idx)?{idx:e.idx,showOnlySearchType:c._.SIMILAR_TEMPLATE}:null)},{onClickTemplateItem:l}=(0,p.c)({setSelectedTemplateData:i,searchType:c._.SIMILAR_TEMPLATE}),{overwriteTemplate:s}=(0,d.L)(),{gridOption:h,rows:f,overwriteTemplate:x,onClickTemplateItem:g,onIntersectBottom:_}=(0,a.z)({rowWidth:o,onClickTemplateItem:l,overwriteTemplate:s,recommendListProps:r});return{scrollRef:n,gridOption:h,rows:f,isFetching:r.isFetching,overwriteTemplate:x,onClickTemplateItem:g,onIntersectBottom:_}};var f=t(13821);let x=(0,f.RW)(h,e=>{let{translate:n,scrollRef:t,gridOption:c,rows:a,isFetching:u,overwriteTemplate:d,onClickTemplateItem:p,onIntersectBottom:h}=e;return(0,r.jsx)(o.B,{scrollRef:t,rowGap:c.rowGap,columnGap:c.columnGap,rowMaxHeight:c.rowMaxHeight,rows:a,isFetching:u,renderRow:e=>{var n;return(0,r.jsx)(s.q,{data:e,isMasonry:!Boolean(null!==(n=e.contents.length)&&void 0!==n?n:0),onClickTemplateItem:p,overwriteTemplate:d})},onIntersectBottom:h,emptyView:(0,r.jsx)(l.m,{subTitle:n("EDITOR.LEFT_PANEL.TAB_TEMPLATE.LABEL.SEND_OPINION_OR_REQUEST_DESIGN"),inquiryUrl:"https://www.miricanvas.com/s/1659"}),skeletonView:(0,r.jsx)(i.A,{listCount:a.length>0?4:10})})})},24429:function(e,n,t){t.d(n,{BO:function(){return i},Bx:function(){return r},K4:function(){return o},eB:function(){return l},lx:function(){return s},uc:function(){return c}});let r=24,o=312,i=12,l=108,s=88,c=320},91610:function(e,n,t){t.d(n,{k:function(){return nL}});var r=t(7297),o=t(85893),i=t(88095),l=t(67294),s=t(27300);let c=(0,l.createContext)(void 0),a=()=>{let e=(0,l.useContext)(c);if(!e)throw Error("useCurrentSlideView must be used within a CurrentSlideViewProvider");return e},u=e=>{let{children:n}=e,[t,r]=(0,l.useState)(s.d.PALETTE);return(0,o.jsx)(c.Provider,{value:{currentSlide:t,setCurrentSlideView:r},children:n})};var d=t(13821),p=t(87396),h=t(25265),f=t(79730),x=t(25692),g=t(80002),_=t(84564);let m=e=>{let{onColorChangeCommand:n,entry:t,isMultiColor:r,canUseDefaultPalette:o,onChangeColorToSetHex:i}=e,l=window.matchMedia("(hover: none) and (pointer: coarse)").matches,{startEyeDropperMode:s}=(0,_.w)({onColorChangeCommand:n}),{sendClickEventWithEyeDropper:c}=(0,x.$)();return{isTouchableDevice:l,entry:t,startEyeDropperMode:()=>(0,g.Q)(s,c)(void 0),onColorChangeCommand:n,isMultiColor:r,canUseDefaultPalette:o,onChangeColorToSetHex:i}};var E=t(45176),I=t(62113),T=t(74101),C=t(14769),v=t(75355),w=t(55448),b=t(8681);let R=()=>{let e=(0,w.ss)(),{preColor:n}=(0,w.vu)(),{onCheckToSetSameColor:t,canSetSameColor:r,getCanSetSameColor:o,pastColor:i,setPastColor:s,setIsSameColorChangeMode:c}=(0,b.XW)();return(0,l.useEffect)(()=>{s(""),c(!1),o(n)},[o,n,c,s]),{isSelectedColorChanged:e,canSetSameColor:r,pastColor:i,onCheckToSetSameColor:t}},j=(0,d.RW)(R,e=>{let{isSelectedColorChanged:n,canSetSameColor:t,pastColor:r,onCheckToSetSameColor:i,translate:l}=e;return(0,o.jsx)(o.Fragment,{children:n&&t&&(0,o.jsx)(v.J,{state:r?"selected":"unselected",onChange:i,text:l("EDITOR.COLOR_CONTROL_TOOL_TEXT.CHANGE_ALL_SAME_COLORS")})})});function y(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  bottom: 0;\n  width: 100%;\n  background: ",";\n  border-bottom-right-radius: 16px;\n  border-bottom-left-radius: 16px;\n"]);return y=function(){return e},e}function O(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n"]);return O=function(){return e},e}function P(){let e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-direction: row;\n  flex: ",";\n  ",";}\n"]);return P=function(){return e},e}function k(){let e=(0,r.Z)(["\n  position: relative;\n  width: 120px;\n  height: 35px;\n"]);return k=function(){return e},e}function D(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0 24px 14px 24px;\n"]);return D=function(){return e},e}let A=(0,d.RW)(m,e=>{let{isTouchableDevice:n,startEyeDropperMode:t,entry:r,onColorChangeCommand:i,isMultiColor:l,canUseDefaultPalette:s,onChangeColorToSetHex:c}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(S,{children:[(0,o.jsx)(p.i,{paddingSize:"none"}),(0,o.jsxs)(f.e,{height:"72px",padding:"0 24px",children:[(0,o.jsxs)(L,{children:[(0,o.jsx)(E.b,{onColorChangeCommand:i,isMultiColor:l}),(0,o.jsx)(I.h,{onColorChangeCommand:i,isMultiColor:l})]}),(0,o.jsxs)(N,{isTouchableDevice:n,colorType:r,children:["solid"===r&&s&&(0,o.jsxs)(M,{children:[(0,o.jsx)(C.G,{onColorChangeCommand:i,onChangeColorToSetHex:c}),(0,o.jsx)(T.u,{posX:"5.5px",posY:"5.5px"})]}),!n&&s&&(0,o.jsx)(h.h,{iconName:"eyedropper",type:"ghost",color:"neutralLight",size:"SM",onClick:t})]})]}),"solid"===r&&(0,o.jsx)(Z,{children:(0,o.jsx)(j,{})})]})})}),S=i.ZP.div.withConfig({componentId:"sc-30cb5035-0"})(y(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01}),L=i.ZP.div.withConfig({componentId:"sc-30cb5035-1"})(O()),N=i.ZP.div.withConfig({componentId:"sc-30cb5035-2"})(P(),e=>{let{isTouchableDevice:n,colorType:t}=e;return n||"solid"!==t?0:1},e=>{let{theme:n}=e;return n.mixin.flexColGap("8px")}),M=i.ZP.div.withConfig({componentId:"sc-30cb5035-3"})(k()),Z=i.ZP.div.withConfig({componentId:"sc-30cb5035-4"})(D());var U=t(14753),B=t(62509),F=t(37803),G=t(90475),W=t(76262),H=t(1189),V=t(47441);let z=e=>{let{setEntry:n,onColorChangeCommand:t,gradationColorList:r}=e,o=(0,w.H$)(),{setCurrentSlideView:i}=a(),s=(0,l.useRef)(null),[c,u]=(0,l.useState)(!1),{setSelectedColorWithInit:d}=(0,w.pR)(),p=(0,l.useCallback)((e,n)=>{d(n),t(e,n)},[t,d]),h=e=>{u(e)},f=(0,V.c)(),x=(0,W.M0)(),g=(0,G._e)(),{sendClickEventWithGradationColorPicker:_}=(0,H.U)();return{setCurrentSlideView:i,selectedColor:o,gradationColorList:r,setEntry:n,onColorChangeCommand:t,onSelectColor:p,scrollRef:s,isScrollBarVisible:c,setScrollBarVisible:u,isDisabledTextGradation:f&&(x||g),sendClickEventWithGradationColorPicker:_,onScrollVisibleChange:h}};var K=t(65333),X=t(24001),Y=t(25012),J=t(75765);function q(){let e=(0,r.Z)(["\n  display: grid;\n  gap: 8px;\n  grid-template-columns: repeat(7, minmax(32px, 1fr));\n"]);return q=function(){return e},e}let Q=e=>{let{labelText:n,usedGradationColorList:t,selectedColor:r,moveToColorPicker:i,onSelectColor:l,setEntryToGradation:s,sendClickEvent:c}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(K._,{text:n}),(0,o.jsxs)($,{children:[(0,o.jsx)(X.X,{onClick:()=>{i(),s(),c()}}),null==t?void 0:t.map((e,n)=>(0,o.jsx)(Y.v,{color:e,selectEffect:!0,hoverEffect:!0,selected:(0,J.YQ)(e,r),onClick:(e,n)=>{(0,J.YQ)(n,r)&&(i(),s()),l(e,n)}},n))]})]})},$=i.ZP.div.withConfig({componentId:"sc-3fb46e33-0"})(q());var ee=t(20555);function en(){let e=(0,r.Z)(["\n  padding: ",";\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  flex: 1;\n\n  ",";\n\n  & > *:first-child {\n    padding-top: 24px;\n  }\n\n  & > *:last-child {\n    padding-bottom: 24px;\n  }\n"]);return en=function(){return e},e}function et(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return et=function(){return e},e}let er=(0,d.RW)(z,e=>{let{translate:n,setCurrentSlideView:t,selectedColor:r,gradationColorList:i,onColorChangeCommand:l,onSelectColor:c,setEntry:a,scrollRef:u,isScrollBarVisible:d,isDisabledTextGradation:p,onScrollVisibleChange:h,sendClickEventWithGradationColorPicker:f}=e;return p?(0,o.jsx)(ee.c,{}):(0,o.jsx)(U.p,{paddingSize:"M",scrollRef:u,scrollDirection:"vertical",isScrollBarShown:h,children:(0,o.jsxs)(eo,{noRightPadding:d,children:[(0,o.jsx)(ei,{children:(0,o.jsx)(Q,{labelText:n("EDITOR.EDITOR_464"),usedGradationColorList:i,selectedColor:r,setEntryToGradation:()=>a(B.w.GRADATION),onSelectColor:c,moveToColorPicker:()=>t(s.d.COLOR_PICKER),sendClickEvent:f})}),(0,o.jsx)(ei,{children:(0,o.jsx)(F.H,{selectedColor:r,onColorChangeCommand:l})})]})})}),eo=i.ZP.div.withConfig({componentId:"sc-e5f3eb56-0"})(en(),e=>{let{noRightPadding:n}=e;return n?"0 0 0 24px":"0 24px"},e=>{let{theme:n}=e;return n.mixin.flexRowGap("20px")}),ei=i.ZP.div.withConfig({componentId:"sc-e5f3eb56-1"})(et());var el=t(27754),es=t(96749),ec=t(19138),ea=t(14641),eu=t(70955),ed=t(21957);let ep=e=>{let{onColorChangeCommand:n,groupId:t}=e,{setSelectedColorWithInit:r}=(0,w.pR)(),{isSameColorChangeMode:o,onChangeInSameColorChangeMode:i}=(0,b.XW)(),{sendClickEventWithBrandKit:s}=(0,eu.t)(),{brandKitDropdownOpened:c,openBrandKitDropdown:a,closeBrandKitDropdown:u,brandKitList:d,selectedBrandKitValue:p,brandKitPalette:h,changeBrandKit:f}=(0,ed.o)(),{canEditBrandColor:x}=(0,ec.j)(),g=(0,l.useCallback)(()=>{a(),c||s()},[c,a,s]),{goToBrandkit:_}=(0,ea.v)(),m=()=>{_(null==p?void 0:p.idx)},E=(0,l.useCallback)((e,t)=>{o&&i(t),r(t),n(e,t)},[o,i,n,r]);return{onClickColorChip:E,brandKitList:null==d?void 0:d.data,brandKitPalettes:null==h?void 0:h.data,brandKitDropdownOpened:c,onClickBrandKitDropdown:g,closeBrandKitDropdown:u,selectedBrandKitValue:p,changeBrandKit:f,goToBrandKitPage:m,groupId:t,canUseBrandKitEdit:x}};function eh(){let e=(0,r.Z)(["\n  flex-direction: column;\n  border-radius: 16px;\n  background-color: ",";\n  box-shadow: ",";\n  position: relative;\n  overflow: hidden;\n"]);return eh=function(){return e},e}function ef(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return ef=function(){return e},e}let ex=e=>{let{children:n}=e;return(0,o.jsx)(eg,{children:n})},eg=i.ZP.div.withConfig({componentId:"sc-3a4bd1fd-0"})(eh(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),e_=(0,d.RW)(ep,e=>{let{onClickColorChip:n,brandKitDropdownOpened:t,onClickBrandKitDropdown:r,closeBrandKitDropdown:i,brandKitList:l,selectedBrandKitValue:s,changeBrandKit:c,brandKitPalettes:a,goToBrandKitPage:u,groupId:d,canUseBrandKitEdit:p}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(em,{children:(0,o.jsx)(el.q,{brandKits:l,showDropDown:l&&(null==l?void 0:l.length)>0&&!!s,canEdit:p,isOpen:t,open:r,close:i,groupId:d,selectedBrandKitValue:s,onChangeBrandKit:c,goToBrandKitPage:u,ContentsWrapper:ex})}),(0,o.jsx)(es._,{brandKitPalettes:a,onClickColorChip:n})]})}),em=i.ZP.div.withConfig({componentId:"sc-3a4bd1fd-1"})(ef());var eE=t(17502),eI=t(11349);function eT(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return eT=function(){return e},e}function eC(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 8px;\n"]);return eC=function(){return e},e}function ev(){let e=(0,r.Z)(["\n  display: grid;\n  gap: 8px;\n  grid-template-columns: repeat(7, minmax(32px, 1fr));\n"]);return ev=function(){return e},e}let ew=e=>{let{labelText:n,canUseDefaultPalette:t,usedSolidColorList:r,selectedColor:i,moveToColorPicker:l,setEntryToSolid:s,onSelectColor:c,sendClickEvent:a}=e;return(0,o.jsxs)(eb,{children:[(0,o.jsx)(K._,{text:n,widthType:"fill",textOverflow:"ellipsis"}),(0,o.jsx)(eR,{children:(0,o.jsxs)(ej,{children:[t&&(0,o.jsx)(X.X,{onClick:()=>{l(),s(),a()}}),null==r?void 0:r.map((e,n)=>(0,o.jsx)(eI.G,{color:e,selectEffect:t,hoverEffect:t,selected:t&&(null==i?void 0:i.value)===e.value,onClick:(e,n)=>{t&&(null==i?void 0:i.value)===n.value&&(l(),s()),c(e,n)}},n))]})})]})},eb=i.ZP.div.withConfig({componentId:"sc-27bd88af-0"})(eT()),eR=i.ZP.div.withConfig({componentId:"sc-27bd88af-1"})(eC()),ej=i.ZP.div.withConfig({componentId:"sc-27bd88af-2"})(ev());var ey=t(5782),eO=t(14861),eP=t(3801),ek=t(59439);let eD=e=>{let{setEntry:n,onColorChangeCommand:t,groupId:r,canUseDefaultPalette:o,canUseTransparentColor:i,solidColorList:s}=e,c=(0,w.H$)(),{setSelectedColorWithInit:u}=(0,w.pR)(),{sendClickEventWithSolidColorPicker:p}=(0,ek.I)(),{setCurrentSlideView:h}=a(),f=(0,l.useRef)(null),[x,g]=(0,l.useState)(!1),{isSameColorChangeMode:_,onChangeInSameColorChangeMode:m}=(0,b.XW)(),E=(0,eO.x)(),{value:I,setValue:T}=(0,d.kt)(!1);(0,l.useEffect)(()=>{var e,n;T(!(0,eP.Vz)(null===(e=null===(n=E.teamList)||void 0===n?void 0:n.find(e=>e.idx===E.selectedTeamIdx))||void 0===e?void 0:e.plan))},[T,E]);let C=e=>{g(e)},v=(0,l.useCallback)((e,n)=>{_&&m(n),u(n),t(e,n)},[_,m,t,u]);return{isLogin:E.isLogin,isPro:I,canUseDefaultPalette:o,selectedColor:c,solidColorList:s,setEntry:n,onColorChangeCommand:t,onSelectColor:v,setCurrentSlideView:h,groupId:r,scrollRef:f,isScrollBarVisible:x,canUseTransparentColor:i,onScrollVisibleChange:C,sendClickEventWithSolidColorPicker:p}};function eA(){let e=(0,r.Z)(["\n  padding: ",";\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  flex: 1;\n\n  ",";\n\n  & > *:first-child {\n    padding-top: 24px;\n  }\n\n  & > *:last-child {\n    padding-bottom: 24px;\n  }\n"]);return eA=function(){return e},e}function eS(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return eS=function(){return e},e}function eL(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return eL=function(){return e},e}let eN=(0,d.RW)(eD,e=>{let{translate:n,isPro:t,canUseDefaultPalette:r,selectedColor:i,solidColorList:l,setEntry:c,onColorChangeCommand:a,onSelectColor:u,setCurrentSlideView:d,groupId:h,scrollRef:f,isScrollBarVisible:x,onScrollVisibleChange:g,canUseTransparentColor:_,sendClickEventWithSolidColorPicker:m}=e;return(0,o.jsx)(U.p,{paddingSize:"M",scrollRef:f,scrollDirection:"vertical",isScrollBarShown:g,children:(0,o.jsxs)(eM,{noRightPadding:x,children:[(0,o.jsx)(eZ,{children:(0,o.jsx)(ew,{labelText:n("EDITOR.EDITOR_464"),canUseDefaultPalette:r,usedSolidColorList:l,selectedColor:i,setEntryToSolid:()=>c(B.w.SOLID),onSelectColor:u,moveToColorPicker:()=>d(s.d.COLOR_PICKER),sendClickEvent:m})}),(0,o.jsx)(eZ,{children:(0,o.jsx)(eE.O,{selectedColor:i,onColorChangeCommand:a,canUseDefaultPalette:r,canUseTransparentColor:_})}),t&&(0,o.jsxs)(ey.X,{fallback:(0,o.jsx)(o.Fragment,{}),children:[(0,o.jsx)(p.i,{paddingSize:"M",paddingPosition:"all"}),(0,o.jsx)(eU,{children:(0,o.jsx)(e_,{onColorChangeCommand:a,groupId:h})})]})]})})}),eM=i.ZP.div.withConfig({componentId:"sc-16b14e6-0"})(eA(),e=>{let{noRightPadding:n}=e;return n?"0 0 0 24px":"0 24px"},e=>{let{theme:n}=e;return n.mixin.flexRowGap("20px")}),eZ=i.ZP.div.withConfig({componentId:"sc-16b14e6-1"})(eS(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("8px")}),eU=i.ZP.div.withConfig({componentId:"sc-16b14e6-2"})(eL(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("16px")});var eB=t(76514),eF=t(86645),eG=t(38642),eW=t(89080);let eH=e=>{let{entry:n,setEntry:t,closeColorPopup:r,onColorChangeCommand:o,colorType:i,groupId:s,canUseTransparentColor:c,canUseDefaultPalette:a,canUseGradient:u}=e,{canGradient:d,canGetApplyGradient:p}=(0,eF.R)(),h=(0,w.H$)(),{preColor:f}=(0,w.vu)(),{getUsedColorList:x,solidColorList:g,gradientColorList:_}=(0,eG.A)(),[m,E]=(0,l.useState)([]),[I,T]=(0,l.useState)([]);(0,l.useEffect)(()=>{g&&g.length>0&&E(g)},[g]),(0,l.useEffect)(()=>{_&&_.length>0&&T(_)},[_]);let C=(0,l.useCallback)(e=>{t(e)},[t]),v=(0,l.useCallback)(()=>{if(null==h?void 0:h.value){let e=h.value,n=g.filter(n=>n.value!==e);E([h,...n])}if(null==h?void 0:h.gradient){let e=h.gradient,n=_.filter(n=>!(0,eW.Xy)(n.gradient,e));T([h,...n])}},[_,h,g]);return(0,l.useEffect)(()=>{(0,J.YQ)(f,h)||v()},[f,h,v]),(0,l.useEffect)(()=>{p(i)},[p,i]),(0,l.useEffect)(()=>{x()},[x]),{canGradient:u&&d,entry:n,setEntryType:C,closeColorPopup:r,onColorChangeCommand:o,groupId:s,canUseDefaultPalette:a,canUseTransparentColor:c,localSolidList:m,localGradationList:I}};var eV=t(44873),ez=t(35326);let eK=e=>{let{selectedTab:n,onChangeTabItem:t}=e;return{selectedTab:n,onChangeTabItem:t}};function eX(){let e=(0,r.Z)(["\n  padding: 0 24px;\n  height: 40px;\n  border-bottom: 1px solid ",";\n  flex: none;\n"]);return eX=function(){return e},e}let eY=(0,d.RW)(eK,e=>{let{translate:n,selectedTab:t,onChangeTabItem:r}=e;return(0,o.jsx)(eJ,{children:(0,o.jsxs)(eV.O,{selectedTab:t,size:"M",children:[(0,o.jsx)(ez.E,{title:n("EDITOR.LEFT_PANEL.TAB_BACKGROUND.LABEL.SINGLE_COLOR"),id:"solid",state:"solid"===t?"active":"inactive",onClick:()=>r("solid"),size:"M",inactiveBottomLine:!1,widthType:"fill",textOverFlow:"newLine"}),(0,o.jsx)(ez.E,{title:n("EDITOR.LEFT_PANEL.TAB_TEXT.LABEL.GRADATION"),id:"gradation",state:"gradation"===t?"active":"inactive",onClick:()=>r("gradation"),size:"M",inactiveBottomLine:!1,widthType:"fill",textOverFlow:"newLine"})]})})}),eJ=i.ZP.div.withConfig({componentId:"sc-745a2ba3-0"})(eX(),e=>{let{theme:n}=e;return n.token.s_color_border_default});function eq(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 20px;\n  box-sizing: border-box;\n  top: 0;\n  width: 100%;\n  background: ",";\n  border-top-right-radius: 16px;\n  border-top-left-radius: 16px;\n  border-bottom: 1px solid ",";\n  flex: none;\n"]);return eq=function(){return e},e}function eQ(){let e=(0,r.Z)(["\n  font-size: 16px;\n  color: ",";\n  font: ",";\n"]);return eQ=function(){return e},e}function e$(){let e=(0,r.Z)(["\n  cursor: pointer;\n"]);return e$=function(){return e},e}function e0(){let e=(0,r.Z)(["\n  min-height: 10px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n"]);return e0=function(){return e},e}let e1=(0,d.RW)(eH,e=>{let{translate:n,canGradient:t,closeColorPopup:r,onColorChangeCommand:i,entry:l,setEntryType:s,groupId:c,canUseDefaultPalette:a,canUseTransparentColor:u,localSolidList:d,localGradationList:p}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e4,{children:[(0,o.jsx)(e2,{children:n("EDITOR.REMAIN_295")}),(0,o.jsx)(e3,{onClick:r,children:(0,o.jsx)(h.h,{iconName:"close",type:"ghost",color:"neutralLight",shape:"square",size:"S"})})]}),t&&a&&(0,o.jsx)(eY,{selectedTab:l,onChangeTabItem:s}),(0,o.jsx)(e5,{canUseDefaultPalette:a,children:(0,o.jsx)(eB.H,{value:l,caseBy:{solid:(0,o.jsx)(eN,{onColorChangeCommand:i,setEntry:s,groupId:c,canUseDefaultPalette:a,canUseTransparentColor:u,solidColorList:d}),gradation:(0,o.jsx)(er,{onColorChangeCommand:i,setEntry:s,gradationColorList:p})}})})]})}),e4=i.ZP.div.withConfig({componentId:"sc-4901c5ff-0"})(eq(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_color_divider_default}),e2=i.ZP.h2.withConfig({componentId:"sc-4901c5ff-1"})(eQ(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S}),e3=i.ZP.div.withConfig({componentId:"sc-4901c5ff-2"})(e$()),e5=i.ZP.div.withConfig({componentId:"sc-4901c5ff-3"})(e0()),e8=e=>{let{entry:n,setCurrentSlideView:t,closeColorPopup:r,onClickHeaderButton:o}=e,i=()=>{if(void 0!==o){o();return}t()};return{entry:n,closeColorPopup:r,onClickHeaderButton:o,onClickCaretButton:i}};function e7(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 20px;\n  flex: none;\n"]);return e7=function(){return e},e}function e6(){let e=(0,r.Z)(["\n  display: flex;\n"]);return e6=function(){return e},e}function e9(){let e=(0,r.Z)(["\n  cursor: pointer;\n"]);return e9=function(){return e},e}function ne(){let e=(0,r.Z)(["\n  cursor: pointer;\n"]);return ne=function(){return e},e}function nn(){let e=(0,r.Z)(["\n  font-size: 16px;\n  align-self: center;\n  color: ",";\n  font: ",";\n"]);return nn=function(){return e},e}let nt=(0,d.RW)(e8,e=>{let{translate:n,entry:t,closeColorPopup:r,onClickHeaderButton:i,onClickCaretButton:l}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(nr,{children:[(0,o.jsxs)(no,{children:[(t||void 0!==i)&&(0,o.jsx)(nl,{onClick:l,children:(0,o.jsx)(h.h,{iconName:"chevron_left",type:"ghost",color:"neutralLight",shape:"square",size:"S"})}),(0,o.jsx)(ns,{children:n("EDITOR.LEFT_PANEL.TAB_PHOTO.LABEL.DIRECT_ADJUSTMENT")})]}),!t&&(0,o.jsx)(ni,{onClick:r,children:(0,o.jsx)(h.h,{iconName:"close",type:"ghost",color:"neutralLight",shape:"square",size:"S"})})]}),(0,o.jsx)(p.i,{paddingSize:"none"})]})}),nr=i.ZP.div.withConfig({componentId:"sc-ed52ee01-0"})(e7()),no=i.ZP.div.withConfig({componentId:"sc-ed52ee01-1"})(e6()),ni=i.ZP.div.withConfig({componentId:"sc-ed52ee01-2"})(e9()),nl=i.ZP.div.withConfig({componentId:"sc-ed52ee01-3"})(ne()),ns=i.ZP.h2.withConfig({componentId:"sc-ed52ee01-4"})(nn(),e=>{let{theme:n}=e;return n.token.s_color_contents_default},e=>{let{theme:n}=e;return n.token.s_typography_title_S});var nc=t(62180),na=t(29887),nu=t(37856),nd=t(51041),np=t(41286),nh=t(43293);let nf=e=>{let{closeColorPopup:n,entry:t,onColorChangeCommand:r,onClickHeaderButton:o,colorPickerRef:i,onChangeColorToSetHex:s}=e,{setCurrentSlideView:c}=a(),u=(0,W.M0)(),d=(0,G._e)(),p=(0,V.c)();p&&(u||d)&&c("palette");let h=(0,l.useRef)(null),[f,x]=(0,l.useState)(!1),g=(0,nh.H)();return{setCurrentSlideView:c,entry:t,closeColorPopup:n,onChangeColorToSetHex:s,onClickHeaderButton:o,colorPickerRef:i,scrollRef:h,isScrollBarVisible:f,setScrollBarVisible:x,onColorChangeCommand:r,showHelpText:!g}};var nx=t(85011);function ng(){let e=(0,r.Z)(["\n  padding: ",";\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  max-height: 80vh;\n\n  & > *:first-child {\n    margin-top: 24px;\n  }\n  & > *:last-child {\n    padding-bottom: 24px;\n  }\n"]);return ng=function(){return e},e}function n_(){let e=(0,r.Z)(["\n  margin: 16px 0;\n"]);return n_=function(){return e},e}let nm=(0,d.RW)(nf,e=>{let{setCurrentSlideView:n,entry:t,closeColorPopup:r,onChangeColorToSetHex:i,onClickHeaderButton:l,colorPickerRef:c,scrollRef:a,isScrollBarVisible:u,setScrollBarVisible:d,onColorChangeCommand:p,showHelpText:h}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nx.D,{onColorChangeCommand:p}),(0,o.jsx)(nt,{entry:t,setCurrentSlideView:()=>n(s.d.PALETTE),closeColorPopup:r,onClickHeaderButton:l}),(0,o.jsx)(U.p,{paddingSize:"M",scrollRef:a,scrollDirection:"vertical",isScrollBarShown:e=>d(e),children:(0,o.jsxs)(nE,{noRightPadding:u,children:[(0,o.jsx)(nc._,{onChangeColor:i,onColorChangeCommand:p,closeButtonSize:"10"}),(0,o.jsx)(nu.K,{ref:c,onColorChangeCommand:p}),(0,o.jsx)(na.o,{onColorChangeCommand:p}),(0,o.jsx)(np.U,{showHelpText:h,onChangeColor:i,onColorChangeCommand:p}),(0,o.jsx)(nI,{children:(0,o.jsx)(nd.A,{onColorChangeCommand:p})})]})})]})}),nE=i.ZP.div.withConfig({componentId:"sc-bbde4fa3-0"})(ng(),e=>{let{noRightPadding:n}=e;return n?"0 10px 0 24px":"0 24px"}),nI=i.ZP.div.withConfig({componentId:"sc-bbde4fa3-1"})(n_()),nT=e=>{let{closeColorPopup:n,entry:t,onColorChangeCommand:r,onClickHeaderButton:o,colorPickerRef:i}=e,{setCurrentSlideView:s}=a(),c=(0,l.useRef)(null),[u,d]=(0,l.useState)(!1);return{closeColorPopup:n,setCurrentSlideView:s,entry:t,onColorChangeCommand:r,onClickHeaderButton:o,scrollRef:c,isScrollBarVisible:u,setScrollBarVisible:d,colorPickerRef:i}};var nC=t(67625);function nv(){let e=(0,r.Z)(["\n  padding: ",";\n  display: flex;\n  flex-direction: column;\n  max-height: 80vh;\n\n  & > *:first-child {\n    padding-top: 24px;\n  }\n  & > *:last-child {\n    padding-bottom: 24px;\n  }\n"]);return nv=function(){return e},e}let nw=(0,d.RW)(nT,e=>{let{setCurrentSlideView:n,entry:t,onColorChangeCommand:r,closeColorPopup:i,onClickHeaderButton:l,scrollRef:c,isScrollBarVisible:a,setScrollBarVisible:u,colorPickerRef:d}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nt,{entry:t,setCurrentSlideView:()=>n(s.d.PALETTE),closeColorPopup:i,onClickHeaderButton:l}),(0,o.jsx)(U.p,{paddingSize:"M",scrollRef:c,scrollDirection:"vertical",isScrollBarShown:e=>u(e),children:(0,o.jsx)(nb,{noRightPadding:a,children:(0,o.jsx)(nC.P,{ref:d,onColorChangeCommand:r})})})]})}),nb=i.ZP.div.withConfig({componentId:"sc-967ca9ed-0"})(nv(),e=>{let{noRightPadding:n}=e;return n?"0 0 0 24px":"0 24px"});var nR=t(24429),nj=t(48065);let ny=e=>{let{closeColorPopup:n,colorType:t,onColorChangeCommand:r,forcedSlideView:o,groupId:i,isMultiColor:s,onClickHeaderButton:c,isEyeDropperMode:u,canUseTransparentColor:d,initialEntry:p}=e,[h,f]=(0,l.useState)(null!=p?p:B.w.SOLID),{currentSlide:x,setCurrentSlideView:g}=a(),{isEditDefaultColorPaletteEnabled:_,isEditGradationEnabled:m}=(0,nj.yZ)(["EDIT_DEFAULT_COLOR_PALETTE","EDIT_GRADATION"]),E=(0,l.useRef)(null),I=(0,l.useCallback)(e=>{var n;null===(n=E.current)||void 0===n||n.setHex(e)},[]);return o&&g(o),{currentSlide:x,entry:h,setEntry:f,closeColorPopup:n,colorType:t,onColorChangeCommand:r,groupId:i,isMultiColor:s,onClickHeaderButton:c,isEyeDropperMode:u,canUseTransparentColor:d,canUseDefaultPalette:_,canUseGradation:m,colorPickerRef:E,onChangeColorToSetHex:I}};function nO(){let e=(0,r.Z)(["\n  width: ","px;\n  max-height: 80vh;\n\n  display: flex;\n  flex-direction: column;\n  border-radius: 16px;\n  background: ",";\n  box-shadow: ",";\n"]);return nO=function(){return e},e}function nP(){let e=(0,r.Z)(["\n  display: ",";\n  transform: ",";\n  transition: transform 0.3s ease-out;\n\n  flex: 1;\n  overflow-y: hidden;\n  flex-direction: column;\n"]);return nP=function(){return e},e}let nk=(0,d.RW)(ny,e=>{let{currentSlide:n,entry:t,setEntry:r,closeColorPopup:i,colorType:l,onColorChangeCommand:c,groupId:a,isMultiColor:u,onClickHeaderButton:d,canUseTransparentColor:p,canUseDefaultPalette:h,onChangeColorToSetHex:f,colorPickerRef:x,canUseGradation:g}=e;return(0,o.jsxs)(nD,{children:[(0,o.jsx)(eB.H,{value:n,caseBy:{[s.d.PALETTE]:(0,o.jsx)(nA,{active:n===s.d.PALETTE,children:(0,o.jsx)(e1,{entry:t,setEntry:r,closeColorPopup:i,colorType:l,onColorChangeCommand:c,groupId:a,canUseTransparentColor:p,canUseDefaultPalette:h,canUseGradient:g})}),[s.d.COLOR_PICKER]:(0,o.jsx)(nA,{active:n===s.d.COLOR_PICKER,children:(0,o.jsx)(eB.H,{value:t,caseBy:{solid:(0,o.jsx)(nw,{entry:t,onColorChangeCommand:c,closeColorPopup:i,onClickHeaderButton:d,colorPickerRef:x}),gradation:(0,o.jsx)(nm,{entry:t,onColorChangeCommand:c,closeColorPopup:i,onClickHeaderButton:d,onChangeColorToSetHex:f,colorPickerRef:x})}})})}}),(0,o.jsx)(A,{onColorChangeCommand:c,entry:t,isMultiColor:u,canUseDefaultPalette:h,onChangeColorToSetHex:f})]})}),nD=i.ZP.div.withConfig({componentId:"sc-38c47879-0"})(nO(),nR.uc,e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover}),nA=i.ZP.div.withConfig({componentId:"sc-38c47879-1"})(nP(),e=>{let{active:n}=e;return n?"flex":"none"},e=>{let{active:n}=e;return n?"translateX(0)":"translateX(-100%)"});function nS(){let e=(0,r.Z)(["\n  flex-direction: column;\n  background-color: ",";\n  box-shadow: ",";\n  border-radius: 16px;\n  display: ",";\n  max-height: 80vh;\n  overflow-y: hidden;\n"]);return nS=function(){return e},e}let nL=(0,d.RW)(e=>e,e=>{let{closeColorPopup:n,colorType:t,onColorChangeCommand:r,onClickHeaderButton:i,isMultiColor:l,groupId:s,forcedSlideView:c,isEyeDropperMode:a,canUseTransparentColor:d,initialEntry:p}=e;return(0,o.jsx)(u,{children:(0,o.jsx)(nN,{isEyeDropperMode:a,children:(0,o.jsx)(nk,{closeColorPopup:n,colorType:t,onColorChangeCommand:r,onClickHeaderButton:i,isMultiColor:l,groupId:s,forcedSlideView:c,canUseTransparentColor:d,initialEntry:p})})})},!0),nN=i.ZP.div.withConfig({componentId:"sc-64445fe4-0"})(nS(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation01},e=>{let{theme:n}=e;return n.token.s_shadow_popover},e=>{let{isEyeDropperMode:n}=e;return n?"none":"flex"})},10777:function(e,n,t){t.d(n,{a:function(){return c},e:function(){return a}});var r=t(48583),o=t(15103),i=t(98544);let l={isOpen:!1,initialToolInfo:{url:"",toolName:"",toolType:"BACKGROUND_REMOVAL"},itemId:"",initialImageInfo:{url:"",width:0,height:0}},s=(0,o.cn)(l),c=e=>(0,i.k)().get(s).itemId===e&&(0,i.k)().get(s).isOpen,a=()=>{let[e,n]=(0,r.KO)(s),t=e=>{let{initialToolInfo:t,itemId:r,initialImageInfo:o}=e;return n({isOpen:!0,initialToolInfo:t,itemId:r,initialImageInfo:o})},o=()=>n(l);return{photoExtraEditorOpenInfo:e,openPhotoExtraEditor:t,closePhotoExtraEditor:o}}},91904:function(e,n,t){t.d(n,{X:function(){return L}});var r=t(7297),o=t(85893),i=t(88095),l=t(25265),s=t(91154),c=t(13821);let a=e=>{let{onClose:n}=e,t=()=>{n()};return{onCloseEduPlusModal:t}};var u=t(14753),d=t(1123),p=t(19128),h=t(53540),f=t(51055),x=t(43103);let g=()=>{let{closePopup:e}=(0,f.B)(),n=()=>{window.open("https://www.miricanvas.com/s/1721")},t=()=>{(0,x.kQ)("dont_show_eduplus_popup","true",{day:1}),e()};return{descriptionList:[{iconName:"image_twotone",iconColor:"#F5D70A",iconBgColor:"#FEFBE6",title:"SHARED.SHARED_108",description:"SHARED.SHARED_109"},{iconName:"magic_wand",iconColor:"#21AFBF",iconBgColor:"#E9F9FB",title:"SHARED.SHARED_110",description:"SHARED.SHARED_111"}],onClickDetail:n,onClickDoNotShow:t}};function _(){let e=(0,r.Z)(["\n  width: 450px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 40px;\n"]);return _=function(){return e},e}function m(){let e=(0,r.Z)(["\n  h1 {\n    font: ",";\n    color: ",";\n    font-weight: 600;\n    padding-left: 8px;\n  }\n  text-align: start;\n  display: flex;\n  margin-bottom: 24px;\n"]);return m=function(){return e},e}function E(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  ",";\n"]);return E=function(){return e},e}function I(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return I=function(){return e},e}let T=(0,c.RW)(g,e=>{let{translate:n,descriptionList:t,onClickDetail:r,onClickDoNotShow:i}=e;return(0,o.jsxs)(C,{children:[(0,o.jsxs)(u.p,{children:[(0,o.jsx)(v,{children:(0,o.jsx)("h1",{children:n("SHARED.SHARED_106")})}),(0,o.jsx)(w,{children:t.map((e,n)=>(0,o.jsx)(h.F,{...e},n))})]}),(0,o.jsxs)(b,{children:[(0,o.jsx)(d.Jr,{size:"M",type:"fill",color:"primary",shape:"square",text:n("SHARED.POPUP.POPUP.UPGRADE.UPGRADE_INFO.FOOTER.SHOW_MORE"),onClick:r}),(0,o.jsx)(p.A,{color:"neutralLight",size:"M",underline:"none",text:n("SHARED.REMAIN_21"),onClick:i})]})]})}),C=i.ZP.section.withConfig({componentId:"sc-f9ed7695-0"})(_()),v=i.ZP.div.withConfig({componentId:"sc-f9ed7695-1"})(m(),e=>{let{theme:n}=e;return n.token.s_typography_title_XL},e=>{let{theme:n}=e;return n.token.s_color_contents_default}),w=i.ZP.div.withConfig({componentId:"sc-f9ed7695-2"})(E(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("20px")}),b=i.ZP.div.withConfig({componentId:"sc-f9ed7695-3"})(I(),e=>{let{theme:n}=e;return n.mixin.flexRowGap("12px")});var R=t(22013),j=t(58328);function y(){let e=(0,r.Z)(["\n  position: relative;\n  border-top-left-radius: inherit;\n  border-bottom-left-radius: inherit;\n"]);return y=function(){return e},e}function O(){let e=(0,r.Z)(["\n  /** TODO 반응형 처리 */\n  width: ",";\n  border-top-left-radius: inherit;\n  border-bottom-left-radius: inherit;\n  padding: ",";\n  height: 100%;\n  background-color: ",";\n"]);return O=function(){return e},e}let P=()=>(0,o.jsx)(k,{children:(0,o.jsx)(D,{isFull:!1,bgColor:"#F4F4F6",children:(0,o.jsx)(j.h,{imageUrl:"".concat(R.S,"image/popup/edu_plus.svg"),isFull:!1})})}),k=i.ZP.section.withConfig({componentId:"sc-1cac4b4f-0"})(y()),D=i.ZP.div.withConfig({componentId:"sc-1cac4b4f-1"})(O(),e=>{let{isFull:n}=e;return n?"auto":"510px"},e=>{let{isFull:n}=e;return n?"0":"40px"},e=>{let{bgColor:n}=e;return n});function A(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 560px;\n  background-color: ",";\n  border-radius: 16px;\n  box-shadow: 0px 16px 24px 0px rgba(0, 0, 0, 0, 08);\n"]);return A=function(){return e},e}function S(){let e=(0,r.Z)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n"]);return S=function(){return e},e}let L=(0,c.RW)(a,e=>{let{onCloseEduPlusModal:n}=e;return(0,o.jsx)(s.u,{show:!0,closeOnClickBackground:!0,closeModal:n,children:(0,o.jsxs)(N,{children:[(0,o.jsx)(P,{}),(0,o.jsx)(T,{}),(0,o.jsx)(M,{children:(0,o.jsx)(l.h,{iconName:"close",size:"SM",type:"fillLight",color:"neutralLight",shape:"square",onClick:n})})]})})}),N=i.ZP.div.withConfig({componentId:"sc-4fe3c5bf-0"})(A(),e=>{let{theme:n}=e;return n.token.s_color_background_elevation02}),M=i.ZP.div.withConfig({componentId:"sc-4fe3c5bf-1"})(S())},73631:function(e,n,t){t.d(n,{C:function(){return a},Q:function(){return u}});var r=t(15103),o=t(48583),i=t(98544);let l={toolType:"OBJECT_REMOVAL",isPending:!1,requestKey:-1},s=new Map,c=(0,r.cn)(s),a=()=>{var e;let[n,t]=(0,o.KO)(c),r=e=>{let{toolType:n,requestKey:r,itemId:o}=e;t(e=>{let t=new Map(e);return t.set(o,{requestKey:r,toolType:n,isPending:!0}),t})},i=e=>{t(n=>{let t=new Map(n);return t.delete(e),t})},s=e=>{t(n=>{let t=new Map(n),r=t.get(e);return r&&(r.isPending=!1,t.set(e,r)),t})},a=e=>{t(n=>{let t=new Map(n);return t.delete(e),t})},u=e=>{t(n=>{let t=new Map(n);return t.delete(e),t})},d=t=>null!==(e=n.get(t))&&void 0!==e?e:l;return{getResponse:d,onSendRequest:r,onSuccessResult:s,onErrorRequest:i,onCancelRequest:u,onErrorResult:a}},u=e=>(0,i.k)().get(c).get(e)},90491:function(e,n,t){t.d(n,{v:function(){return r}});let r=e=>Boolean(e)}}]);