"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62226],{95417:function(n,e,t){t.d(e,{V:function(){return l}});var r=t(94460);let i=()=>{let{publish:n}=(0,r.j)(),e=(e,t)=>{n("COMMAND_CHANGE_DESIGN_TITLE",{title:e},{onComplete:t})};return{changeDesignTitleCommand:e}};var o=t(55629);let l=()=>{let n=(0,o.NL)(),{changeDesignTitleCommand:e}=i(),t=e=>{n.setQueriesData(["getDesignInfo"],n=>{if(n)return{...n,data:{...n.data,title:e}}})},r=n=>{e(n,()=>{t(n)})};return{changeDesignTitle:r}}},44821:function(n,e,t){t.d(e,{T:function(){return l}});var r=t(733),i=t(51497),o=t(22678);let l=(n,e)=>(0,o.N)(i.a.getDesignHistoryListInfinite(n,e),async t=>{let{pageParam:i=1}=t,o=await (0,r.getDesignHistoryList)(n,{...e,page:i});return{...o,pageParam:i}},{enabled:!!n,staleTime:0,getNextPageParam:n=>{if(n.data&&0!==n.data.list.length)return n.pageParam+1}})},20676:function(n,e,t){t.d(e,{z:function(){return o}});var r=t(733),i=t(55629);let o=(n,e)=>{let t=(0,i.Db)(t=>(0,r.copyDesignHistory)(String(n),e,t)),o=(0,i.Db)(t=>(0,r.overwriteDesignWithDesignHistory)(n,e,t));return{copyDesignHistoryMutation:t,overwriteDesignWithDesignHistoryMutation:o}}},75815:function(n,e,t){t.d(e,{c:function(){return o}});var r=t(14861),i=t(67835);let o=()=>{let{selectedTeamIdx:n}=(0,r.x)(),{data:e}=(0,i.$A)(n),t=null==e?void 0:e.data.planInfo.find(n=>"DESIGN_HISTORY"===n.type);if((null==t?void 0:t.type)==="DESIGN_HISTORY"){let{recoverable:n,copyable:e}=t.restriction;return{canRestore:n,canCopy:e}}return{canRestore:!1,canCopy:!1}}},83671:function(n,e,t){t.d(e,{b:function(){return o}});var r=t(67294),i=t(94460);let o=n=>{let{publish:e}=(0,i.j)();return(0,r.useCallback)(t=>new Promise((r,i)=>{e(n,t,{onComplete:r,onError:i})}),[e,n])}},70094:function(n,e,t){t.d(e,{s:function(){return l}});var r=t(15103),i=t(48583);let o=(0,r.cn)(new Map),l=()=>{var n;let[e,t]=(0,i.KO)(o),r=n=>e.has(n),l=t=>null!==(n=e.get(t))&&void 0!==n?n:[],E=(n,r)=>{let i=e.set(n,r);t(new Map([...i]))};return{thumbnailMap:e,isCachedKey:r,getThumbnailList:l,setThumbnailList:E}}},4741:function(n,e,t){t.d(e,{O:function(){return d}});var r=t(15103),i=t(48583),o=t(91196);let l=(0,r.cn)(!1),E=(0,r.cn)(!1),_=(0,r.cn)(!1),u=(0,r.cn)(o.bt),c=(0,r.cn)(o.ue),s=(0,r.cn)(o.ue),a=(0,r.cn)(o.ue),d=()=>{let[n,e]=(0,i.KO)(l),[t,r]=(0,i.KO)(E),[d,I]=(0,i.KO)(_),[T,D]=(0,i.KO)(u),[R,A]=(0,i.KO)(c),[f,O]=(0,i.KO)(s),[N,p]=(0,i.KO)(a),x=n=>D(n?o.J1:o.bt),C=n=>A(n?o.Qx:o.ue),h=n=>O(n?o.Qx:o.ue),g=n=>p(n?o.Qx:o.ue);return{isFloatingButtonVisible:n,setIsFloatingButtonVisible:e,isGuidelineLock:t,setIsGuidelineLock:r,isGuidelineVisible:d,setIsGuidelineVisible:I,isDarkTheme:T===o.J1,updateTheme:x,isLayerVisible:R===o.Qx,updateLayerVisible:C,isRulerVisible:f===o.Qx,updateRulerVisible:h,isSnapGuideVisible:N===o.Qx,updateSnapGuideVisible:g}}},20521:function(n,e,t){t.d(e,{p:function(){return s}});var r=t(67294),i=t(83671),o=t(15103),l=t(48583),E=t(48065);let _=(0,o.cn)(!1),u=(0,o.cn)(n=>!n(E.DA).has("BORDER_IN_GROUP")&&n(_)),c=()=>{let n=(0,l.Dv)(u),e=(0,l.b9)(_);return{showBorderInGroup:n,setShowBorderInGroup:e}},s=()=>{let{showBorderInGroup:n,setShowBorderInGroup:e}=c(),t=(0,i.b)("COMMAND_SET_SHOW_BORDER_IN_GROUP"),o=(0,r.useCallback)(()=>{let r=!n;t({value:r}).then(()=>{e(r)})},[t,n,e]);return{showBorderInGroup:n,toggleBorderInGroup:o}}},82880:function(n,e,t){t.d(e,{L:function(){return a}});var r=t(67294),i=t(83671),o=t(15103),l=t(48583),E=t(48065),_=t(90868);let u=(0,o.cn)(!0),c=(0,o.cn)(n=>n(_.B)&&!n(E.DA).has("PRINT_SAFETY_GUIDE")&&n(u));c.debugLabel="showPrintSafetyGuideAtom";let s=()=>{let n=(0,l.Dv)(c),e=(0,l.b9)(u);return{showPrintSafetyGuide:n,setShowPrintSafetyGuide:e}},a=()=>{let{showPrintSafetyGuide:n,setShowPrintSafetyGuide:e}=s(),t=(0,i.b)("COMMAND_SET_SHOW_PRINT_SAFETY_GUIDE"),o=(0,r.useCallback)(()=>{let r=!n;t({value:r}).then(()=>{e(r)})},[t,n,e]);return{showPrintSafetyGuide:n,togglePrintSafetyGuide:o}}},69973:function(n,e,t){t.d(e,{P:function(){return o}});var r=t(67294),i=t(28863);let o=()=>{let{emit:n}=(0,i.x)(),e=(0,r.useCallback)(e=>{n(e,void 0)},[n]);return{sendNoParameterButtonClickEvent:e}}},94641:function(n,e,t){t.d(e,{B:function(){return r},m:function(){return i}});let r=128,i={EMPTY:"디자인 제목을 입력해주세요.",LONG_LENGTH:"제목은 최대 ".concat(r,"자까지 가능합니다."),VALID:""}},81709:function(n,e,t){t.d(e,{PV:function(){return _}});var r=t(85893),i=t(41978),o=t(95135);let l={INREVIEW:"SHARED.MAIN.REQUESTED_DESIGN.TABLE_FILTER.INREVIEW",APPROVED:"EDITOR.REMAIN_321",REJECTED:"EDITOR.REMAIN_320"},E={INREVIEW:"blue",APPROVED:"primary",REJECTED:"red"},_=n=>{let{draftStatus:e,approvalCount:t,decisionCount:_}=n,{translate:u}=(0,o.$G)();return"CANCELED"===e||"NOTREADY"===e?(0,r.jsx)(r.Fragment,{}):"INREVIEW"===e&&null!==t&&null!==_?(0,r.jsx)(i.I,{text:u("EDITOR.REMAIN_317",{approvalCount:t,decisionCount:_}),color:E[e],size:"M",type:"fillLight"}):(0,r.jsx)(i.I,{text:u(l[e]),color:E[e],size:"M",type:"fillLight"})}},66375:function(n,e,t){t.d(e,{w:function(){return _}});var r=t(67294),i=t(83671),o=t(95135),l=t(32678),E=t(34298);let _=()=>{let{isSaveInProgress:n}=(0,l.r)(),{openPrintoutPanel:e}=(0,E.K)(),{translate:t}=(0,o.$G)(),_=(0,i.b)("COMMAND_SAVE_BIZHOWS_DESIGN"),u=(0,r.useCallback)(()=>{n||_({title:t("EDITOR.DESIGN.DEFAULT_TITLE")})},[n,_,t]);return{onClickDesignSave:u,onClickAddToCart:e,onClickUpdateDone:e}}},79584:function(n,e,t){t.d(e,{m:function(){return I}});var r=t(7297),i=t(85893),o=t(98964),l=t(88095),E=t(54692);let _=()=>(0,i.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("g",{id:"user",children:(0,i.jsxs)("g",{clipPath:"url(#clip0_11594_2)",children:[(0,i.jsx)("rect",{width:"48",height:"48",rx:"24",fill:"#5A6577",fillOpacity:"0.15"}),(0,i.jsx)("circle",{id:"Ellipse 1",opacity:"0.8",cx:"24.0001",cy:"18",r:"8.4",fill:"white"}),(0,i.jsx)("circle",{id:"Ellipse 2",opacity:"0.8",cx:"24.0001",cy:"45.6",r:"16.8",fill:"white"})]})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_11594_2",children:(0,i.jsx)("rect",{width:"48",height:"48",rx:"24",fill:"white"})})})]});function u(){let n=(0,r.Z)(["\n      background-image: url(",");\n      background-size: contain;\n    "]);return u=function(){return n},n}function c(){let n=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  min-width: ",";\n  align-items: center;\n  width: ",";\n  height: ",";\n\n  border-radius: ",";\n  background-color: ",";\n  ","\n\n  color: ",";\n  font: ",";\n\n  cursor: ",";\n"]);return c=function(){return n},n}function s(){let n=(0,r.Z)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 18px;\n  height: 18px;\n\n  border-radius: 50%;\n  border: 1px solid ",";\n  background-color: ",";\n"]);return s=function(){return n},n}function a(){let n=(0,r.Z)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 18px;\n  height: 18px;\n\n  font: ",";\n\n  border-radius: 50%;\n  border: 1px solid ",";\n  background-color: ",";\n"]);return a=function(){return n},n}function d(){let n=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: ",";\n  width: ",";\n  height: ",";\n  padding: 10px;\n\n  border-radius: ",";\n  background-color: ",";\n"]);return d=function(){return n},n}let I=n=>{let{state:e="default",type:t="text",shape:r="circle",size:u="M",showBadge:c=!0,text:s,onClick:a,color:d,number:I,profileImageUrl:f}=n,O=(0,l.Fg)();return(0,i.jsxs)(T,{onClick:()=>"empty"!==t&&(null==a?void 0:a()),state:e,type:t,shape:r,size:(0,o.EQ)(u).with("L",()=>"48px").with("M",()=>"40px").with("XS",()=>"24px").otherwise(()=>"40px"),showBadge:c,color:d,profileImageUrl:f,children:["empty"===t?(0,i.jsx)(_,{}):f?"":s,"check"===e&&(0,i.jsx)(D,{children:(0,i.jsx)(E.J,{width:"12px",height:"12px",color:O.token.s_color_background_default,iconName:"check_2px"})}),"number"===e&&I&&(0,i.jsx)(R,{children:I}),"lock"===e&&(0,i.jsx)(A,{size:u,shape:r,children:(0,i.jsx)(E.J,{width:"20px",height:"20px",color:O.token.s_color_static_white_basic,iconName:"lock"})})]})},T=l.ZP.div.withConfig({componentId:"sc-ad0b1972-0"})(c(),n=>{let{size:e}=n;return e},n=>{let{size:e}=n;return e},n=>{let{size:e}=n;return e},n=>{let{shape:e}=n;return"circle"===e?"50%":"4px"},n=>{let{theme:e,type:t,color:r,profileImageUrl:i}=n;return"empty"===t||i?"none":null!=r?r:e.token.s_color_visualization_default_purple},n=>{let{profileImageUrl:e}=n;return e&&(0,l.iv)(u(),e)},n=>{let{theme:e}=n;return e.token.s_color_static_white_basic},n=>{let{theme:e}=n;return e.token.s_typography_label_medium_M},n=>{let{type:e}=n;return"empty"===e?"default":"pointer"}),D=l.ZP.div.withConfig({componentId:"sc-ad0b1972-1"})(s(),n=>{let{theme:e}=n;return e.token.s_color_background_default},n=>{let{theme:e}=n;return e.token.s_color_brand_primary_light}),R=l.ZP.div.withConfig({componentId:"sc-ad0b1972-2"})(a(),n=>{let{theme:e}=n;return e.token.s_typography_label_semiBold_2XS},n=>{let{theme:e}=n;return e.token.s_color_background_default},n=>{let{theme:e}=n;return e.token.s_color_surface_darkness}),A=l.ZP.div.withConfig({componentId:"sc-ad0b1972-3"})(d(),n=>{let{size:e}=n;return e},n=>{let{size:e}=n;return e},n=>{let{size:e}=n;return e},n=>{let{shape:e}=n;return"circle"===e?"50%":"4px"},n=>{let{theme:e}=n;return e.token.s_color_surface_medium})},78576:function(n,e,t){t.d(e,{I:function(){return s}});var r=t(85893),i=t(13821),o=t(79584),l=t(67294),E=t(14861),_=t(96434),u=t(89080);let c=n=>{var e,t,r;let{selectedTeamIdx:i,teamList:o}=(0,E.x)();if((0,u.o8)(i))throw Error("Error: ProfileIconViewtsx - selectedTeamIdx is undefined");let c=(0,l.useMemo)(()=>null==o?void 0:o.find(n=>n.idx===i),[i,o]),s=(0,l.useMemo)(()=>null==c?void 0:c.name.substring(0,2),[c]),a=(0,l.useMemo)(()=>null!==(t=_.R[i])&&void 0!==t?t:_.F[i%_.F.length],[i]),d=null!==(r=null===(e=n.text)||void 0===e?void 0:e.substring(0,2))&&void 0!==r?r:s;return{...n,selectedTeamColor:a,text:d}},s=(0,i.RW)(c,n=>(0,r.jsx)(o.m,{...n,color:n.selectedTeamColor}))},63677:function(n,e,t){t.d(e,{G:function(){return C}});var r=t(51055),i=t(7297),o=t(85893),l=t(88095),E=t(94771),_=t(91154),u=t(13821),c=t(44578),s=t(32678);let a=n=>{let{callback:e,onClose:t}=n,{saveDesign:r}=(0,c.t)(),{setIgnoreUnsavedDesignChanges:i}=(0,s.r)(),o=()=>{r({designSaveTrace:"BEFORE_LEAVE_PAGE",isAutoSaved:!1,onSuccess:e}),t()},l=()=>{i(!0),e()};return{onClose:t,handleSaveAndLeave:o,handleLeaveWithoutSave:l}};function d(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n  padding: 0 32px 40px;\n"]);return d=function(){return n},n}function I(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n"]);return I=function(){return n},n}function T(){let n=(0,i.Z)(["\n  color: ",";\n  font: ",";\n"]);return T=function(){return n},n}function D(){let n=(0,i.Z)(["\n  color: ",";\n  font: ",";\n  text-align: center;\n  white-space: pre-wrap;\n"]);return D=function(){return n},n}function R(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return R=function(){return n},n}let A=(0,u.RW)(a,n=>{let{translate:e,onClose:t,handleLeaveWithoutSave:r,handleSaveAndLeave:i}=n;return(0,o.jsxs)(_.u,{show:!0,width:"480px",children:[(0,o.jsx)(_.u.Header,{onClickClose:t}),(0,o.jsxs)(f,{children:[(0,o.jsxs)(O,{children:[(0,o.jsx)(N,{children:e("EDITOR.EDITOR_394")}),(0,o.jsx)(p,{children:e("EDITOR.POPUP.POPUP.BEFORE_LEAVE_PAGE.TITLE")})]}),(0,o.jsxs)(x,{children:[(0,o.jsx)(E.zx,{size:"M",type:"fill",color:"primary",shape:"square",onClick:i,children:e("EDITOR.POPUP.POPUP.BEFORE_LEAVE_PAGE.ACTION.SAVE_AND_LEAVE")}),(0,o.jsx)(E.zx,{size:"M",type:"fillLight",color:"neutralDeep",shape:"square",onClick:r,children:e("EDITOR.POPUP.POPUP.BEFORE_LEAVE_PAGE.ACTION.LEAVE")})]})]})]})}),f=l.ZP.div.withConfig({componentId:"sc-49c0d4e2-0"})(d()),O=l.ZP.div.withConfig({componentId:"sc-49c0d4e2-1"})(I()),N=l.ZP.h1.withConfig({componentId:"sc-49c0d4e2-2"})(T(),n=>{let{theme:e}=n;return e.token.s_color_contents_default},n=>{let{theme:e}=n;return e.token.s_typography_title_L}),p=l.ZP.h2.withConfig({componentId:"sc-49c0d4e2-3"})(D(),n=>{let{theme:e}=n;return e.token.s_color_contents_sub},n=>{let{theme:e}=n;return e.token.s_typography_body_M}),x=l.ZP.div.withConfig({componentId:"sc-49c0d4e2-4"})(R()),C=n=>{let{hasUnSavedDesignChanges:e}=(0,s.r)(),{openPopup:t,closePopup:i}=(0,r.B)(),o=()=>{t({component:A,props:{callback:n,onClose:i}})},l=()=>{if(e){o();return}n()};return l}},27674:function(n,e,t){t.d(e,{V:function(){return d}});var r=t(67294),i=t(34371),o=t(52046),l=t(44691),E=t(14861),_=t(57512),u=t(29814),c=t(95135),s=t(44578),a=t(32678);let d=n=>{let{openSignInModal:e}=n,{hasUnSavedDesignChanges:t}=(0,a.r)(),{saveDesign:d}=(0,s.t)(),{designIdx:I=0}=(0,l.R)(),{selectedTeamIdx:T=0}=(0,E.x)(),{translate:D}=(0,c.$G)(),{isLogin:R}=(0,E.x)(),[A,f]=(0,r.useState)(),{data:O}=(0,i.D)(I,T),{MOCK_MY_DRIVE:N}=(0,_.S)();(0,r.useEffect)(()=>{var n;O&&f(null!==(n=O.data.parentFolder)&&void 0!==n?n:N)},[O,N]);let p=(0,r.useCallback)(()=>{if(!(I>0))throw Error("디자인 복사 요청 실패 : ".concat(I));let n=(null==A?void 0:A.id)||"0";(0,u.vp)()?window.location.replace((0,o.C3)(I,T,n)):window.open((0,o.C3)(I,T,n))},[I,null==A?void 0:A.id,T]),x=(0,r.useCallback)(()=>{if(!R){e();return}if(!I||t){alert(D("EDITOR.EDITOR_133")),d({designSaveTrace:"BEFORE_COPY",isAutoSaved:!1});return}try{p()}catch(n){console.error("사본 만들기 에러",n)}},[I,t,R,p,e,d,D]);return{createDesignCopy:x}}},62657:function(n,e,t){t.d(e,{T:function(){return c}});var r=t(44691),i=t(95135),o=t(15093),l=t(44074),E=t(47111),_=t(66370),u=t(69523);let c=n=>{var e;let{history:t,closeDesignHistory:c,onSuccessRestore:s}=n,{translate:a}=(0,i.$G)(),{currentLanguage:d}=(0,o.U)(),{designIdx:I}=(0,r.R)(),{autoSaved:T,restoredSourceDesignHistoryCreatedDate:D}=t,R=!!D,A=R?(e=new Date(D),a("EDITOR.REMAIN_114",{createdDateFormattedString:(0,u.Yq)(new Date(e),d)})):a(T?"EDITOR.HEADER_BAR.SETTING.AUTO_SAVE":"EDITOR.REMAIN_116"),{onClickRestore:f}=(0,_.x)({designIdx:I,selectedHistory:t,closeDesignHistory:c,onSuccessRestore:s}),{onClickCopy:O}=(0,E.W)(I,t,c);return{displayDateString:A,saveMode:R?"restored":T?"auto":"manual",onClickRestore:()=>f(l.E.ACTION_REVERT_DESIGN_INDIVIDUAL_VERSION_UPGRADE_POPUP),onClickCopy:O}}},43727:function(n,e,t){t.d(e,{w:function(){return x}});var r=t(48065),i=t(14861),o=t(67835),l=t(70444),E=t(43293),_=t(90868),u=t(97156);let c=[u.b_.PRINT_SAFETY_GUIDE],s=[u.b_.BORDER_IN_GROUP],a={NEW:[u.b_.DESIGN_SAVE,u.b_.ADD_TO_CART],UPDATE:[u.b_.UPDATE_DONE]},d=()=>{let{isGuideApplied:n}=(0,_.f)(),e=(0,E.H)(),t=(0,l._L)(),r=e=>!!n||!c.includes(e),i=n=>{if(e){let e="NEW"===t.mode?"UPDATE":"NEW";return!a[e].includes(n)}return!s.includes(n)&&!a.NEW.includes(n)&&!a.UPDATE.includes(n)};return{filterPrintoutGuideMenuTypeList:r,filterPrintoutEditorMenuTypeList:i}};var I=t(27948);let T=n=>({menuId:n,iconName:u.fk[n],name:u.zw[n],shortCut:u.is[n],hasChild:u.vi.includes(n),useToggle:u.D_.includes(n)}),D={DESIGN_MANAGEMENT:"EDITOR.EDITOR_198",ADVANCED_FEATURE:"EDITOR.EDITOR_199",PREFERENCE_SETTING:"EDITOR.EDITOR_200"},R={DESIGN_MANAGEMENT:u.s2,ADVANCED_FEATURE:u.OF,PREFERENCE_SETTING:u.qF},A=(n,e)=>{let t=R[n],r=e.filter(n=>t.includes(n.menuId));return{name:D[n],groupId:n,menuList:r}},f=["DESIGN_MANAGEMENT","ADVANCED_FEATURE","PREFERENCE_SETTING"],O=[u.b_.AUTO_SAVE,u.b_.DESIGN_APPROVAL,u.b_.CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE],N=[u.b_.AUTO_SAVE,u.b_.DESIGN_HISTORY,u.b_.DESIGN_APPROVAL,u.b_.GUIDE_LINE_SETTING,u.b_.PRINT_SAFETY_GUIDE,u.b_.LAYER_ORDER,u.b_.PAGE_NUMBER,u.b_.TEXT_FIND_AND_REPLACE,u.b_.QUICK_EDIT_TOOL],p=["AUTO_SAVE","BORDER_IN_GROUP","CREATE_NEW_DESIGN","CREATE_DESIGN_COPY","DESIGN_APPROVAL","DESIGN_HISTORY","EDIT_GUIDELINE","FEEDBACK","HELP","LANGUAGE","PAGE_NUMBER","PRINT_SAFETY_GUIDE"],x=()=>{let{isLogin:n,selectedTeamIdx:e}=(0,i.x)(),{data:t}=(0,o.$A)(e),l=(0,r.yZ)(p),{filterPrintoutGuideMenuTypeList:E,filterPrintoutEditorMenuTypeList:_}=d(),{isDesignEditableMode:c}=(0,I.$H)(),s=e=>!!n||!O.includes(e),a=n=>!0,D=n=>!!c||!N.includes(n),R=n=>{var e,r;return"DESIGN_APPROVAL"!==n||null!==(r=null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.useDraft)&&void 0!==r&&r},x=n=>n.filter(s).filter(E).filter(_).filter(a).filter(D).filter(R).filter(n=>{let e=u.fS[n];return void 0===e||l[(0,r.cy)(e)]}),C=()=>{let n=[...u.a_];return x(n)},h=()=>{let n=C().map(n=>T(n)),e=[...f],t=e.map(e=>A(e,n));return t};return{getGroupList:h}}},14262:function(n,e,t){t.d(e,{A:function(){return I}});var r=t(67294),i=t(94460);let o=()=>{let{publish:n}=(0,i.j)(),e=(0,r.useCallback)(e=>{n("COMMAND_SET_EDITING_TOOLBAR_VISIBILITY",e)},[n]);return{onChangeEditingToolbarVisibility:e}};var l=t(4741),E=t(10179),_=t(20521),u=t(82880),c=t(69973),s=t(32649),a=t(97156);let d=n=>a.SE[n],I=n=>{let{sendNoParameterButtonClickEvent:e}=(0,c.P)(),{updateEditorConfigKeyByUIStateIfLogin:t,isActiveConfig:a,isLogin:I}=(0,E.I)(),T=d(n.menuId),{isLayerVisible:D,isDarkTheme:R,isFloatingButtonVisible:A,updateLayerVisible:f,updateTheme:O,setIsFloatingButtonVisible:N}=(0,l.O)(),{onChangeEditingToolbarVisibility:p}=o(),{showPrintSafetyGuide:x}=(0,u.L)(),{showBorderInGroup:C}=(0,_.p)(),{setDarkMode:h,setLightMode:g}=(0,s.v)(),{publish:G}=(0,i.j)(),m=(0,r.useMemo)(()=>{if(n.useToggle){if("PRINT_SAFETY_GUIDE"===n.menuId)return x;if("BORDER_IN_GROUP"===n.menuId)return C;if(I)return a(T);if(!I)switch(n.menuId){case"LAYER_ORDER":return D;case"QUICK_EDIT_TOOL":return A;case"THEME":return R}}},[T,a,R,A,D,I,x,C,n]),P=(0,r.useCallback)(()=>{if(n.useToggle&&(I&&t(T,!m),!I))switch(n.menuId){case"LAYER_ORDER":f(!D);return;case"THEME":O(!R);return}},[T,R,D,I,m,t,f,O,n]),S=(0,r.useCallback)(()=>{I&&t(T,!m),I||O(!R),G("COMMAND_SET_EDITOR_THEME",{value:m?"DEFAULT":"BLACK"}),m?g():(h(),e("ACTION_CLICK_DARK_MODE_ACTIVE_BUTTON"))},[T,R,I,m,G,e,h,g,t,O]),L=()=>{e("ACTION_CLICK_MAIN_MENU_HELP_BUTTON"),G("COMMAND_OPEN_HELP_CENTER",{})};return{isToggleUIActive:m,sendNoParameterButtonClickEvent:e,toggleMainMenuItem:P,updateEditorConfigKeyByUIStateIfLogin:t,isLogin:I,editorConfigKey:T,setIsFloatingButtonVisible:N,onChangeEditingToolbarVisibility:p,onChangeTheme:S,onClickHelpCenter:L}}},97156:function(n,e,t){t.d(e,{D_:function(){return a},OF:function(){return i},SE:function(){return d},a_:function(){return l},b_:function(){return E},fS:function(){return u},fk:function(){return _},is:function(){return s},qF:function(){return o},s2:function(){return r},vi:function(){return I},zw:function(){return c}});let r=["CREATE_NEW_DESIGN","CREATE_DESIGN_COPY","AUTO_SAVE","DESIGN_SAVE","ADD_TO_CART","UPDATE_DONE","DESIGN_HISTORY","DESIGN_APPROVAL","CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE"],i=["GUIDE_LINE_SETTING","PRINT_SAFETY_GUIDE","BORDER_IN_GROUP","LAYER_ORDER","PAGE_NUMBER","TEXT_FIND_AND_REPLACE","QUICK_EDIT_TOOL"],o=["LANGUAGE","THEME","HELP"],l=[...r,...i,...o],E={CREATE_NEW_DESIGN:"CREATE_NEW_DESIGN",CREATE_DESIGN_COPY:"CREATE_DESIGN_COPY",AUTO_SAVE:"AUTO_SAVE",DESIGN_HISTORY:"DESIGN_HISTORY",DESIGN_APPROVAL:"DESIGN_APPROVAL",CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE:"CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE",DESIGN_SAVE:"DESIGN_SAVE",ADD_TO_CART:"ADD_TO_CART",UPDATE_DONE:"UPDATE_DONE",GUIDE_LINE_SETTING:"GUIDE_LINE_SETTING",PRINT_SAFETY_GUIDE:"PRINT_SAFETY_GUIDE",BORDER_IN_GROUP:"BORDER_IN_GROUP",LAYER_ORDER:"LAYER_ORDER",PAGE_NUMBER:"PAGE_NUMBER",TEXT_FIND_AND_REPLACE:"TEXT_FIND_AND_REPLACE",QUICK_EDIT_TOOL:"QUICK_EDIT_TOOL",LANGUAGE:"LANGUAGE",THEME:"THEME",HELP:"HELP"},_={CREATE_NEW_DESIGN:"document_blank",CREATE_DESIGN_COPY:"copy",AUTO_SAVE:"save",DESIGN_HISTORY:"history",DESIGN_APPROVAL:"document_check_clock",CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE:"edit_underline",DESIGN_SAVE:"inbox",ADD_TO_CART:"cart",UPDATE_DONE:"check",GUIDE_LINE_SETTING:"ruler",PRINT_SAFETY_GUIDE:"crop",BORDER_IN_GROUP:"crop",LAYER_ORDER:"layer",PAGE_NUMBER:"memo",TEXT_FIND_AND_REPLACE:"search",QUICK_EDIT_TOOL:"setting",LANGUAGE:"text_change_case",THEME:"moon",HELP:"question_circle"},u={CREATE_NEW_DESIGN:"CREATE_NEW_DESIGN",CREATE_DESIGN_COPY:"CREATE_DESIGN_COPY",AUTO_SAVE:"AUTO_SAVE",DESIGN_HISTORY:"DESIGN_HISTORY",DESIGN_APPROVAL:"DESIGN_APPROVAL",CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE:"FEEDBACK",GUIDE_LINE_SETTING:"EDIT_GUIDELINE",PRINT_SAFETY_GUIDE:"PRINT_SAFETY_GUIDE",BORDER_IN_GROUP:"BORDER_IN_GROUP",LAYER_ORDER:void 0,PAGE_NUMBER:"PAGE_NUMBER",TEXT_FIND_AND_REPLACE:void 0,QUICK_EDIT_TOOL:void 0,LANGUAGE:"LANGUAGE",THEME:void 0,HELP:"HELP"},c={CREATE_NEW_DESIGN:"SHARED.POPUP.POPUP.MORE_MENU.NEW_DESIGN",CREATE_DESIGN_COPY:"EDITOR.HEADER_BAR.FILE.CREATE_DESIGN_COPY",AUTO_SAVE:"EDITOR.HEADER_BAR.SETTING.AUTO_SAVE",DESIGN_HISTORY:"EDITOR.EDITOR_201",DESIGN_APPROVAL:"EDITOR.HEADER_BAR.FILE.DRAFT_HISTORY",CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE:"EDITOR.EDITOR_330",DESIGN_SAVE:"EDITOR.HEADER_BAR.LABEL.SAVE",ADD_TO_CART:"EDITOR.HEADER_BAR.LABEL.ADD_TO_CART",UPDATE_DONE:"EDITOR.HEADER_BAR.FILE.UPDATE_DONE",GUIDE_LINE_SETTING:"EDITOR.EDITOR_213",PRINT_SAFETY_GUIDE:"EDITOR.HEADER_BAR.SETTING.PRINT_SAFETY_GUIDE",BORDER_IN_GROUP:"EDITOR.HEADER_BAR.SETTING.EDITOR_ENV.DISPLAY_BORDER_OF_ELEMENT_WITHIN_A_GROUP",LAYER_ORDER:"EDITOR.EDITOR_214",PAGE_NUMBER:"EDITOR.EDITOR_215",TEXT_FIND_AND_REPLACE:"SHARED.FIND_LABEL_FIND",QUICK_EDIT_TOOL:"EDITOR.EDITOR_223",LANGUAGE:"SHARED.COMMON_LABEL_LANGUAGE",THEME:"EDITOR.HEADER_BAR.SETTING.DARK_MODE",HELP:"EDITOR.HEADER_BAR.FILE.HELP_CENTER"},s={LAYER_ORDER:"TOGGLE_LAYER_PANEL",TEXT_FIND_AND_REPLACE:"FIND_TEXT"},a=["AUTO_SAVE","PRINT_SAFETY_GUIDE","BORDER_IN_GROUP","LAYER_ORDER","QUICK_EDIT_TOOL","THEME"],d={AUTO_SAVE:"is_auto_save_miricanvas",LAYER_ORDER:"is_layer_visible",QUICK_EDIT_TOOL:"is_floating_button_visible",THEME:"unicorn_theme"},I=["CREATE_NEW_DESIGN","CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE","GUIDE_LINE_SETTING","PAGE_NUMBER","LANGUAGE","CHANGE_EDITOR_MODE_TO_FEEDBACK_MODE","DESIGN_APPROVAL"]},71575:function(n,e,t){t.d(e,{z:function(){return d}});var r=t(85893),i=t(21713),o=t(87396),l=t(13821),E=t(4741),_=t(10179),u=t(69973),c=t(94460),s=t(6128);let a=n=>{let{getShortcut:e}=n,{publish:t}=(0,c.j)(),{updateEditorConfigKeyByUIStateIfLogin:r,isActiveConfig:i,isLogin:o}=(0,_.I)(),{sendNoParameterButtonClickEvent:l}=(0,u.P)(),{isMobileSize:a}=(0,s.N)(),{isGuidelineLock:d,setIsGuidelineLock:I,isGuidelineVisible:T,setIsGuidelineVisible:D,isRulerVisible:R,updateRulerVisible:A,isSnapGuideVisible:f,updateSnapGuideVisible:O}=(0,E.O)(),N=o?i("is_guideline_visible"):T,p=function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=n||!N;l("ACTION_CLICK_GUIDE_LINE_TOGGLE"),o&&r("is_guideline_visible",e),o||D(e),t("COMMAND_SET_GUIDELINE_VISIBILITY",{value:e})},x=o?i("is_guideline_lock"):d,C=()=>{o&&r("is_guideline_lock",!x),o||I(!x),l("ACTION_CLICK_GUIDE_LINE_LOCK_TOGGLE"),t("COMMAND_SET_GUIDELINE_LOCK",{value:!x})},h=()=>{t("COMMAND_ADD_GUIDELINE",{direction:"HORIZONTAL"}),p(!0),l("ACTION_CLICK_ROW_GUIDE_LINE_BUTTON")},g=()=>{t("COMMAND_ADD_GUIDELINE",{direction:"VERTICAL"}),p(!0),l("ACTION_CLICK_COLUMN_GUIDE_LINE_BUTTON")},G=()=>{t("COMMAND_DELETE_GUIDELINE_ALL",{}),l("ACTION_CLICK_GUIDE_LINE_RESET_BUTTON")},m=o?i("is_ruler_visible_miricanvas"):R,P=()=>{o&&r("is_ruler_visible_miricanvas",!m),o||A(!m),l("ACTION_CLICK_GUIDE_LINE_RULER_TOGGLE"),t("COMMAND_SET_RULER_VISIBILITY",{value:!m})},S=o?i("is_snap_guide_visible"):f,L=()=>{o&&r("is_snap_guide_visible",!S),o||O(!S),l("ACTION_CLICK_SNAP_GUIDE_TOGGLE"),t("COMMAND_SET_SNAPGUIDE_VISIBILITY",{value:!S})};return{isShowGuideLineActive:N,onClickShowGuideLine:p,isLockGuideLineActive:x,onClickLockGuideLine:C,onClickAddRowGuideLine:h,onClickAddColGuideLine:g,onClickResetGuideLine:G,isRulerActive:m,onClickShowRule:P,isSnapGuideActive:S,onClickShowSnapGuide:L,getShortcut:e,isMobileSize:a}},d=(0,l.RW)(a,n=>{let{isShowGuideLineActive:e,onClickShowGuideLine:t,isLockGuideLineActive:l,onClickLockGuideLine:E,onClickAddRowGuideLine:_,onClickAddColGuideLine:u,onClickResetGuideLine:c,isRulerActive:s,onClickShowRule:a,isSnapGuideActive:d,onClickShowSnapGuide:I,getShortcut:T,isMobileSize:D,translate:R}=n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.v,{type:"setting",menuName:R("EDITOR.EDITOR_216"),shortcutText:null==T?void 0:T("TOGGLE_GUIDE_LINE_VISIBLE"),selected:e,onClick:()=>t()}),(0,r.jsx)(i.v,{type:"setting",menuName:R("EDITOR.EDITOR_217"),shortcutText:null==T?void 0:T("TOGGLE_GUIDE_LINE_LOCK"),selected:l,onClick:()=>E()}),(0,r.jsx)(o.i,{}),(0,r.jsx)(i.v,{type:"menu",menuName:R("EDITOR.EDITOR_218"),selected:!1,onClick:()=>_()}),(0,r.jsx)(i.v,{type:"menu",menuName:R("EDITOR.EDITOR_219"),selected:!1,onClick:()=>u()}),(0,r.jsx)(i.v,{type:"menu",menuName:R("EDITOR.EDITOR_220"),selected:!1,onClick:()=>c()}),(0,r.jsx)(o.i,{}),!D&&(0,r.jsx)(i.v,{type:"setting",menuName:R("EDITOR.HEADER_BAR.SETTING.USE_RULER"),shortcutText:null==T?void 0:T("TOGGLE_RULERS"),selected:s,onClick:()=>a()}),(0,r.jsx)(i.v,{type:"setting",menuName:R("EDITOR.EDITOR_221"),selected:d,onClick:()=>I()})]})})},10823:function(n,e,t){t.d(e,{k:function(){return m}});var r=t(85893),i=t(21713),o=t(82860),l=t(13821),E=t(11163);t(76489);var _=t(47041),u=t(89702);t(8924);let c=()=>{(0,_.deleteCookie)(u.p9)};var s=t(14861),a=t(67294),d=t(32602);let I=()=>{let{setUserLanguageMutation:n}=(0,d.tE)(),e=(0,a.useCallback)(e=>{let{params:t,onSuccess:r,onError:i}=e;n.mutate({lang:t.lang},{onSuccess:()=>{null==r||r()},onError:()=>{null==i||i()}})},[n]);return{setUserLanguage:e}};var T=t(95135),D=t(15093),R=t(78126),A=t(51055),f=t(32678),O=t(65923),N=t(7297),p=t(88095),x=t(45861);function C(){let n=(0,N.Z)(["\n  color: ",";\n  text-align: center;\n  font: ",";\n"]);return C=function(){return n},n}let h=n=>{let{onClose:e,onConfirm:t}=n,{translate:i}=(0,T.$G)();return(0,r.jsx)(x.s,{title:i("EDITOR.EDITOR_747"),onClose:e,confirmText:i("EDITOR.EDITOR_373"),cancelText:i("EDITOR.REMAIN_356"),onConfirm:t,description:(0,r.jsx)(g,{children:i("EDITOR.EDITOR_748")})})},g=p.ZP.div.withConfig({componentId:"sc-209b23f-0"})(C(),n=>{let{theme:e}=n;return e.token.s_color_contents_sub},n=>{let{theme:e}=n;return e.token.s_typography_body_M}),G=()=>{let{currentLanguage:n}=(0,D.U)(),{isLogin:e}=(0,s.x)(),t=(0,o.vH)(),{setUserLanguage:r}=I(),{openSnackbar:i}=(0,R.D)(),{translate:l}=(0,T.$G)(),_=(0,E.useRouter)(),{openPopup:u,closePopup:a}=(0,A.B)(),{hasUnSavedDesignChanges:d}=(0,f.r)(),N=n=>{c(),r({params:{lang:n},onSuccess:()=>{if(e){window.location.reload();return}window.location.href=_.basePath+_.asPath.replace(/^\/[a-z]{2}\//,"/".concat(n,"/"))},onError:()=>{i({text:l("SHARED.REMAIN_214"),semantic:"error"})}})},p=n=>{if((0,O.gE)()&&d){u({component:h,props:{onClose:a,onConfirm:()=>N(n)}});return}N(n)};return{currentLanguage:n,serviceLanguageList:t,onClickLanguage:p}},m=(0,l.RW)(G,n=>{let{currentLanguage:e,serviceLanguageList:t,onClickLanguage:l}=n;return(0,r.jsx)(r.Fragment,{children:t.map(n=>(0,r.jsx)(i.v,{type:"menu",menuName:(0,o.PN)(n),selected:n===e,onClick:()=>l(n)},n))})})},14509:function(n,e,t){t.d(e,{a:function(){return G}});var r=t(7297),i=t(85893),o=t(88095),l=t(21713),E=t(87396),_=t(75355),u=t(7028),c=t(13821),s=t(67294),a=t(69973),d=t(94460);let I=()=>{let{publish:n}=(0,d.j)(),e=(0,s.useCallback)(e=>{let{...t}=e;n("COMMAND_SET_PAGE_NUMBER",{option:t})},[n]);return{changePageNumberOption:e}};var T=t(56316);let D=()=>{let{publish:n}=(0,d.j)(),{changePageNumberOption:e}=I(),{pageNumberOption:t,setPageNumberOption:r}=(0,T.Y)(),{sendNoParameterButtonClickEvent:i}=(0,a.P)();(0,s.useEffect)(()=>{n("COMMAND_GET_PAGE_NUMBER_OPTION",{},{onComplete:n=>{let{option:e}=n;r(e)}}),i("ACTION_CLICK_PAGE_NUMBER_BUTTON")},[n,i,r]);let o=(0,s.useCallback)(n=>{let{...o}=n,l={...t,...o};e(l),r(l),l.active&&i("ACTION_CLICK_PAGE_NUMBER_ACTIVE_BUTTON")},[e,t,i,r]);return{isPageNumberActive:t.active,pageNumberPosition:t.alignOption,isFirstPageSkip:t.skipFirstPage,pageStartNumber:t.startNumber,onChangePageNumberOption:o}};function R(){let n=(0,r.Z)(["\n  display: flex;\n  margin-top: 12px;\n  margin-bottom: 16px;\n  ",";\n"]);return R=function(){return n},n}function A(){let n=(0,r.Z)(["\n  ","\n  width: 72px;\n  height: 72px;\n  padding: 12px;\n  border-radius: 12px;\n  border: ",";\n"]);return A=function(){return n},n}function f(){let n=(0,r.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: ",";\n  background: ",";\n  color: ",";\n  width: 44px;\n  height: 48px;\n  border-radius: 8px;\n  padding: 8px;\n"]);return f=function(){return n},n}function O(){let n=(0,r.Z)(["\n  padding: 4px 12px;\n"]);return O=function(){return n},n}function N(){let n=(0,r.Z)(["\n  font: ",";\n  color: ",";\n"]);return N=function(){return n},n}function p(){let n=(0,r.Z)(["\n  height: 20px;\n"]);return p=function(){return n},n}function x(){let n=(0,r.Z)(["\n  ","\n  justify-content: space-between;\n  padding: 0px 12px;\n  margin-bottom: 8px;\n"]);return x=function(){return n},n}function C(){let n=(0,r.Z)(["\n  width: 78px;\n"]);return C=function(){return n},n}function h(){let n=(0,r.Z)(["\n  width: 100%;\n  padding: 0px 12px;\n"]);return h=function(){return n},n}let g=String(1),G=(0,c.RW)(D,n=>{let{isPageNumberActive:e,pageNumberPosition:t,isFirstPageSkip:r,pageStartNumber:o,onChangePageNumberOption:c,translate:s}=n;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.v,{type:"setting",menuName:s("EDITOR.HEADER_BAR.SETTING.USE_PAGE_NUMBER"),selected:e,onClick:()=>c({active:!e})}),e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w,{children:(0,i.jsx)(E.i,{})}),(0,i.jsxs)(L,{children:[(0,i.jsx)(v,{children:s("EDITOR.HEADER_BAR.SETTING.PAGE_NUMBER.POSITION")}),(0,i.jsxs)(m,{children:[(0,i.jsx)(P,{focus:"UP_RIGHT"===t,onClick:()=>c({alignOption:"UP_RIGHT"}),children:(0,i.jsx)(S,{position:"UP_RIGHT",focus:"UP_RIGHT"===t,children:"1"})}),(0,i.jsx)(P,{focus:"BOTTOM_RIGHT"===t,onClick:()=>c({alignOption:"BOTTOM_RIGHT"}),children:(0,i.jsx)(S,{position:"BOTTOM_RIGHT",focus:"BOTTOM_RIGHT"===t,children:"1"})})]}),(0,i.jsx)(U,{children:(0,i.jsx)(_.J,{state:r?"selected":"unselected",onChange:()=>c({skipFirstPage:!r}),text:s("EDITOR.EDITOR_222")})})]}),(0,i.jsx)(w,{children:(0,i.jsx)(E.i,{})}),(0,i.jsxs)(b,{children:[(0,i.jsx)(v,{children:s("EDITOR.HEADER_BAR.SETTING.PAGE_NUMBER.START_NUMBER")}),(0,i.jsx)(M,{children:(0,i.jsx)(u.U,{value:String(o),type:"number",onChangeValue:n=>c({startNumber:Number(n)}),onClear:()=>c({startNumber:void 0}),placeholder:g})})]})]})]})}),m=o.ZP.div.withConfig({componentId:"sc-a005ff5-0"})(R(),n=>{let{theme:e}=n;return e.mixin.flexColGap("8px")}),P=o.ZP.button.withConfig({componentId:"sc-a005ff5-1"})(A(),n=>{let{theme:e}=n;return e.mixin.flexboxRowCenter()},n=>{let{theme:e,focus:t}=n;return"1px solid ".concat(t?e.token.s_color_brand_primary_default:e.token.s_color_border_light)}),S=o.ZP.div.withConfig({componentId:"sc-a005ff5-2"})(f(),n=>{let{position:e}=n;return"UP_RIGHT"===e?"flex-start":"flex-end"},n=>{let{theme:e,focus:t}=n;return t?e.token.s_color_brand_primary_default:e.token.s_color_border_light},n=>{let{theme:e,focus:t}=n;return t?e.token.s_color_background_default:e.token.s_color_contents_default}),L=o.ZP.div.withConfig({componentId:"sc-a005ff5-3"})(O()),v=o.ZP.p.withConfig({componentId:"sc-a005ff5-4"})(N(),n=>{let{theme:e}=n;return e.token.s_typography_body_M},n=>{let{theme:e}=n;return e.token.s_color_contents_default}),U=o.ZP.div.withConfig({componentId:"sc-a005ff5-5"})(p()),b=o.ZP.div.withConfig({componentId:"sc-a005ff5-6"})(x(),n=>{let{theme:e}=n;return e.mixin.flexboxRowCenter()}),M=o.ZP.div.withConfig({componentId:"sc-a005ff5-7"})(C()),w=o.ZP.div.withConfig({componentId:"sc-a005ff5-8"})(h())},56316:function(n,e,t){t.d(e,{Y:function(){return l}});var r=t(15103),i=t(48583);let o=(0,r.cn)({active:!1,alignOption:"BOTTOM_RIGHT",skipFirstPage:!1,startNumber:1}),l=()=>{let[n,e]=(0,i.KO)(o);return{pageNumberOption:n,setPageNumberOption:e}}},47111:function(n,e,t){t.d(e,{W:function(){return D}});var r=t(67294),i=t(34371),o=t(52046),l=t(20676);let E=(n,e)=>{let{copyDesignHistoryMutation:t}=(0,l.z)(n,e),r=async n=>{let{params:e,onSuccess:r,onError:i}=n;t.mutate(e,{onSuccess:n=>{let{idx:e}=n.data,t=(0,o.kr)(e);window.open("/design/".concat(t)),null==r||r()},onError:()=>{null==i||i()}})};return{copyDesignHistory:r}};var _=t(75815),u=t(70094),c=t(14861),s=t(57512),a=t(44074),d=t(49471),I=t(6091),T=t(13821);let D=(n,e,t)=>{let{getThumbnailList:o}=(0,u.s)(),{canCopy:l}=(0,_.c)(),{copyDesignHistory:D}=E(n,e.designHistoryIdx),{selectedTeamIdx:R}=(0,c.x)(),[A,f]=(0,r.useState)(),{data:O}=(0,i.D)(null!=n?n:0,null!=R?R:0),{MOCK_MY_DRIVE:N}=(0,s.S)();(0,r.useLayoutEffect)(()=>{var n;O&&f(null!==(n=O.data.parentFolder)&&void 0!==n?n:N)},[O,N]);let{openUpgradePopup:p}=(0,d.B)(),{value:x,setFalse:C,toggle:h}=(0,T.kt)(!1),g=async()=>{var r,i;if(!l){C(),p({enterPoint:"DEFAULT",detailPath:a.E.ACTION_COPY_DESIGN_HISTORY_UPGRADE_POPUP});return}let E=(0,I.rD)(n,e.designHistoryIdx),_=o(E),u=_.map(n=>({thumbnail:n})),c={teamIdx:null!=R?R:0,teamScope:null!==(r=null==O?void 0:O.data.teamScope)&&void 0!==r?r:"INDIVIDUAL",folderIdx:null!==(i=null==A?void 0:A.id)&&void 0!==i?i:"0",pageList:u};D({params:c,onSuccess:t})};return{onClickCopy:g,isMakeCopyModalOpen:x,closeMakeCopyModal:C,toggleMakeCopyModal:h}}},85474:function(n,e,t){t.d(e,{f:function(){return s}});var r=t(67294),i=t(44691),o=t(70094),l=t(94460),E=t(51055),_=t(13821),u=t(65191),c=t(6091);let s=n=>{let{selectedHistory:e}=n,{isCachedKey:t,setThumbnailList:s}=(0,o.s)(),{publish:a}=(0,l.j)(),{designIdx:d}=(0,i.R)(),{value:I,setTrue:T,setFalse:D}=(0,_.kt)(),{openPopup:R,closePopup:A}=(0,E.B)();return(0,r.useEffect)(()=>{I?R({component:u.x,props:{isOpen:I,onClose:A}}):A()},[A,I,R]),(0,r.useEffect)(()=>{if(!e||I)return;let n=(0,c.rD)(d,e.designHistoryIdx);t(n)||(T(),a("COMMAND_GET_DESIGN_THUMBNAIL",{designIdx:d,designHistoryIdx:e.designHistoryIdx},{onComplete:e=>{let{pageThumbnails:t}=e;s(n,t),D()}}))},[d,t,I,a,e,D,T,s]),{}}},66370:function(n,e,t){t.d(e,{x:function(){return R}});var r=t(75815),i=t(20676),o=t(55629);let l=(n,e)=>{let t=(0,o.NL)(),{overwriteDesignWithDesignHistoryMutation:r}=(0,i.z)(n,e),l=n=>{let{params:e,onError:i,onSuccess:o}=n;r.mutate(e,{onSuccess:()=>{t.invalidateQueries(["getDesignHistoryListInfinite"]),null==o||o()},onError:()=>{null==i||i()}})};return{overwriteDesignHistory:l}};var E=t(70094),_=t(14861),u=t(95135),c=t(15093),s=t(94460),a=t(63697),d=t(49471),I=t(51055),T=t(6091),D=t(65191);let R=n=>{let{designIdx:e,selectedHistory:t,closeDesignHistory:i,onSuccessRestore:o}=n,{publish:R}=(0,s.j)(),{selectedTeamIdx:A}=(0,_.x)(),{currentLanguage:f}=(0,c.U)(),{translate:O}=(0,u.$G)(),{canRestore:N}=(0,r.c)(),{getThumbnailList:p}=(0,E.s)(),{overwriteDesignHistory:x}=l(e,t.designHistoryIdx),{openUpgradePopup:C}=(0,d.B)(),{openConfirmModal:h}=(0,a.t)(),{openPopup:g,closePopup:G}=(0,I.B)(),m=(n,e)=>{h({title:O("EDITOR.REMAIN_96"),description:O("EDITOR.EDITOR_384",{date:n}),confirmText:O("EDITOR.REMAIN_98"),cancelText:O("SHARED.POPUP.POPUP.NAMING_POPUP.ACTION.CANCEL"),onConfirm:e,type:"basic"})},P=()=>{g({component:D.x,props:{isOpen:!0,onClose:G}})},S=()=>{P();let n=(0,T.rD)(e,t.designHistoryIdx),r=p(n),l=r.map(n=>({thumbnail:n}));x({params:{pageList:l,teamIdx:A},onSuccess:()=>{R("COMMAND_LOAD_DESIGN",{designIdx:e},{onComplete:()=>{G(),i(),o()}})},onError:()=>{}})},L=n=>{if(!N){C({enterPoint:"DEFAULT",detailPath:n});return}let e=(0,T.OC)(t,f);m(e,S)};return{onClickRestore:L}}},65191:function(n,e,t){t.d(e,{x:function(){return a}});var r=t(7297),i=t(85893),o=t(88095),l=t(71210),E=t(63657),_=t(30115),u=t(95135);function c(){let n=(0,r.Z)(["\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: calc(100% - 40px);\n  max-width: 360px;\n\n  border-radius: 16px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.16);\n  background-color: ",";\n"]);return c=function(){return n},n}function s(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0px 40px 40px;\n\n  color: ",";\n  text-align: center;\n\n  font: ",";\n\n  ",";\n"]);return s=function(){return n},n}let a=n=>{let{isOpen:e,onClose:t}=n;return(0,i.jsx)(l.u,{closeModal:t,show:e,children:(0,i.jsxs)(d,{children:[(0,i.jsx)(E.x,{showClose:!0,onClickClose:t}),(0,i.jsxs)(I,{children:[(0,i.jsx)(_.$,{size:"M",color:"primary"}),(0,i.jsx)(u.cC,{i18nKey:"EDITOR.REMAIN_109"})]})]})})},d=o.ZP.div.withConfig({componentId:"sc-44263881-0"})(c(),n=>{let{theme:e}=n;return e.token.s_color_background_elevation02}),I=o.ZP.div.withConfig({componentId:"sc-44263881-1"})(s(),n=>{let{theme:e}=n;return e.token.s_color_contents_sub},n=>{let{theme:e}=n;return e.token.s_typography_body_M},n=>{let{theme:e}=n;return e.mixin.flexRowGap("24px")})},17991:function(n,e,t){t.d(e,{g:function(){return a}});var r=t(7297),i=t(85893),o=t(88095),l=t(21713),E=t(81818),_=t(13821),u=t(75815);let c=n=>{let{onClickRestore:e,onClickCopy:t,isMobile:r=!1}=n,{canCopy:i,canRestore:o}=(0,u.c)();return{canCopy:i,canRestore:o,onClickCopy:t,onClickRestore:e,isMobile:r}};function s(){let n=(0,r.Z)(["\n  width: ",";\n  max-width: 320px;\n  height: 96px;\n  padding: 8px;\n  border-radius: 16px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1 0 0;\n\n  background-color: ",";\n  box-shadow: ",";\n"]);return s=function(){return n},n}let a=(0,_.RW)(c,n=>{let{translate:e,canCopy:t,canRestore:r,onClickCopy:o,onClickRestore:_,isMobile:u}=n;return(0,i.jsxs)(d,{isMobile:u,children:[(0,i.jsx)(l.v,{type:"menu",menuName:e("EDITOR.HEADER_BAR.FILE.CREATE_DESIGN_COPY"),iconName:"copy",selected:!1,onClick:n=>o(n),proIconComponent:(0,i.jsx)(E.l,{type:"ghost",color:t?"premiumSilver":"premiumGold"})}),(0,i.jsx)(l.v,{type:"menu",menuName:e("EDITOR.REMAIN_90"),iconName:"history",selected:!1,onClick:n=>_(n),proIconComponent:(0,i.jsx)(E.l,{type:"ghost",color:r?"premiumSilver":"premiumGold"})})]})}),d=o.ZP.div.withConfig({componentId:"sc-c3a3e015-0"})(s(),n=>{let{isMobile:e}=n;return e?"calc(100vw - 40px)":"200px"},n=>{let{theme:e}=n;return e.token.s_color_background_default},n=>{let{theme:e}=n;return e.token.s_shadow_popover})},88251:function(n,e,t){t.d(e,{w:function(){return I}});var r=t(7297),i=t(85893),o=t(88095),l=t(79584),E=t(6302),_=t(19128),u=t(13821);let c=n=>{let{openSignInModal:e}=n,t=()=>{e()};return{onClickLoginButton:t}},s=(0,u.RW)(c,n=>{let{translate:e,onClickLoginButton:t}=n;return(0,i.jsx)(_.A,{onClick:t,size:"M",color:"primary",underline:"none",text:e("EDITOR.HEADER_BAR.FILE.DO_LOGIN")})});function a(){let n=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n"]);return a=function(){return n},n}function d(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-left: 12px;\n  width: 100%;\n\n  ",";\n"]);return d=function(){return n},n}let I=n=>{let{onClickResizeButton:e,profileSize:t="M",openSignInModal:r}=n;return(0,i.jsxs)(T,{children:[(0,i.jsx)(l.m,{type:"empty",size:t}),(0,i.jsxs)(D,{children:[(0,i.jsx)(s,{openSignInModal:r}),(0,i.jsx)(E.r,{onClick:e})]})]})},T=o.ZP.div.withConfig({componentId:"sc-48b1f7d9-0"})(a()),D=o.ZP.div.withConfig({componentId:"sc-48b1f7d9-1"})(d(),n=>{let{theme:e}=n;return e.mixin.flexRowGap("4px")})},68329:function(n,e,t){t.d(e,{x:function(){return O}});var r=t(7297),i=t(85893),o=t(88095),l=t(94771),E=t(78576),_=t(41045),u=t(13821),c=t(48065),s=t(69973),a=t(47875),d=t(63677);let I=n=>{let{onClickResizeButton:e,profileIconSize:t="M",inputWidth:r}=n,{sendNoParameterButtonClickEvent:i}=(0,s.P)(),{isWorkspaceEnabled:o}=(0,c.yZ)(["WORKSPACE"]),l=()=>{if(!o)return;i("ACTION_CLICK_WORKSPACE_MOVE_BUTTON");let n="".concat(location.origin).concat(a.H.DESIGN);location.href=n},E=(0,d.G)(l),_=()=>{i("ACTION_CLICK_MAIN_MENU_DESIGN_TITLE")};return{profileIconSize:t,inputWidth:r,onClickGoToWorkspace:E,onClickDesignTitle:_,onClickResizeButton:e,showGoToWorkspaceButton:o}};var T=t(6302);function D(){let n=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 16px;\n"]);return D=function(){return n},n}function R(){let n=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n"]);return R=function(){return n},n}function A(){let n=(0,r.Z)(["\n  margin-bottom: 4px;\n"]);return A=function(){return n},n}function f(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 12px;\n  width: 100%;\n"]);return f=function(){return n},n}let O=(0,u.RW)(I,n=>{let{profileIconSize:e,inputWidth:t,onClickGoToWorkspace:r,onClickDesignTitle:o,onClickResizeButton:u,translate:c,showGoToWorkspaceButton:s}=n;return(0,i.jsxs)(N,{children:[(0,i.jsxs)(p,{children:[(0,i.jsx)(E.I,{onClick:r,size:e}),(0,i.jsxs)(C,{children:[(0,i.jsx)(x,{children:(0,i.jsx)(_.v,{inputWidth:t,onFocusTitle:o})}),(0,i.jsx)(T.r,{onClick:u})]})]}),s&&(0,i.jsx)(l.zx,{type:"fillLight",widthType:"fill",leftIcon:"home",onClick:r,children:c("EDITOR.EDITOR_212")})]})}),N=o.ZP.div.withConfig({componentId:"sc-37c95ffa-0"})(D()),p=o.ZP.div.withConfig({componentId:"sc-37c95ffa-1"})(R()),x=o.ZP.div.withConfig({componentId:"sc-37c95ffa-2"})(A()),C=o.ZP.div.withConfig({componentId:"sc-37c95ffa-3"})(f())},6302:function(n,e,t){t.d(e,{r:function(){return T}});var r=t(7297),i=t(85893),o=t(88095),l=t(45369),E=t(13821),_=t(67294),u=t(37882),c=t(43293),s=t(27948);let a=n=>{let{onClick:e}=n,{currentTemplateType:t}=(0,u.L)(),{editorViewMode:r}=(0,s.$H)(),i=(0,c.H)(),o=(0,_.useMemo)(()=>t?{width:t.size.width,height:t.size.height,unit:t.unit.toLowerCase()}:void 0,[t]);return{onClick:e,pageSize:o,editorViewMode:r,isPrintoutEditor:i}};function d(){let n=(0,r.Z)([""]);return d=function(){return n},n}function I(){let n=(0,r.Z)(["\n  color: ",";\n  font: ",";\n"]);return I=function(){return n},n}let T=(0,E.RW)(a,n=>{let{onClick:e,pageSize:t,editorViewMode:r,isPrintoutEditor:o}=n;if(!t)return(0,i.jsx)(i.Fragment,{});let E="".concat(t.width).concat(t.unit," \xd7 ").concat(t.height).concat(t.unit);return(0,i.jsx)(D,{children:o?(0,i.jsx)(R,{children:E}):(0,i.jsx)(l.j,{size:"M",color:"neutralLight",underline:"none",iconName:"chevron_right",text:E,onClick:e,state:"DEFAULT"!==r?"disabled":"default"})})}),D=o.ZP.div.withConfig({componentId:"sc-ca3b5542-0"})(d()),R=o.ZP.span.withConfig({componentId:"sc-ca3b5542-1"})(I(),n=>{let{theme:e}=n;return e.token.c_textButton_color_contents_neutralLight_default},n=>{let{theme:e}=n;return e.token.c_commonButton_typography_M})},41045:function(n,e,t){t.d(e,{v:function(){return C}});var r=t(85893),i=t(7297),o=t(88095),l=t(54692),E=t(13821),_=t(6128);let u=n=>{let{value:e,placeholder:t,size:r="S",inputWidth:i,onChangeValue:o,onFocusOut:l,defaultDashed:u=!0,disabled:c=!1,maxLength:s,onFocusTitle:a}=n,{value:d,setTrue:I,setFalse:T}=(0,E.kt)(),{value:D,setTrue:R,setFalse:A}=(0,E.kt)(),{isMobileSize:f}=(0,_.N)(),O=()=>{I()},N=()=>{T()},p=n=>{n.target.select(),R(),null==a||a()},x=()=>{l(),A()},C=n=>{n.nativeEvent.isComposing||"Enter"!==n.key||n.currentTarget.blur()},h=n=>{n.preventDefault()};return{value:e,placeholder:t,showEditIcon:d&&!D||f,size:r,inputWidth:i,onChangeValue:o,onMouseEnter:O,onMouseLeave:N,onFocus:p,onBlur:x,onKeyDown:C,onMouseUp:h,showDashed:u&&(d||D)||f,disabled:c,maxLength:s,isMobileSize:f}};function c(){let n=(0,i.Z)(["\n  display: flex;\n  gap: 8px;\n  height: ",";\n\n  align-items: center;\n"]);return c=function(){return n},n}function s(){let n=(0,i.Z)(["\n  width: ",";\n\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  color: ",";\n\n  border: none;\n  border-bottom: ",";\n  box-sizing: border-box;\n  background-color: transparent;\n\n  text-overflow: ellipsis;\n\n  &:focus {\n    outline: none;\n    border-bottom: ",";\n  }\n  &::placeholder {\n    color: ",";\n    ",";\n  }\n"]);return s=function(){return n},n}let a=(0,E.RW)(u,n=>{let{value:e,placeholder:t,showEditIcon:i,size:o,inputWidth:E,onChangeValue:_,onMouseEnter:u,onMouseLeave:c,onFocus:s,onBlur:a,onKeyDown:T,onMouseUp:D,theme:R,showDashed:A,disabled:f,maxLength:O}=n;return(0,r.jsxs)(d,{size:o,onMouseEnter:u,onMouseLeave:c,children:[(0,r.jsx)(I,{disabled:f,width:E,value:e,placeholder:null!=t?t:"",onChange:n=>_(n.target.value),onFocus:s,onBlur:a,onMouseUp:D,onKeyDown:T,inputSize:o,showDashed:!f&&A,maxLength:O}),!f&&i&&(0,r.jsx)(l.J,{width:"20",height:"20",color:R.token.s_color_graphic_medium,iconName:"edit"})]})}),d=o.ZP.div.withConfig({componentId:"sc-c7483ab0-0"})(c(),n=>{let{size:e}=n;return"28px"}),I=o.ZP.input.withConfig({componentId:"sc-c7483ab0-1"})(s(),n=>{let{width:e}=n;return e?"".concat(e,"px"):"100%"},n=>{let{inputSize:e}=n;return"14px"},n=>{let{inputSize:e}=n;return"500"},n=>{let{inputSize:e}=n;return"146%"},n=>{let{theme:e}=n;return e.token.s_color_contents_sub},n=>{let{theme:e,showDashed:t}=n;return t&&"1px dashed ".concat(e.token.s_color_graphic_medium)},n=>{let{theme:e}=n;return"1px dashed ".concat(e.token.s_color_graphic_medium)},n=>{let{theme:e}=n;return e.token.s_color_contents_weak},n=>{let{theme:e}=n;return e.token.s_typography_label_medium_M});var T=t(94641),D=t(67294),R=t(34371),A=t(95417),f=t(44691),O=t(14861),N=t(27948),p=t(46699);let x=n=>{let{inputWidth:e,onFocusTitle:t}=n,{changeDesignTitle:r}=(0,A.V)(),{selectedTeamIdx:i}=(0,O.x)(),{designIdx:o}=(0,f.R)(),{data:l}=(0,R.D)(null!=o?o:0,null!=i?i:0),{editorViewMode:E}=(0,N.$H)(),[_,u]=(0,D.useState)("");(0,D.useLayoutEffect)(()=>{l&&u(l.data.title)},[l]);let c=(0,D.useCallback)(n=>{u(n)},[]),s=(0,D.useCallback)(()=>{if((0,p.ud)(_)||_===(null==l?void 0:l.data.title)){var n;u(null!==(n=null==l?void 0:l.data.title)&&void 0!==n?n:"");return}r(_)},[r,l,_]);return{onChange:c,onFocusOut:s,value:_,inputWidth:e,editorViewMode:E,onFocusTitle:t}},C=(0,E.RW)(x,n=>{let{translate:e,onChange:t,onFocusOut:i,inputWidth:o,value:l,editorViewMode:E,onFocusTitle:_}=n;return(0,r.jsx)(a,{inputWidth:o,value:l,placeholder:e("SHARED.REMAIN_54"),onChangeValue:t,onFocusOut:i,disabled:"DEFAULT"!==E,maxLength:T.B,onFocusTitle:_})})},67970:function(n,e,t){t.d(e,{a:function(){return o}});var r=t(67294),i=t(94460);let o=()=>{let{publish:n}=(0,i.j)(),e=(0,r.useCallback)(()=>{n("COMMAND_OPEN_TEXT_FINDER",{})},[n]);return{openTextFinder:e}}}}]);