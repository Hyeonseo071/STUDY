"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24613],{28735:function(n,t,e){e.d(t,{Z:function(){return c},f:function(){return i}});var u=e(15103),r=e(48583);let i=(0,u.cn)(void 0),c=()=>{let[n,t]=(0,r.KO)(i);return{latestHistoryIdx:n,setLatestHistoryIdx:t}}},67835:function(n,t,e){e.d(t,{$A:function(){return c},am:function(){return l},qH:function(){return o}});var u=e(733),r=e(55629),i=e(51497);let c=n=>(0,r.aM)({queryFn:()=>(0,u.getTeamInfomation)(n),queryKey:i.a.getTeamInfomation(n),options:{enabled:!!n}}),l=()=>{let n=(0,r.NL)(),t=t=>{if(t)return n.fetchQuery({queryKey:i.a.getTeamInfomation(t),queryFn:()=>(0,u.getTeamInfomation)(t)})};return{fetchTeam:t}},o=()=>{let n=(0,r.NL)(),t=t=>{if(t)return n.getQueryData(i.a.getTeamInfomation(t))};return{getTeamSnapshotValue:t}}},74745:function(n,t,e){e.d(t,{k:function(){return c},x:function(){return l}});var u=e(15103),r=e(48583);let i=(0,u.cn)(void 0),c=()=>(0,r.Dv)(i),l=()=>(0,r.b9)(i)},44578:function(n,t,e){e.d(t,{t:function(){return y}});var u=e(67294),r=e(94460);let i=()=>{let{publish:n}=(0,r.j)(),t=(0,u.useCallback)(function(t,e,u){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n("COMMAND_SAVE_DESIGN",{designSaveTrace:t,isAutoSaved:e,force:r},{onComplete:u})},[n]);return{callDesignSaveCommand:t}};var c=e(44691),l=e(28735),o=e(14861),f=e(29814),d=e(28863);let a=()=>{let{emit:n}=(0,d.x)(),t=(0,u.useCallback)((t,e)=>{n("ACTION_SAVE",{account_id:t,device_type:e})},[n]);return{sendSaveButtonClickEvent:t}};var v=e(97169),s=e(32678),g=e(34143),b=e(13821);let y=()=>{let{setDesignSaveStatus:n,hasUnSavedDesignChanges:t}=(0,s.r)(),{designKey:e,setDesignKey:r}=(0,c.R)(),{setLatestHistoryIdx:d}=(0,l.Z)(),{callDesignSaveCommand:y}=i(),{getIsLoginAsync:E,user:D}=(0,o.x)(),{sendSaveButtonClickEvent:I}=a(),A=(0,g.zi)(),[S,m]=(0,u.useState)(!1),[_,T]=(0,u.useState)(),{openSignInModal:K}=(0,v.N)(),k=(0,u.useCallback)(()=>{I(String(null==D?void 0:D.accountId),(0,f.l7)())},[I,null==D?void 0:D.accountId]),C=(0,u.useCallback)(async u=>{let{designSaveTrace:i,isAutoSaved:c,beforeDesignSaveCallback:l,onSuccess:o,onFail:f,onCancel:a}=u,v=await E(),s=n=>{let{isSuccess:t,successResult:e,failResult:u}=n;t&&(null==o||o(null==e?void 0:e.designKey,null==e?void 0:e.designHistoryIdx),(null==e?void 0:e.designKey)&&r(e.designKey),d(null==e?void 0:e.designHistoryIdx)),t||(console.error("저장 실패","failResult?.msg:".concat(null==u?void 0:u.msg)),null==f||f())};if(!v){K(),null==a||a();return}if(e&&!t){null==a||a();return}if(A){n("SAVE_WAIT"),m(!0),T({designSaveTrace:i,isAutoSaved:c,beforeDesignSaveCallback:l,onSuccess:(n,t)=>{null==o||o(n,t),m(!1),T(void 0)},onFail:f});return}null==l||l(),y(i,c,s,!1),k()},[K,y,e,E,t,A,k,r,n,d]);(0,b.rf)(()=>{if(S&&!A&&_){C(_);return}},[S,A,_,C,n]);let x=(0,u.useCallback)(async t=>{let{designSaveTrace:e,isAutoSaved:u,beforeDesignSaveCallback:i,onSuccess:c,onFail:l}=t,o=await E(),f=n=>{let{isSuccess:t,successResult:e,failResult:u}=n;t&&(null==c||c(null==e?void 0:e.designKey,null==e?void 0:e.designHistoryIdx),(null==e?void 0:e.designKey)&&r(e.designKey),d(null==e?void 0:e.designHistoryIdx),k()),t||(console.error("저장 실패","failResult?.msg:".concat(null==u?void 0:u.msg)),null==l||l())};if(!o){K();return}if(A){n("SAVE_WAIT"),m(!0),T({designSaveTrace:e,isAutoSaved:u,beforeDesignSaveCallback:i,onSuccess:c,onFail:l});return}null==i||i(),y(e,u,f,!0),k()},[E,A,y,d,k,r,K,n]);return{saveDesign:C,forceSaveDesign:x}}},32678:function(n,t,e){e.d(t,{r:function(){return g}});var u=e(15103),r=e(48583);let i=["DEFAULT","SAVE_COMPLETE"],c=["SAVE_REQUIRE","SAVE_WAIT","SAVE_REQUEST"],l=["SAVE_WAIT","SAVE_REQUEST"],o=(0,u.cn)("DEFAULT"),f=(0,u.cn)(n=>i.includes(n(o))),d=(0,u.cn)(n=>c.includes(n(o))),a=(0,u.cn)(n=>l.includes(n(o))),v=(0,u.cn)(!0),s=(0,u.cn)(!1),g=()=>{let[n,t]=(0,r.KO)(o),e=(0,r.Dv)(f),u=(0,r.Dv)(d),i=(0,r.Dv)(a),[c,l]=(0,r.KO)(v),[g,b]=(0,r.KO)(s);return{designSaveStatus:n,setDesignSaveStatus:t,isDesignUnchanged:e,hasUnSavedDesignChanges:u,isSaveInProgress:i,needHandleUnSavedDesignChanges:c,setNeedHandleUnSavedDesignChanges:l,ignoreUnsavedDesignChanges:g,setIgnoreUnsavedDesignChanges:b}}},34143:function(n,t,e){e.d(t,{$x:function(){return ne},CU:function(){return z},JD:function(){return F},Jy:function(){return W},KJ:function(){return Z},N3:function(){return w},NC:function(){return q},Pg:function(){return N},S9:function(){return O},TW:function(){return Q},X0:function(){return L},Xf:function(){return nt},cM:function(){return $},cN:function(){return j},cl:function(){return nu},fY:function(){return h},iL:function(){return k},ii:function(){return J},jE:function(){return P},lp:function(){return nn},mo:function(){return H},mx:function(){return x},n0:function(){return p},nW:function(){return K},nl:function(){return T},oc:function(){return U},q9:function(){return X},wR:function(){return C},yq:function(){return M},zi:function(){return Y}});var u=e(15103),r=e(48583),i=e(95495),c=e(98544);let l=(0,u.cn)("ALL"),o=(0,u.cn)(!1),f=(0,u.cn)([]),d=(0,u.cn)([]),a=(0,u.cn)([]),v=(0,u.cn)([]),s=(0,u.cn)({}),g=(0,u.cn)(n=>({isSelectMode:n(o),selectedFolderIdxList:n(f),selectedFileIdxList:n(d)})),b=(0,u.cn)(void 0),y=(0,u.cn)(0),E=(0,u.cn)(""),D=(0,u.cn)(!1),I=(0,u.cn)(void 0),A=(0,u.cn)(!1),S=(0,u.cn)(void 0),m=(0,u.cn)({fileKey:"",fileKind:""}),_=(0,u.cn)(void 0),T=()=>(0,r.Dv)(S),K=()=>(0,r.b9)(S),k=()=>(0,r.Dv)(A),C=()=>(0,r.b9)(A),x=()=>(0,r.Dv)(v),N=()=>(0,r.b9)(v),L=()=>(0,r.b9)(s),V=()=>(0,r.b9)(D),R=()=>(0,r.b9)(I),h=()=>(0,r.b9)(_),p=()=>(0,r.Dv)(_),q=()=>(0,r.b9)(o),M=()=>(0,r.b9)(f),O=()=>(0,r.b9)(d),F=()=>(0,r.Dv)(a),U=()=>(0,r.b9)(a),W=()=>(0,r.Dv)(l),w=()=>(0,r.b9)(l),H=()=>(0,r.Dv)(g),Q=()=>(0,r.Dv)(b),J=()=>(0,r.b9)(b),j=()=>(0,r.Dv)(y),z=()=>(0,r.b9)(y),P=()=>(0,r.Dv)(E),X=()=>(0,r.b9)(E),Z=()=>(0,r.Dv)(m),$=()=>(0,r.b9)(m),G=(0,i.kv)(v,n=>0!==n.length),Y=()=>(0,r.Dv)(G),B=(0,i.kv)(a,n=>0!==n.length),nn=()=>(0,r.Dv)(B),nt=()=>{let n=q(),t=M(),e=O(),u=V(),r=R(),i=U();return()=>{n(!1),t([]),e([]),u(!1),r(void 0),i([])}},ne=()=>(0,c.k)().get(E),nu=()=>(0,c.k)().get(l)}}]);